/*! For license information please see main.b9abd7ce.js.LICENSE.txt */
(()=>{var t={5513:(t,e,n)=>{"use strict";n.d(e,{A:()=>rt});var i=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(i){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),r=Math.abs,s=String.fromCharCode,o=Object.assign;function a(t){return t.trim()}function l(t,e,n){return t.replace(e,n)}function c(t,e){return t.indexOf(e)}function h(t,e){return 0|t.charCodeAt(e)}function d(t,e,n){return t.slice(e,n)}function u(t){return t.length}function p(t){return t.length}function f(t,e){return e.push(t),t}var g=1,m=1,v=0,y=0,x=0,_="";function b(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:g,column:m,length:o,return:""}}function w(t,e){return o(b("",null,null,"",null,null,0),t,{length:-t.length},e)}function A(){return x=y>0?h(_,--y):0,m--,10===x&&(m=1,g--),x}function S(){return x=y<v?h(_,y++):0,m++,10===x&&(m=1,g++),x}function C(){return h(_,y)}function E(){return y}function k(t,e){return d(_,t,e)}function T(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(t){return g=m=1,v=u(_=t),y=0,[]}function R(t){return _="",t}function I(t){return a(k(y-1,F(91===t?t+2:40===t?t+1:t)))}function M(t){for(;(x=C())&&x<33;)S();return T(t)>2||T(x)>3?"":" "}function B(t,e){for(;--e&&S()&&!(x<48||x>102||x>57&&x<65||x>70&&x<97););return k(t,E()+(e<6&&32==C()&&32==S()))}function F(t){for(;S();)switch(x){case t:return y;case 34:case 39:34!==t&&39!==t&&F(x);break;case 40:41===t&&F(t);break;case 92:S()}return y}function D(t,e){for(;S()&&t+x!==57&&(t+x!==84||47!==C()););return"/*"+k(e,y-1)+"*"+s(47===t?t:S())}function j(t){for(;!T(C());)S();return k(t,y)}var O="-ms-",L="-moz-",z="-webkit-",N="comm",U="rule",H="decl",W="@keyframes";function V(t,e){for(var n="",i=p(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function G(t,e,n,i){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case H:return t.return=t.return||t.value;case N:return"";case W:return t.return=t.value+"{"+V(t.children,i)+"}";case U:t.value=t.props.join(",")}return u(n=V(t.children,i))?t.return=t.value+"{"+n+"}":""}function q(t){return R(X("",null,null,null,[""],t=P(t),0,[0],t))}function X(t,e,n,i,r,o,a,d,p){for(var g=0,m=0,v=a,y=0,x=0,_=0,b=1,w=1,k=1,T=0,P="",R=r,F=o,O=i,L=P;w;)switch(_=T,T=S()){case 40:if(108!=_&&58==h(L,v-1)){-1!=c(L+=l(I(T),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:L+=I(T);break;case 9:case 10:case 13:case 32:L+=M(_);break;case 92:L+=B(E()-1,7);continue;case 47:switch(C()){case 42:case 47:f(K(D(S(),E()),e,n),p);break;default:L+="/"}break;case 123*b:d[g++]=u(L)*k;case 125*b:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+m:-1==k&&(L=l(L,/\f/g,"")),x>0&&u(L)-v&&f(x>32?Y(L+";",i,n,v-1):Y(l(L," ","")+";",i,n,v-2),p);break;case 59:L+=";";default:if(f(O=Q(L,e,n,g,m,r,d,P,R=[],F=[],v),o),123===T)if(0===m)X(L,e,O,O,R,o,v,d,F);else switch(99===y&&110===h(L,3)?100:y){case 100:case 108:case 109:case 115:X(t,O,O,i&&f(Q(t,O,O,0,0,r,d,P,r,R=[],v),F),r,F,v,d,i?R:F);break;default:X(L,O,O,O,[""],F,0,d,F)}}g=m=x=0,b=k=1,P=L="",v=a;break;case 58:v=1+u(L),x=_;default:if(b<1)if(123==T)--b;else if(125==T&&0==b++&&125==A())continue;switch(L+=s(T),T*b){case 38:k=m>0?1:(L+="\f",-1);break;case 44:d[g++]=(u(L)-1)*k,k=1;break;case 64:45===C()&&(L+=I(S())),y=C(),m=v=u(P=L+=j(E())),T++;break;case 45:45===_&&2==u(L)&&(b=0)}}return o}function Q(t,e,n,i,s,o,c,h,u,f,g){for(var m=s-1,v=0===s?o:[""],y=p(v),x=0,_=0,w=0;x<i;++x)for(var A=0,S=d(t,m+1,m=r(_=c[x])),C=t;A<y;++A)(C=a(_>0?v[A]+" "+S:l(S,/&\f/g,v[A])))&&(u[w++]=C);return b(t,e,n,0===s?U:h,u,f,g)}function K(t,e,n){return b(t,e,n,N,s(x),d(t,2,-2),0)}function Y(t,e,n,i){return b(t,e,n,H,d(t,0,i),d(t,i+1,-1),i)}var Z=function(t,e,n){for(var i=0,r=0;i=r,r=C(),38===i&&12===r&&(e[n]=1),!T(r);)S();return k(t,y)},J=function(t,e){return R(function(t,e){var n=-1,i=44;do{switch(T(i)){case 0:38===i&&12===C()&&(e[n]=1),t[n]+=Z(y-1,e,n);break;case 2:t[n]+=I(i);break;case 4:if(44===i){t[++n]=58===C()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=s(i)}}while(i=S());return t}(P(t),e))},$=new WeakMap,tt=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||$.get(n))&&!i){$.set(t,!0);for(var r=[],s=J(e,r),o=n.props,a=0,l=0;a<s.length;a++)for(var c=0;c<o.length;c++,l++)t.props[l]=r[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function nt(t,e){switch(function(t,e){return 45^h(t,0)?(((e<<2^h(t,0))<<2^h(t,1))<<2^h(t,2))<<2^h(t,3):0}(t,e)){case 5103:return z+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return z+t+L+t+O+t+t;case 6828:case 4268:return z+t+O+t+t;case 6165:return z+t+O+"flex-"+t+t;case 5187:return z+t+l(t,/(\w+).+(:[^]+)/,z+"box-$1$2"+O+"flex-$1$2")+t;case 5443:return z+t+O+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return z+t+O+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return z+t+O+l(t,"shrink","negative")+t;case 5292:return z+t+O+l(t,"basis","preferred-size")+t;case 6060:return z+"box-"+l(t,"-grow","")+z+t+O+l(t,"grow","positive")+t;case 4554:return z+l(t,/([^-])(transform)/g,"$1"+z+"$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+O+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,z+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(u(t)-1-e>6)switch(h(t,e+1)){case 109:if(45!==h(t,e+4))break;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+L+(108==h(t,e+3)?"$3":"$2-$3"))+t;case 115:return~c(t,"stretch")?nt(l(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==h(t,e+1))break;case 6444:switch(h(t,u(t)-3-(~c(t,"!important")&&10))){case 107:return l(t,":",":"+z)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===h(t,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+O+"$2box$3")+t}break;case 5936:switch(h(t,e+11)){case 114:return z+t+O+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return z+t+O+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return z+t+O+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return z+t+O+t+t}return t}var it=[function(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case H:t.return=nt(t.value,t.length);break;case W:return V([w(t,{value:l(t.value,"@","@"+z)})],i);case U:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([w(t,{props:[l(e,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return V([w(t,{props:[l(e,/:(plac\w+)/,":"+z+"input-$1")]}),w(t,{props:[l(e,/:(plac\w+)/,":-moz-$1")]}),w(t,{props:[l(e,/:(plac\w+)/,O+"input-$1")]})],i)}return""}))}}],rt=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r=t.stylisPlugins||it;var s,o,a={},l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;l.push(t)}));var c,h,d=[G,(h=function(t){c.insert(t)},function(t){t.root||(t=t.return)&&h(t)})],u=function(t){var e=p(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}([tt,et].concat(r,d));o=function(t,e,n,i){c=n,V(q(t?t+"{"+e.styles+"}":e.styles),u),i&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new i({key:e,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(l),f}},918:(t,e,n)=>{"use strict";function i(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}n.d(e,{A:()=>i})},5756:(t,e,n)=>{"use strict";n.d(e,{C:()=>a,T:()=>c,i:()=>s,w:()=>l});var i=n(5043),r=n(5513),s=(n(2830),n(9436),!0),o=i.createContext("undefined"!==typeof HTMLElement?(0,r.A)({key:"css"}):null);var a=o.Provider,l=function(t){return(0,i.forwardRef)((function(e,n){var r=(0,i.useContext)(o);return t(e,r,n)}))};s||(l=function(t){return function(e){var n=(0,i.useContext)(o);return null===n?(n=(0,r.A)({key:"css"}),i.createElement(o.Provider,{value:n},t(e,n))):t(e,n)}});var c=i.createContext({})},3290:(t,e,n)=>{"use strict";n.d(e,{AH:()=>c,i7:()=>h,mL:()=>l});var i=n(5756),r=n(5043),s=n(1722),o=n(9436),a=n(2830),l=(n(5513),n(219),(0,i.w)((function(t,e){var n=t.styles,l=(0,a.J)([n],void 0,r.useContext(i.T));if(!i.i){for(var c,h=l.name,d=l.styles,u=l.next;void 0!==u;)h+=" "+u.name,d+=u.styles,u=u.next;var p=!0===e.compat,f=e.insert("",{name:h,styles:d},e.sheet,p);return p?null:r.createElement("style",((c={})["data-emotion"]=e.key+"-global "+h,c.dangerouslySetInnerHTML={__html:f},c.nonce=e.sheet.nonce,c))}var g=r.useRef();return(0,o.i)((function(){var t=e.key+"-global",n=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),i=!1,r=document.querySelector('style[data-emotion="'+t+" "+l.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==r&&(i=!0,r.setAttribute("data-emotion",t),n.hydrate([r])),g.current=[n,i],function(){n.flush()}}),[e]),(0,o.i)((function(){var t=g.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==l.next&&(0,s.sk)(e,l.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}e.insert("",l,n,!1)}}),[e,l.name]),null})));function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.J)(e)}var h=function(){var t=c.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(t,e,n)=>{"use strict";n.d(e,{J:()=>f});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r=n(918),s=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(t){return 45===t.charCodeAt(1)},l=function(t){return null!=t&&"boolean"!==typeof t},c=(0,r.A)((function(t){return a(t)?t:t.replace(s,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(o,(function(t,e,n){return u={name:e,styles:n,next:u},e}))}return 1===i[t]||a(t)||"number"!==typeof e||0===e?e:e+"px"};function d(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return u={name:n.name,styles:n.styles,next:u},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)u={name:i.name,styles:i.styles,next:u},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=d(t,e,n[r])+";";else for(var s in n){var o=n[s];if("object"!==typeof o)null!=e&&void 0!==e[o]?i+=s+"{"+e[o]+"}":l(o)&&(i+=c(s)+":"+h(s,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=e&&void 0!==e[o[0]]){var a=d(t,e,o);switch(s){case"animation":case"animationName":i+=c(s)+":"+a+";";break;default:i+=s+"{"+a+"}"}}else for(var u=0;u<o.length;u++)l(o[u])&&(i+=c(s)+":"+h(s,o[u])+";")}return i}(t,e,n);case"function":if(void 0!==t){var r=u,s=n(t);return u=r,d(t,e,s)}}if(null==e)return n;var o=e[n];return void 0!==o?o:n}var u,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var f=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,r="";u=void 0;var s=t[0];null==s||void 0===s.raw?(i=!1,r+=d(n,e,s)):r+=s[0];for(var o=1;o<t.length;o++)r+=d(n,e,t[o]),i&&(r+=s[o]);p.lastIndex=0;for(var a,l="";null!==(a=p.exec(r));)l+="-"+a[1];var c=function(t){for(var e,n=0,i=0,r=t.length;r>=4;++i,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:u}}},9436:(t,e,n)=>{"use strict";var i;n.d(e,{i:()=>a,s:()=>o});var r=n(5043),s=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,o=s||function(t){return t()},a=s||r.useLayoutEffect},1722:(t,e,n)=>{"use strict";n.d(e,{Rk:()=>i,SF:()=>r,sk:()=>s});function i(t,e,n){var i="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):i+=n+" "})),i}var r=function(t,e,n){var i=t.key+"-"+e.name;!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles)},s=function(t,e,n){r(t,e,n);var i=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var s=e;do{t.insert(e===s?"."+i:"",s,t.sheet,!0),s=s.next}while(void 0!==s)}}},9089:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},4992:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle")},5540:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},6325:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},1702:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},5678:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},8864:(t,e,n)=>{"use strict";var i=n(4994);e.A=void 0;var r=i(n(39)),s=n(579);e.A=(0,r.default)((0,s.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort")},39:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(4962)},8279:(t,e,n)=>{"use strict";n.d(e,{A:()=>z});var i=n(8168),r=n(8587),s=n(6632),o=n(3216),a=n(7758),l=n(8812),c=n(8280);var h=n(7266);const d={black:"#000",white:"#fff"},u={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},x=["mode","contrastThreshold","tonalOffset"],_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(t,e,n,i){const r=i.light||i,s=i.dark||1.5*i;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,h.a)(t.main,r):"dark"===e&&(t.dark=(0,h.e$)(t.main,s)))}function A(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2}=t,l=(0,r.A)(t,x),c=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(e),A=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(e),S=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(e),C=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(e),E=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(e),k=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(e);function T(t){return(0,h.eM)(t,b.text.primary)>=n?b.text.primary:_.text.primary}const P=t=>{let{color:e,name:n,mainShade:r=500,lightShade:o=300,darkShade:l=700}=t;if(e=(0,i.A)({},e),!e.main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw new Error((0,s.A)(11,n?" (".concat(n,")"):"",r));if("string"!==typeof e.main)throw new Error((0,s.A)(12,n?" (".concat(n,")"):"",JSON.stringify(e.main)));return w(e,"light",o,a),w(e,"dark",l,a),e.contrastText||(e.contrastText=T(e.main)),e},R={dark:b,light:_};return(0,o.A)((0,i.A)({common:(0,i.A)({},d),mode:e,primary:P({color:c,name:"primary"}),secondary:P({color:A,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:S,name:"error"}),warning:P({color:k,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:E,name:"success"}),grey:u,contrastThreshold:n,getContrastText:T,augmentColor:P,tonalOffset:a},R[e]),l)}const S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function k(t,e){const n="function"===typeof e?e(t):e,{fontFamily:s=E,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:h=500,fontWeightBold:d=700,htmlFontSize:u=16,allVariants:p,pxToRem:f}=n,g=(0,r.A)(n,S);const m=a/14,v=f||(t=>"".concat(t/u*m,"rem")),y=(t,e,n,r,o)=>{return(0,i.A)({fontFamily:s,fontWeight:t,fontSize:v(e),lineHeight:n},s===E?{letterSpacing:"".concat((a=r/e,Math.round(1e5*a)/1e5),"em")}:{},o,p);var a},x={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(h,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(h,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(h,14,1.75,.4,C),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.A)((0,i.A)({htmlFontSize:u,pxToRem:v,fontFamily:s,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:h,fontWeightBold:d},x),g,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const P=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],I={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function B(t){return"".concat(Math.round(t),"ms")}function F(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function D(t){const e=(0,i.A)({},I,t.easing),n=(0,i.A)({},M,t.duration);return(0,i.A)({getAutoHeightDuration:F,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:o=e.easeInOut,delay:a=0}=i;(0,r.A)(i,R);return(Array.isArray(t)?t:[t]).map((t=>"".concat(t," ").concat("string"===typeof s?s:B(s)," ").concat(o," ").concat("string"===typeof a?a:B(a)))).join(",")}},t,{easing:e,duration:n})}const j={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},O=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function L(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:e={},palette:n={},transitions:h={},typography:d={}}=t,u=(0,r.A)(t,O);if(t.vars)throw new Error((0,s.A)(18));const p=A(n),f=(0,c.A)(t);let g=(0,o.A)(f,{mixins:(m=f.breakpoints,v=e,(0,i.A)({toolbar:{minHeight:56,[m.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[m.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:P.slice(),typography:k(p,d),transitions:D(h),zIndex:(0,i.A)({},j)});var m,v;g=(0,o.A)(g,u);for(var y=arguments.length,x=new Array(y>1?y-1:0),_=1;_<y;_++)x[_-1]=arguments[_];return g=x.reduce(((t,e)=>(0,o.A)(t,e)),g),g.unstable_sxConfig=(0,i.A)({},a.A,null==u?void 0:u.unstable_sxConfig),g.unstable_sx=function(t){return(0,l.A)({sx:t,theme:this})},g}const z=L},5170:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=(0,n(8279).A)()},3375:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i="$$material"},1475:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(7123);const r=t=>(0,i.A)(t)&&"classes"!==t},7123:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}},4535:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>a});var i=n(8052),r=n(5170),s=n(3375),o=n(1475);const a=(0,i.Ay)({themeId:s.A,defaultTheme:r.A,rootShouldForwardProp:o.A})},2876:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(2919),r=n(5170),s=n(3375);function o(t){let{props:e,name:n}=t;return(0,i.A)({props:e,name:n,defaultTheme:r.A,themeId:s.A})}},6803:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(410).A},9662:(t,e,n)=>{"use strict";n.d(e,{A:()=>x});var i=n(8168),r=n(5043),s=n(8587),o=n(8387),a=n(8606),l=n(6803),c=n(2876),h=n(4535),d=n(7056),u=n(2400);function p(t){return(0,u.Ay)("MuiSvgIcon",t)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(579);const g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,h.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e["color".concat((0,l.A)(n.color))],e["fontSize".concat((0,l.A)(n.fontSize))]]}})((t=>{let{theme:e,ownerState:n}=t;var i,r,s,o,a,l,c,h,d,u,p,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(i=e.transitions)||null==(r=i.create)?void 0:r.call(i,"fill",{duration:null==(s=e.transitions)||null==(s=s.duration)?void 0:s.shorter}),fontSize:{inherit:"inherit",small:(null==(o=e.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(l=e.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(h=e.typography)||null==(d=h.pxToRem)?void 0:d.call(h,35))||"2.1875rem"}[n.fontSize],color:null!=(u=null==(p=(e.vars||e).palette)||null==(p=p[n.color])?void 0:p.main)?u:{action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(g=(e.vars||e).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0}[n.color]}})),v=r.forwardRef((function(t,e){const n=(0,c.A)({props:t,name:"MuiSvgIcon"}),{children:h,className:d,color:u="inherit",component:v="svg",fontSize:y="medium",htmlColor:x,inheritViewBox:_=!1,titleAccess:b,viewBox:w="0 0 24 24"}=n,A=(0,s.A)(n,g),S=r.isValidElement(h)&&"svg"===h.type,C=(0,i.A)({},n,{color:u,component:v,fontSize:y,instanceFontSize:t.fontSize,inheritViewBox:_,viewBox:w,hasSvgAsChild:S}),E={};_||(E.viewBox=w);const k=(t=>{const{color:e,fontSize:n,classes:i}=t,r={root:["root","inherit"!==e&&"color".concat((0,l.A)(e)),"fontSize".concat((0,l.A)(n))]};return(0,a.A)(r,p,i)})(C);return(0,f.jsxs)(m,(0,i.A)({as:v,className:(0,o.A)(k.root,d),focusable:"false",color:x,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:e},E,A,S&&h.props,{ownerState:C,children:[S?h.props.children:h,b?(0,f.jsx)("title",{children:b}):null]}))}));v.muiName="SvgIcon";const y=v;function x(t,e){function n(n,r){return(0,f.jsx)(y,(0,i.A)({"data-testid":"".concat(e,"Icon"),ref:r},n,{children:t}))}return n.muiName=y.muiName,r.memo(r.forwardRef(n))}},950:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(6440).A},4962:(t,e,n)=>{"use strict";n.r(e),n.d(e,{capitalize:()=>r.A,createChainedFunction:()=>s,createSvgIcon:()=>o.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>h.A,ownerWindow:()=>d.A,requirePropFactory:()=>u,setRef:()=>p,unstable_ClassNameGenerator:()=>b,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>g,unsupportedProp:()=>m,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>x.A,useIsFocusVisible:()=>_.A});var i=n(5430),r=n(6803);const s=n(4708).A;var o=n(9662),a=n(950);const l=function(t,e){return()=>null};var c=n(154),h=n(2427),d=n(6078);n(8168);const u=function(t,e){return()=>null};const p=n(9184).A;var f=n(5013);const g=n(992).A;const m=function(t,e,n,i,r){return null};var v=n(4516),y=n(3319),x=n(5849),_=n(7844);const b={configure:t=>{i.A.configure(t)}}},154:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(5043);const r=function(t,e){var n,r;return i.isValidElement(t)&&-1!==e.indexOf(null!=(n=t.type.muiName)?n:null==(r=t.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}},2427:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(2144).A},6078:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(6288).A},4516:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(1944).A},5013:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(3844).A},3319:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(4626).A},5849:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(7042).A},7844:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=n(932).A},869:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});n(5043);var i=n(3290),r=n(579);function s(t){const{styles:e,defaultTheme:n={}}=t,s="function"===typeof e?t=>{return e(void 0===(i=t)||null===i||0===Object.keys(i).length?n:t);var i}:e;return(0,r.jsx)(i.mL,{styles:s})}},3174:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GlobalStyles:()=>A.A,StyledEngineProvider:()=>w,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>S,internal_processStyles:()=>C,keyframes:()=>y.i7});var i=n(8168),r=n(5043),s=n(918),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,s.A)((function(t){return o.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),l=n(5756),c=n(1722),h=n(2830),d=n(9436),u=a,p=function(t){return"theme"!==t},f=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?u:p},g=function(t,e,n){var i;if(e){var r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?function(e){return t.__emotion_forwardProp(e)&&r(e)}:r}return"function"!==typeof i&&n&&(i=t.__emotion_forwardProp),i},m=function(t){var e=t.cache,n=t.serialized,i=t.isStringTag;return(0,c.SF)(e,n,i),(0,d.s)((function(){return(0,c.sk)(e,n,i)})),null},v=function t(e,n){var s,o,a=e.__emotion_real===e,d=a&&e.__emotion_base||e;void 0!==n&&(s=n.label,o=n.target);var u=g(e,n,a),p=u||f(d),v=!p("as");return function(){var y=arguments,x=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==s&&x.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)x.push.apply(x,y);else{0,x.push(y[0][0]);for(var _=y.length,b=1;b<_;b++)x.push(y[b],y[0][b])}var w=(0,l.w)((function(t,e,n){var i=v&&t.as||d,s="",a=[],g=t;if(null==t.theme){for(var y in g={},t)g[y]=t[y];g.theme=r.useContext(l.T)}"string"===typeof t.className?s=(0,c.Rk)(e.registered,a,t.className):null!=t.className&&(s=t.className+" ");var _=(0,h.J)(x.concat(a),e.registered,g);s+=e.key+"-"+_.name,void 0!==o&&(s+=" "+o);var b=v&&void 0===u?f(i):p,w={};for(var A in t)v&&"as"===A||b(A)&&(w[A]=t[A]);return w.className=s,w.ref=n,r.createElement(r.Fragment,null,r.createElement(m,{cache:e,serialized:_,isStringTag:"string"===typeof i}),r.createElement(i,w))}));return w.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=d,w.__emotion_styles=x,w.__emotion_forwardProp=u,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(e,r){return t(e,(0,i.A)({},n,r,{shouldForwardProp:g(w,r,!0)})).apply(void 0,x)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){v[t]=v(t)}));var y=n(3290),x=n(5513),_=n(579);let b;function w(t){const{injectFirst:e,children:n}=t;return e&&b?(0,_.jsx)(l.C,{value:b,children:n}):n}"object"===typeof document&&(b=(0,x.A)({key:"css",prepend:!0}));var A=n(869);function S(t,e){return v(t,e)}const C=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}},7266:(t,e,n)=>{"use strict";var i=n(4994);e.X4=p,e.e$=f,e.eM=function(t,e){const n=u(t),i=u(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},e.a=g;var r=i(n(7245)),s=i(n(5383));function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,s.default)(t,e,n)}function a(t){t=t.slice(1);const e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", "),")"):""}function l(t){if(t.type)return t;if("#"===t.charAt(0))return l(a(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.default)(9,t));let i,s=t.substring(e+1,t.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.default)(10,i))}else s=s.split(",");return s=s.map((t=>parseFloat(t))),{type:n,values:s,colorSpace:i}}const c=t=>{const e=l(t);return e.values.slice(0,3).map(((t,n)=>-1!==e.type.indexOf("hsl")&&0!==n?"".concat(t,"%"):t)).join(" ")};function h(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return-1!==e.indexOf("rgb")?i=i.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==e.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(e,"(").concat(i,")")}function d(t){t=l(t);const{values:e}=t,n=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return r-s*Math.max(Math.min(e-3,9-e,1),-1)};let a="rgb";const c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===t.type&&(a+="a",c.push(e[3])),h({type:a,values:c})}function u(t){let e="hsl"===(t=l(t)).type||"hsla"===t.type?l(d(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function p(t,e){return t=l(t),e=o(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,h(t)}function f(t,e){if(t=l(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return h(t)}function g(t,e){if(t=l(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return h(t)}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(t)>.5?f(t,e):g(t,e)}},8052:(t,e,n)=>{"use strict";var i=n(4994);e.Ay=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:n=g,rootShouldForwardProp:i=f,slotShouldForwardProp:l=f}=t,h=t=>(0,c.default)((0,r.default)({},t,{theme:v((0,r.default)({},t,{defaultTheme:n,themeId:e}))}));return h.__mui_systemSx=!0,function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:g,skipSx:_,overridesResolver:b=y(m(p))}=c,w=(0,s.default)(c,u),A=void 0!==g?g:p&&"Root"!==p&&"root"!==p||!1,S=_||!1;let C=f;"Root"===p||"root"===p?C=i:p?C=l:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(C=void 0);const E=(0,o.default)(t,(0,r.default)({shouldForwardProp:C,label:undefined},w)),k=t=>"function"===typeof t&&t.__emotion_real!==t||(0,a.isPlainObject)(t)?i=>x(t,(0,r.default)({},i,{theme:v({theme:i.theme,defaultTheme:n,themeId:e})})):t,T=function(i){let s=k(i);for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=a?a.map(k):[];d&&b&&c.push((t=>{const i=v((0,r.default)({},t,{defaultTheme:n,themeId:e}));if(!i.components||!i.components[d]||!i.components[d].styleOverrides)return null;const s=i.components[d].styleOverrides,o={};return Object.entries(s).forEach((e=>{let[n,s]=e;o[n]=x(s,(0,r.default)({},t,{theme:i}))})),b(t,o)})),d&&!A&&c.push((t=>{var i;const s=v((0,r.default)({},t,{defaultTheme:n,themeId:e}));return x({variants:null==s||null==(i=s.components)||null==(i=i[d])?void 0:i.variants},(0,r.default)({},t,{theme:s}))})),S||c.push(h);const u=c.length-a.length;if(Array.isArray(i)&&u>0){const t=new Array(u).fill("");s=[...i,...t],s.raw=[...i.raw,...t]}const p=E(s,...c);return t.muiName&&(p.muiName=t.muiName),p};return E.withConfig&&(T.withConfig=E.withConfig),T}};var r=i(n(4634)),s=i(n(4893)),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(3174)),a=n(4534),l=(i(n(578)),i(n(2046)),i(n(4989))),c=i(n(3234));const h=["ownerState"],d=["variants"],u=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}function f(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const g=(0,l.default)(),m=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function v(t){let{defaultTheme:e,theme:n,themeId:i}=t;return r=n,0===Object.keys(r).length?e:n[i]||n;var r}function y(t){return t?(e,n)=>n[t]:null}function x(t,e){let{ownerState:n}=e,i=(0,s.default)(e,h);const o="function"===typeof t?t((0,r.default)({ownerState:n},i)):t;if(Array.isArray(o))return o.flatMap((t=>x(t,(0,r.default)({ownerState:n},i))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:t=[]}=o;let e=(0,s.default)(o,d);return t.forEach((t=>{let s=!0;"function"===typeof t.props?s=t.props((0,r.default)({ownerState:n},i,n)):Object.keys(t.props).forEach((e=>{(null==n?void 0:n[e])!==t.props[e]&&i[e]!==t.props[e]&&(s=!1)})),s&&(Array.isArray(e)||(e=[e]),e.push("function"===typeof t.style?t.style((0,r.default)({ownerState:n},i,n)):t.style))})),e}return o}},9751:(t,e,n)=>{"use strict";n.d(e,{EU:()=>a,NI:()=>o,iZ:()=>c,kW:()=>h,vf:()=>l,zu:()=>r});var i=n(3216);const r={xs:0,sm:600,md:900,lg:1200,xl:1536},s={keys:["xs","sm","md","lg","xl"],up:t=>"@media (min-width:".concat(r[t],"px)")};function o(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const t=i.breakpoints||s;return e.reduce(((i,r,s)=>(i[t.up(t.keys[s])]=n(e[s]),i)),{})}if("object"===typeof e){const t=i.breakpoints||s;return Object.keys(e).reduce(((i,s)=>{if(-1!==Object.keys(t.values||r).indexOf(s)){i[t.up(s)]=n(e[s],s)}else{const t=s;i[t]=e[t]}return i}),{})}return n(e)}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e;return(null==(e=t.keys)?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function l(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}function c(t){const e=a(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const o=[e,...r].reduce(((t,e)=>(0,i.A)(t,e)),{});return l(Object.keys(e),o)}function h(t){let{values:e,breakpoints:n,base:i}=t;const r=i||function(t,e){if("object"!==typeof t)return{};const n={},i=Object.keys(e);return Array.isArray(t)?i.forEach(((e,i)=>{i<t.length&&(n[e]=!0)})):i.forEach((e=>{null!=t[e]&&(n[e]=!0)})),n}(e,n),s=Object.keys(r);if(0===s.length)return e;let o;return s.reduce(((t,n,i)=>(Array.isArray(e)?(t[n]=null!=e[i]?e[i]:e[o],o=i):"object"===typeof e?(t[n]=null!=e[n]?e[n]:e[o],o=n):t[n]=e,t)),{})}},9703:(t,e,n)=>{"use strict";function i(t,e){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:e}}return n.palette.mode===t?e:{}}n.d(e,{A:()=>i})},4853:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var i=n(8587),r=n(8168);const s=["values","unit","step"],o=t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>(0,r.A)({},t,{[e.key]:e.val})),{})};function a(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=t,l=(0,i.A)(t,s),c=o(e),h=Object.keys(c);function d(t){const i="number"===typeof e[t]?e[t]:t;return"@media (min-width:".concat(i).concat(n,")")}function u(t){const i="number"===typeof e[t]?e[t]:t;return"@media (max-width:".concat(i-a/100).concat(n,")")}function p(t,i){const r=h.indexOf(i);return"@media (min-width:".concat("number"===typeof e[t]?e[t]:t).concat(n,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof e[h[r]]?e[h[r]]:i)-a/100).concat(n,")")}return(0,r.A)({keys:h,values:c,up:d,down:u,between:p,only:function(t){return h.indexOf(t)+1<h.length?p(t,h[h.indexOf(t)+1]):d(t)},not:function(t){const e=h.indexOf(t);return 0===e?d(h[1]):e===h.length-1?u(h[e]):p(t,h[h.indexOf(t)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var i=n(8168),r=n(8587),s=n(3216),o=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),h=n(7758),d=n(9703);const u=["breakpoints","palette","spacing","shape"];const p=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:n={},spacing:p,shape:f={}}=t,g=(0,r.A)(t,u),m=(0,o.A)(e),v=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;const e=(0,l.LX)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((t=>{const n=e(t);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let y=(0,s.A)({breakpoints:m,direction:"ltr",components:{},palette:(0,i.A)({mode:"light"},n),spacing:v,shape:(0,i.A)({},a,f)},g);y.applyStyles=d.A;for(var x=arguments.length,_=new Array(x>1?x-1:0),b=1;b<x;b++)_[b-1]=arguments[b];return y=_.reduce(((t,e)=>(0,s.A)(t,e)),y),y.unstable_sxConfig=(0,i.A)({},h.A,null==g?void 0:g.unstable_sxConfig),y.unstable_sx=function(t){return(0,c.A)({sx:t,theme:this})},y}},4989:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A,private_createBreakpoints:()=>r.A,unstable_applyStyles:()=>s.A});var i=n(8280),r=n(4853),s=n(9703)},3815:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(3216);const r=function(t,e){return e?(0,i.A)(t,e,{clone:!1}):t}},8604:(t,e,n)=>{"use strict";n.d(e,{LX:()=>f,MA:()=>p,_W:()=>g,Lc:()=>y,Ms:()=>x});var i=n(9751),r=n(7162),s=n(3815);const o={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!l[t])return[t];t=l[t]}const[e,n]=t.split(""),i=o[e],r=a[n]||"";return Array.isArray(r)?r.map((t=>i+t)):[i+r]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],u=[...h,...d];function p(t,e,n,i){var s;const o=null!=(s=(0,r.Yn)(t,e,!1))?s:n;return"number"===typeof o?t=>"string"===typeof t?t:o*t:Array.isArray(o)?t=>"string"===typeof t?t:o[t]:"function"===typeof o?o:()=>{}}function f(t){return p(t,"spacing",8)}function g(t,e){if("string"===typeof e||null==e)return e;const n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(t,e,n,r){if(-1===e.indexOf(n))return null;const s=function(t,e){return n=>t.reduce(((t,i)=>(t[i]=g(e,n),t)),{})}(c(n),r),o=t[n];return(0,i.NI)(t,o,s)}function v(t,e){const n=f(t.theme);return Object.keys(t).map((i=>m(t,e,i,n))).reduce(s.A,{})}function y(t){return v(t,h)}function x(t){return v(t,d)}function _(t){return v(t,u)}y.propTypes={},y.filterProps=h,x.propTypes={},x.filterProps=d,_.propTypes={},_.filterProps=u},7162:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>a,BO:()=>o,Yn:()=>s});var i=n(410),r=n(9751);function s(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&n){const n="vars.".concat(e).split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=n)return n}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function o(t,e,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof t?t(n):Array.isArray(t)?t[n]||r:s(t,n)||r,e&&(i=e(i,r,t)),i}const a=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:l}=t,c=t=>{if(null==t[e])return null;const c=t[e],h=s(t.theme,a)||{};return(0,r.NI)(t,c,(t=>{let r=o(h,l,t);return t===r&&"string"===typeof t&&(r=o(h,l,"".concat(e).concat("default"===t?"":(0,i.A)(t)),t)),!1===n?r:{[n]:r}}))};return c.propTypes={},c.filterProps=[e],c}},7758:(t,e,n)=>{"use strict";n.d(e,{A:()=>F});var i=n(8604),r=n(7162),s=n(3815);const o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),r=t=>Object.keys(t).reduce(((e,n)=>i[n]?(0,s.A)(e,i[n](t)):e),{});return r.propTypes={},r.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),r};var a=n(9751);function l(t){return"number"!==typeof t?t:"".concat(t,"px solid")}function c(t,e){return(0,r.Ay)({prop:t,themeKey:"borders",transform:e})}const h=c("border",l),d=c("borderTop",l),u=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),g=c("borderColor"),m=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),x=c("borderLeftColor"),_=c("outline",l),b=c("outlineColor"),w=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=(0,i.MA)(t.theme,"shape.borderRadius",4,"borderRadius"),n=t=>({borderRadius:(0,i._W)(e,t)});return(0,a.NI)(t,t.borderRadius,n)}return null};w.propTypes={},w.filterProps=["borderRadius"];o(h,d,u,p,f,g,m,v,y,x,w,_,b);const A=t=>{if(void 0!==t.gap&&null!==t.gap){const e=(0,i.MA)(t.theme,"spacing",8,"gap"),n=t=>({gap:(0,i._W)(e,t)});return(0,a.NI)(t,t.gap,n)}return null};A.propTypes={},A.filterProps=["gap"];const S=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=(0,i.MA)(t.theme,"spacing",8,"columnGap"),n=t=>({columnGap:(0,i._W)(e,t)});return(0,a.NI)(t,t.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const C=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=(0,i.MA)(t.theme,"spacing",8,"rowGap"),n=t=>({rowGap:(0,i._W)(e,t)});return(0,a.NI)(t,t.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];o(A,S,C,(0,r.Ay)({prop:"gridColumn"}),(0,r.Ay)({prop:"gridRow"}),(0,r.Ay)({prop:"gridAutoFlow"}),(0,r.Ay)({prop:"gridAutoColumns"}),(0,r.Ay)({prop:"gridAutoRows"}),(0,r.Ay)({prop:"gridTemplateColumns"}),(0,r.Ay)({prop:"gridTemplateRows"}),(0,r.Ay)({prop:"gridTemplateAreas"}),(0,r.Ay)({prop:"gridArea"}));function E(t,e){return"grey"===e?e:t}o((0,r.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,r.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,r.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function k(t){return t<=1&&0!==t?"".concat(100*t,"%"):t}const T=(0,r.Ay)({prop:"width",transform:k}),P=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var n,i;const r=(null==(n=t.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[e])||a.zu[e];return r?"px"!==(null==(i=t.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(t.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:k(e)}};return(0,a.NI)(t,t.maxWidth,e)}return null};P.filterProps=["maxWidth"];const R=(0,r.Ay)({prop:"minWidth",transform:k}),I=(0,r.Ay)({prop:"height",transform:k}),M=(0,r.Ay)({prop:"maxHeight",transform:k}),B=(0,r.Ay)({prop:"minHeight",transform:k}),F=((0,r.Ay)({prop:"size",cssProperty:"width",transform:k}),(0,r.Ay)({prop:"size",cssProperty:"height",transform:k}),o(T,P,R,I,M,B,(0,r.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:i.Ms},pt:{style:i.Ms},pr:{style:i.Ms},pb:{style:i.Ms},pl:{style:i.Ms},px:{style:i.Ms},py:{style:i.Ms},padding:{style:i.Ms},paddingTop:{style:i.Ms},paddingRight:{style:i.Ms},paddingBottom:{style:i.Ms},paddingLeft:{style:i.Ms},paddingX:{style:i.Ms},paddingY:{style:i.Ms},paddingInline:{style:i.Ms},paddingInlineStart:{style:i.Ms},paddingInlineEnd:{style:i.Ms},paddingBlock:{style:i.Ms},paddingBlockStart:{style:i.Ms},paddingBlockEnd:{style:i.Ms},m:{style:i.Lc},mt:{style:i.Lc},mr:{style:i.Lc},mb:{style:i.Lc},ml:{style:i.Lc},mx:{style:i.Lc},my:{style:i.Lc},margin:{style:i.Lc},marginTop:{style:i.Lc},marginRight:{style:i.Lc},marginBottom:{style:i.Lc},marginLeft:{style:i.Lc},marginX:{style:i.Lc},marginY:{style:i.Lc},marginInline:{style:i.Lc},marginInlineStart:{style:i.Lc},marginInlineEnd:{style:i.Lc},marginBlock:{style:i.Lc},marginBlockStart:{style:i.Lc},marginBlockEnd:{style:i.Lc},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:A},rowGap:{style:C},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:k},maxWidth:{style:P},minWidth:{transform:k},height:{transform:k},maxHeight:{transform:k},minHeight:{transform:k},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var i=n(8168),r=n(8587),s=n(3216),o=n(7758);const a=["sx"],l=t=>{var e,n;const i={systemProps:{},otherProps:{}},r=null!=(e=null==t||null==(n=t.theme)?void 0:n.unstable_sxConfig)?e:o.A;return Object.keys(t).forEach((e=>{r[e]?i.systemProps[e]=t[e]:i.otherProps[e]=t[e]})),i};function c(t){const{sx:e}=t,n=(0,r.A)(t,a),{systemProps:o,otherProps:c}=l(n);let h;return h=Array.isArray(e)?[o,...e]:"function"===typeof e?function(){const t=e(...arguments);return(0,s.Q)(t)?(0,i.A)({},o,t):o}:(0,i.A)({},o,e),(0,i.A)({},c,{sx:h})}},3234:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A,extendSxProp:()=>r.A,unstable_createStyleFunctionSx:()=>i.k,unstable_defaultSxConfig:()=>s.A});var i=n(8812),r=n(8698),s=n(7758)},8812:(t,e,n)=>{"use strict";n.d(e,{A:()=>h,k:()=>l});var i=n(410),r=n(3815),s=n(7162),o=n(9751),a=n(7758);function l(){function t(t,e,n,r){const a={[t]:e,theme:n},l=r[t];if(!l)return{[t]:e};const{cssProperty:c=t,themeKey:h,transform:d,style:u}=l;if(null==e)return null;if("typography"===h&&"inherit"===e)return{[t]:e};const p=(0,s.Yn)(n,h)||{};if(u)return u(a);return(0,o.NI)(a,e,(e=>{let n=(0,s.BO)(p,d,e);return e===n&&"string"===typeof e&&(n=(0,s.BO)(p,d,"".concat(t).concat("default"===e?"":(0,i.A)(e)),e)),!1===c?n:{[c]:n}}))}return function e(n){var i;const{sx:s,theme:l={}}=n||{};if(!s)return null;const c=null!=(i=l.unstable_sxConfig)?i:a.A;function h(n){let i=n;if("function"===typeof n)i=n(l);else if("object"!==typeof n)return n;if(!i)return null;const s=(0,o.EU)(l.breakpoints),a=Object.keys(s);let h=s;return Object.keys(i).forEach((n=>{const s=(a=i[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==s&&void 0!==s)if("object"===typeof s)if(c[n])h=(0,r.A)(h,t(n,s,l,c));else{const t=(0,o.NI)({theme:l},s,(t=>({[n]:t})));!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),r=new Set(i);return e.every((t=>r.size===Object.keys(t).length))}(t,s)?h=(0,r.A)(h,t):h[n]=e({sx:s,theme:l})}else h=(0,r.A)(h,t(n,s,l,c))})),(0,o.vf)(a,h)}return Array.isArray(s)?s.map(h):h(s)}}const c=l();c.filterProps=["sx"];const h=c},8653:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var i=n(8280),r=n(5043),s=n(5756);const o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=r.useContext(s.T);return e&&(n=e,0!==Object.keys(n).length)?e:t;var n},a=(0,i.A)();const l=function(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a)}},2919:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var i=n(2018);var r=n(8653);function s(t){let{props:e,name:n,defaultTheme:s,themeId:o}=t,a=(0,r.A)(s);o&&(a=a[o]||a);const l=function(t){const{theme:e,name:n,props:r}=t;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?(0,i.A)(e.components[n].defaultProps,r):r}({theme:a,name:n,props:e});return l}},5430:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const i=t=>t,r=(()=>{let t=i;return{configure(e){t=e},generate:e=>t(e),reset(){t=i}}})()},410:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(6632);function r(t){if("string"!==typeof t)throw new Error((0,i.A)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},578:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A});var i=n(410)},7040:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(e,Math.min(t,n))}},5383:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A});var i=n(7040)},8606:(t,e,n)=>{"use strict";function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(t).forEach((r=>{i[r]=t[r].reduce(((t,i)=>{if(i){const r=e(i);""!==r&&t.push(r),n&&n[i]&&t.push(n[i])}return t}),[]).join(" ")})),i}n.d(e,{A:()=>i})},4708:(t,e,n)=>{"use strict";function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(((t,e)=>null==e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i),e.apply(this,i)}),(()=>{}))}n.d(e,{A:()=>i})},6440:(t,e,n)=>{"use strict";function i(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];clearTimeout(e),e=setTimeout((()=>{t.apply(this,r)}),n)}return i.clear=()=>{clearTimeout(e)},i}n.d(e,{A:()=>i})},3216:(t,e,n)=>{"use strict";n.d(e,{A:()=>o,Q:()=>r});var i=n(8168);function r(t){if("object"!==typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function s(t){if(!r(t))return t;const e={};return Object.keys(t).forEach((n=>{e[n]=s(t[n])})),e}function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,i.A)({},t):t;return r(t)&&r(e)&&Object.keys(e).forEach((i=>{"__proto__"!==i&&(r(e[i])&&i in t&&r(t[i])?a[i]=o(t[i],e[i],n):n.clone?a[i]=r(e[i])?s(e[i]):e[i]:a[i]=e[i])})),a}},4534:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A,isPlainObject:()=>i.Q});var i=n(3216)},6632:(t,e,n)=>{"use strict";function i(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{A:()=>i})},7245:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.A});var i=n(6632)},2400:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>s});var i=n(5430);const r={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const s=r[e];return s?"".concat(n,"-").concat(s):"".concat(i.A.generate(t),"-").concat(e)}},7056:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(2400);function r(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return e.forEach((e=>{r[e]=(0,i.Ay)(t,e,n)})),r}},2046:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l,getFunctionName:()=>s});var i=n(2086);const r=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function s(t){const e="".concat(t).match(r);return e&&e[1]||""}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.displayName||t.name||s(t)||e}function a(t,e,n){const i=o(e);return t.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function l(t){if(null!=t){if("string"===typeof t)return t;if("function"===typeof t)return o(t,"Component");if("object"===typeof t)switch(t.$$typeof){case i.ForwardRef:return a(t,t.render,"ForwardRef");case i.Memo:return a(t,t.type,"memo");default:return}}}},2144:(t,e,n)=>{"use strict";function i(t){return t&&t.ownerDocument||document}n.d(e,{A:()=>i})},6288:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(2144);function r(t){return(0,i.A)(t).defaultView||window}},2018:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(8168);function r(t,e){const n=(0,i.A)({},e);return Object.keys(t).forEach((s=>{if(s.toString().match(/^(components|slots)$/))n[s]=(0,i.A)({},t[s],n[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const o=t[s]||{},a=e[s];n[s]={},a&&Object.keys(a)?o&&Object.keys(o)?(n[s]=(0,i.A)({},a),Object.keys(o).forEach((t=>{n[s][t]=r(o[t],a[t])}))):n[s]=a:n[s]=o}else void 0===n[s]&&(n[s]=t[s])})),n}},9184:(t,e,n)=>{"use strict";function i(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,{A:()=>i})},1944:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(5043);function r(t){let{controlled:e,default:n,name:r,state:s="value"}=t;const{current:o}=i.useRef(void 0!==e),[a,l]=i.useState(n);return[o?e:a,i.useCallback((t=>{o||l(t)}),[])]}},3844:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(5043);const r="undefined"!==typeof window?i.useLayoutEffect:i.useEffect},4626:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var i=n(5043),r=n(3844);const s=function(t){const e=i.useRef(t);return(0,r.A)((()=>{e.current=t})),i.useRef((function(){return(0,e.current)(...arguments)})).current}},7042:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var i=n(5043),r=n(9184);function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.useMemo((()=>e.every((t=>null==t))?null:t=>{e.forEach((e=>{(0,r.A)(e,t)}))}),e)}},992:(t,e,n)=>{"use strict";var i;n.d(e,{A:()=>a});var r=n(5043);let s=0;const o=(i||(i=n.t(r,2)))["useId".toString()];function a(t){if(void 0!==o){const e=o();return null!=t?t:e}return function(t){const[e,n]=r.useState(t),i=t||e;return r.useEffect((()=>{null==e&&(s+=1,n("mui-".concat(s)))}),[e]),i}(t)}},932:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var i=n(5043),r=n(1140);let s=!0,o=!1;const a=new r.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(t){t.metaKey||t.altKey||t.ctrlKey||(s=!0)}function h(){s=!1}function d(){"hidden"===this.visibilityState&&o&&(s=!0)}function u(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(n){}return s||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!l[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function p(){const t=i.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",c,!0),e.addEventListener("mousedown",h,!0),e.addEventListener("pointerdown",h,!0),e.addEventListener("touchstart",h,!0),e.addEventListener("visibilitychange",d,!0))}),[]),e=i.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!u(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(o=!0,a.start(100,(()=>{o=!1})),e.current=!1,!0)},ref:t}}},1140:(t,e,n)=>{"use strict";n.d(e,{E:()=>o,A:()=>a});var i=n(5043);const r={};const s=[];class o{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new o}start(t,e){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,e()}),t)}}function a(){const t=function(t,e){const n=i.useRef(r);return n.current===r&&(n.current=t(e)),n}(o.create).current;var e;return e=t.disposeEffect,i.useEffect(e,s),t}},219:(t,e,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return i.isMemo(t)?o:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var c=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&t(e,r,i)}var o=h(n);d&&(o=o.concat(d(n)));for(var a=l(e),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!s[v]&&(!i||!i[v])&&(!g||!g[v])&&(!a||!a[v])){var y=u(n,v);try{c(e,v,y)}catch(x){}}}}return e}},4983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,u=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case d:case s:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case c:case u:case m:case g:case l:return t;default:return e}}case r:return e}}}function w(t){return b(t)===d}e.AsyncMode=h,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=u,e.Fragment=s,e.Lazy=m,e.Memo=g,e.Portal=r,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return w(t)||b(t)===h},e.isConcurrentMode=w,e.isContextConsumer=function(t){return b(t)===c},e.isContextProvider=function(t){return b(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return b(t)===u},e.isFragment=function(t){return b(t)===s},e.isLazy=function(t){return b(t)===m},e.isMemo=function(t){return b(t)===g},e.isPortal=function(t){return b(t)===r},e.isProfiler=function(t){return b(t)===a},e.isStrictMode=function(t){return b(t)===o},e.isSuspense=function(t){return b(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===d||t===a||t===o||t===p||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===u||t.$$typeof===y||t.$$typeof===x||t.$$typeof===_||t.$$typeof===v)},e.typeOf=b},3763:(t,e,n)=>{"use strict";t.exports=n(4983)},2730:(t,e,n)=>{"use strict";var i=n(5043),r=n(8853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function x(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!d.call(f,t)||!d.call(p,t)&&(u.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=F&&t[F]||t["@@iterator"])?t:null}var j,O=Object.assign;function L(t){if(void 0===j)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var z=!1;function N(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?L(t):""}function U(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=N(t.type,!1);case 11:return t=N(t.type.render,!1);case 1:return t=N(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case A:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case M:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function K(t,e){var n=e.checked;return O({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=V(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function J(t,e){Z(t,e);var n=V(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+V(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return O({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:V(n)}}function st(t,e){var n=V(e.value),i=V(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ht,dt=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function ut(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var vt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,At=null,St=null;function Ct(t){if(t=xr(t)){if("function"!==typeof wt)throw Error(s(280));var e=t.stateNode;e&&(e=br(e),wt(t.stateNode,t.type,e))}}function Et(t){At?St?St.push(t):St=[t]:At=t}function kt(){if(At){var t=At,e=St;if(St=At=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Tt(t,e){return t(e)}function Pt(){}var Rt=!1;function It(t,e,n){if(Rt)return t(e,n);Rt=!0;try{return Tt(t,e,n)}finally{Rt=!1,(null!==At||null!==St)&&(Pt(),kt())}}function Mt(t,e){var n=t.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Bt=!1;if(h)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(ht){Bt=!1}function Dt(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var jt=!1,Ot=null,Lt=!1,zt=null,Nt={onError:function(t){jt=!0,Ot=t}};function Ut(t,e,n,i,r,s,o,a,l){jt=!1,Ot=null,Dt.apply(Nt,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Ht(t)!==t)throw Error(s(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Vt(r),t;if(o===i)return Vt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,Kt=r.unstable_shouldYield,Yt=r.unstable_requestPaint,Zt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,$t=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,he=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ue(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=de(a):0!==(s&=o)&&(i=de(s))}else 0!==(o=n&~r)?i=de(o):0!==s&&(i=de(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xe=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var be,we,Ae,Se,Ce,Ee=!1,ke=[],Te=null,Pe=null,Re=null,Ie=new Map,Me=new Map,Be=[],Fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function je(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=xr(e))&&we(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Oe(t){var e=yr(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Ce(t.priority,(function(){Ae(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Le(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=xr(n))&&we(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);_t=i,n.target.dispatchEvent(i),_t=null,e.shift()}return!0}function ze(t,e,n){Le(t)&&n.delete(e)}function Ne(){Ee=!1,null!==Te&&Le(Te)&&(Te=null),null!==Pe&&Le(Pe)&&(Pe=null),null!==Re&&Le(Re)&&(Re=null),Ie.forEach(ze),Me.forEach(ze)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ne)))}function He(t){function e(e){return Ue(e,t)}if(0<ke.length){Ue(ke[0],t);for(var n=1;n<ke.length;n++){var i=ke[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Te&&Ue(Te,t),null!==Pe&&Ue(Pe,t),null!==Re&&Ue(Re,t),Ie.forEach(e),Me.forEach(e),n=0;n<Be.length;n++)(i=Be[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Be.length&&null===(n=Be[0]).blockedOn;)Oe(n),null===n.blockedOn&&Be.shift()}var We=_.ReactCurrentBatchConfig,Ve=!0;function Ge(t,e,n,i){var r=xe,s=We.transition;We.transition=null;try{xe=1,Xe(t,e,n,i)}finally{xe=r,We.transition=s}}function qe(t,e,n,i){var r=xe,s=We.transition;We.transition=null;try{xe=4,Xe(t,e,n,i)}finally{xe=r,We.transition=s}}function Xe(t,e,n,i){if(Ve){var r=Ke(t,e,n,i);if(null===r)Vi(t,e,i,Qe,n),De(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Te=je(Te,t,e,n,i,r),!0;case"dragenter":return Pe=je(Pe,t,e,n,i,r),!0;case"mouseover":return Re=je(Re,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ie.set(s,je(Ie.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Me.set(s,je(Me.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(De(t,i),4&e&&-1<Fe.indexOf(t)){for(;null!==r;){var s=xr(r);if(null!==s&&be(s),null===(s=Ke(t,e,n,i))&&Vi(t,e,i,Qe,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Vi(t,e,i,null,n)}}var Qe=null;function Ke(t,e,n,i){if(Qe=null,null!==(t=yr(t=bt(i))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case $t:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Ze=null,Je=null,$e=null;function tn(){if($e)return $e;var t,e,n=Je,i=n.length,r="value"in Ze?Ze.value:Ze.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return $e=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(cn),dn=O({},cn,{view:0,detail:0}),un=sn(dn),pn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),fn=sn(pn),gn=sn(O({},pn,{dataTransfer:0})),mn=sn(O({},dn,{relatedTarget:0})),vn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=sn(yn),_n=sn(O({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=An[t])&&!!e[t]}function Cn(){return Sn}var En=O({},dn,{key:function(t){if(t.key){var e=bn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),kn=sn(En),Tn=sn(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=O({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(In),Bn=[9,13,27,32],Fn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var jn=h&&"TextEvent"in window&&!Dn,On=h&&(!Fn||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),zn=!1;function Nn(t,e){switch(t){case"keyup":return-1!==Bn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Gn(t,e,n,i){Et(i),0<(e=qi(e,"onChange")).length&&(n=new hn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Xn=null;function Qn(t){Li(t,0)}function Kn(t){if(X(_r(t)))return t}function Yn(t,e){if("change"===t)return e}var Zn=!1;if(h){var Jn;if(h){var $n="oninput"in document;if(!$n){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),$n="function"===typeof ti.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Xn=qn=null)}function ni(t){if("value"===t.propertyName&&Kn(Xn)){var e=[];Gn(e,Xn,t,bt(t)),It(Qn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn(Xn)}function si(t,e){if("click"===t)return Kn(e)}function oi(t,e){if("input"===t||"change"===t)return Kn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hi(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function di(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?di(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ui(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fi(t){var e=ui(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=hi(n,s);var o=hi(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=h&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,xi=!1;function _i(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xi||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=qi(vi,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ai={},Si={};function Ci(t){if(Ai[t])return Ai[t];if(!wi[t])return t;var e,n=wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return Ai[t]=n[e];return t}h&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ei=Ci("animationend"),ki=Ci("animationiteration"),Ti=Ci("animationstart"),Pi=Ci("transitionend"),Ri=new Map,Ii="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){Ri.set(t,e),l(e,[t])}for(var Bi=0;Bi<Ii.length;Bi++){var Fi=Ii[Bi];Mi(Fi.toLowerCase(),"on"+(Fi[0].toUpperCase()+Fi.slice(1)))}Mi(Ei,"onAnimationEnd"),Mi(ki,"onAnimationIteration"),Mi(Ti,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Oi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(Ut.apply(this,arguments),jt){if(!jt)throw Error(s(198));var h=Ot;jt=!1,Ot=null,Lt||(Lt=!0,zt=h)}}(i,e,void 0,t),t.currentTarget=null}function Li(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Oi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Oi(r,a,c),s=l}}}if(Lt)throw t=zt,Lt=!1,zt=null,t}function zi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Wi(e,t,2,!1),n.add(i))}function Ni(t,e,n){var i=0;e&&(i|=4),Wi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Ui]){t[Ui]=!0,o.forEach((function(e){"selectionchange"!==e&&(ji.has(e)||Ni(e,!1,t),Ni(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,Ni("selectionchange",!1,e))}}function Wi(t,e,n,i){switch(Ye(e)){case 1:var r=Ge;break;case 4:r=qe;break;default:r=Xe}n=r.bind(null,e,n,t),r=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Vi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}It((function(){var i=s,r=bt(n),o=[];t:{var a=Ri.get(t);if(void 0!==a){var l=hn,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ei:case ki:case Ti:l=vn;break;case Pi:l=Rn;break;case"scroll":l=un;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var h=0!==(4&e),d=!h&&"scroll"===t,u=h?null!==a?a+"Capture":null:a;h=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==u&&(null!=(g=Mt(f,u))&&h.push(Gi(f,g,p)))),d)break;f=f.return}0<h.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(h=fn,g="onMouseLeave",u="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(h=Tn,g="onPointerLeave",u="onPointerEnter",f="pointer"),d=null==l?a:_r(l),p=null==c?a:_r(c),(a=new h(g,f+"leave",l,n,r)).target=d,a.relatedTarget=p,g=null,yr(r)===i&&((h=new h(u,f+"enter",c,n,r)).target=p,h.relatedTarget=d,g=h),d=g,l&&c)t:{for(u=c,f=0,p=h=l;p;p=Xi(p))f++;for(p=0,g=u;g;g=Xi(g))p++;for(;0<f-p;)h=Xi(h),f--;for(;0<p-f;)u=Xi(u),p--;for(;f--;){if(h===u||null!==u&&h===u.alternate)break t;h=Xi(h),u=Xi(u)}h=null}else h=null;null!==l&&Qi(o,a,l,h,!1),null!==c&&null!==d&&Qi(o,d,c,h,!0)}if("select"===(l=(a=i?_r(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Vn(a))if(Zn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?Gn(o,m,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?_r(i):window,t){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,_i(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":_i(o,n,r)}var y;if(Fn)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Hn?Nn(t,n)&&(x="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(x="onCompositionStart");x&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hn&&(y=tn()):(Je="value"in(Ze=r)?Ze.value:Ze.textContent,Hn=!0)),0<(v=qi(i,x)).length&&(x=new _n(x,t,null,n,r),o.push({event:x,listeners:v}),y?x.data=y:null!==(y=Un(n))&&(x.data=y))),(y=jn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(zn=!0,Ln);case"textInput":return(t=e.data)===Ln&&zn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Fn&&Nn(t,e)?(t=tn(),$e=Je=Ze=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return On&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Li(o,e)}))}function Gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Mt(t,n))&&i.unshift(Gi(t,s,r)),null!=(s=Mt(t,e))&&i.push(Gi(t,s,r))),t=t.return}return i}function Xi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Mt(n,s))&&o.unshift(Gi(n,l,a)):r||null!=(l=Mt(n,s))&&o.push(Gi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Ki=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Zi(t){return("string"===typeof t?t:""+t).replace(Ki,"\n").replace(Yi,"")}function Ji(t,e,n){if(e=Zi(e),Zi(t)!==e&&n)throw Error(s(425))}function $i(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void He(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);He(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),ur="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,gr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[ur]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=hr(t);null!==t;){if(n=t[ur])return n;t=hr(t)}return e}n=(t=n).parentNode}return null}function xr(t){return!(t=t[ur]||t[fr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _r(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function br(t){return t[pr]||null}var wr=[],Ar=-1;function Sr(t){return{current:t}}function Cr(t){0>Ar||(t.current=wr[Ar],wr[Ar]=null,Ar--)}function Er(t,e){Ar++,wr[Ar]=t.current,t.current=e}var kr={},Tr=Sr(kr),Pr=Sr(!1),Rr=kr;function Ir(t,e){var n=t.type.contextTypes;if(!n)return kr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Br(){Cr(Pr),Cr(Tr)}function Fr(t,e,n){if(Tr.current!==kr)throw Error(s(168));Er(Tr,e),Er(Pr,n)}function Dr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,W(t)||"Unknown",r));return O({},n,i)}function jr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Rr=Tr.current,Er(Tr,t),Er(Pr,Pr.current),!0}function Or(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Dr(t,e,Rr),i.__reactInternalMemoizedMergedChildContext=t,Cr(Pr),Cr(Tr),Er(Tr,t)):Cr(Pr),Er(Pr,n)}var Lr=null,zr=!1,Nr=!1;function Ur(t){null===Lr?Lr=[t]:Lr.push(t)}function Hr(){if(!Nr&&null!==Lr){Nr=!0;var t=0,e=xe;try{var n=Lr;for(xe=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Lr=null,zr=!1}catch(r){throw null!==Lr&&(Lr=Lr.slice(t+1)),Xt($t,Hr),r}finally{xe=e,Nr=!1}}return null}var Wr=[],Vr=0,Gr=null,qr=0,Xr=[],Qr=0,Kr=null,Yr=1,Zr="";function Jr(t,e){Wr[Vr++]=qr,Wr[Vr++]=Gr,Gr=t,qr=e}function $r(t,e,n){Xr[Qr++]=Yr,Xr[Qr++]=Zr,Xr[Qr++]=Kr,Kr=t;var i=Yr;t=Zr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Yr=1<<32-oe(e)+r|n<<r|i,Zr=s+t}else Yr=1<<s|n<<r|i,Zr=t}function ts(t){null!==t.return&&(Jr(t,1),$r(t,1,0))}function es(t){for(;t===Gr;)Gr=Wr[--Vr],Wr[Vr]=null,qr=Wr[--Vr],Wr[Vr]=null;for(;t===Kr;)Kr=Xr[--Qr],Xr[Qr]=null,Zr=Xr[--Qr],Xr[Qr]=null,Yr=Xr[--Qr],Xr[Qr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Kr?{id:Yr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function hs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function ds(t){if(t!==ns)return!1;if(!rs)return hs(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw us(),Error(s(418));for(;e;)os(t,e),e=cr(e.nextSibling)}if(hs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function us(){for(var t=is;t;)t=cr(t.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(t){null===ss?ss=[t]:ss.push(t)}var gs=_.ReactCurrentBatchConfig;function ms(t,e){if(t&&t.defaultProps){for(var n in e=O({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vs=Sr(null),ys=null,xs=null,_s=null;function bs(){_s=xs=ys=null}function ws(t){var e=vs.current;Cr(vs),t._currentValue=e}function As(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){ys=t,_s=xs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_a=!0),t.firstContext=null)}function Cs(t){var e=t._currentValue;if(_s!==t)if(t={context:t,memoizedValue:e,next:null},null===xs){if(null===ys)throw Error(s(308));xs=t,ys.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Es=null;function ks(t){null===Es?Es=[t]:Es.push(t)}function Ts(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,ks(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ps(t,i)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Is(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ps(t,n)}return null===(r=i.interleaved)?(e.next=e,ks(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ps(t,n)}function Ds(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function js(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Os(t,e,n,i){var r=t.updateQueue;Rs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var h=t.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===a?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(o=0,h=c=l=null,a=s;;){var u=a.lane,p=a.eventTime;if((i&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var f=t,g=a;switch(u=e,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,u);break t}d=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(u="function"===typeof(f=g.payload)?f.call(p,d,u):f)||void 0===u)break t;d=O({},d,u);break t;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(u=r.effects)?r.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,l=d):h=h.next=p,o|=u;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(u=a).next,u.next=null,r.lastBaseUpdate=u,r.shared.pending=null}}if(null===h&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=d}}function Ls(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var zs=(new i.Component).refs;function Ns(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:O({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Us={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),s=Bs(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Fs(t,s,r))&&(ic(e,t,r,i),Ds(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),s=Bs(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Fs(t,s,r))&&(ic(e,t,r,i),Ds(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),i=nc(t),r=Bs(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Fs(t,r,i))&&(ic(e,t,i,n),Ds(e,t,i))}};function Hs(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function Ws(t,e,n){var i=!1,r=kr,s=e.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(r=Mr(e)?Rr:Tr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ir(t,r):kr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Us,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vs(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Us.enqueueReplaceState(e,e.state,null)}function Gs(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=zs,Is(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Cs(s):(s=Mr(e)?Rr:Tr.current,r.context=Ir(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(Ns(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Us.enqueueReplaceState(r,r.state,null),Os(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function qs(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===zs&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Xs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qs(t){return(0,t._init)(t._payload)}function Ks(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Fc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Lc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===A?d(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Qs(s)===e.type)?((i=r(e,n.props)).ref=qs(t,e,n),i.return=t,i):((i=Dc(n.type,n.key,n.props,null,t.mode,i)).ref=qs(t,e,n),i.return=t,i)}function h(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function d(t,e,n,i,s){return null===e||7!==e.tag?((e=jc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Lc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case b:return(n=Dc(e.type,e.key,e.props,null,t.mode,n)).ref=qs(t,null,e),n.return=t,n;case w:return(e=zc(e,t.mode,n)).return=t,e;case M:return u(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=jc(e,t.mode,n,null)).return=t,e;Xs(t,e)}return null}function p(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(t,e,n,i):null;case w:return n.key===r?h(t,e,n,i):null;case M:return p(t,e,(r=n._init)(n._payload),i)}if(et(n)||D(n))return null!==r?null:d(t,e,n,i,null);Xs(t,n)}return null}function f(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case w:return h(e,t=t.get(null===i.key?n:i.key)||null,i,r);case M:return f(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||D(i))return d(e,t=t.get(n)||null,i,r,null);Xs(e,i)}return null}function g(r,s,a,l){for(var c=null,h=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(r,d,a[g],l);if(null===v){null===d&&(d=m);break}t&&d&&null===v.alternate&&e(r,d),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v,d=m}if(g===a.length)return n(r,d),rs&&Jr(r,g),c;if(null===d){for(;g<a.length;g++)null!==(d=u(r,a[g],l))&&(s=o(d,s,g),null===h?c=d:h.sibling=d,h=d);return rs&&Jr(r,g),c}for(d=i(r,d);g<a.length;g++)null!==(m=f(d,r,g,a[g],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return t&&d.forEach((function(t){return e(r,t)})),rs&&Jr(r,g),c}function m(r,a,l,c){var h=D(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var d=h=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var x=p(r,g,y.value,c);if(null===x){null===g&&(g=v);break}t&&g&&null===x.alternate&&e(r,g),a=o(x,a,m),null===d?h=x:d.sibling=x,d=x,g=v}if(y.done)return n(r,g),rs&&Jr(r,m),h;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=u(r,y.value,c))&&(a=o(y,a,m),null===d?h=y:d.sibling=y,d=y);return rs&&Jr(r,m),h}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=f(g,r,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===d?h=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(r,t)})),rs&&Jr(r,m),h}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:t:{for(var c=o.key,h=s;null!==h;){if(h.key===c){if((c=o.type)===A){if(7===h.tag){n(i,h.sibling),(s=r(h,o.props.children)).return=i,i=s;break t}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Qs(c)===h.type){n(i,h.sibling),(s=r(h,o.props)).ref=qs(i,h,o),s.return=i,i=s;break t}n(i,h);break}e(i,h),h=h.sibling}o.type===A?((s=jc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Dc(o.type,o.key,o.props,null,i.mode,l)).ref=qs(i,s,o),l.return=i,i=l)}return a(i);case w:t:{for(h=o.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=zc(o,i.mode,l)).return=i,i=s}return a(i);case M:return t(i,s,(h=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(D(o))return m(i,s,o,l);Xs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Lc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Ys=Ks(!0),Zs=Ks(!1),Js={},$s=Sr(Js),to=Sr(Js),eo=Sr(Js);function no(t){if(t===Js)throw Error(s(174));return t}function io(t,e){switch(Er(eo,e),Er(to,t),Er($s,Js),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Cr($s),Er($s,e)}function ro(){Cr($s),Cr(to),Cr(eo)}function so(t){no(eo.current);var e=no($s.current),n=lt(e,t.type);e!==n&&(Er(to,t),Er($s,n))}function oo(t){to.current===t&&(Cr($s),Cr(to))}var ao=Sr(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var co=[];function ho(){for(var t=0;t<co.length;t++)co[t]._workInProgressVersionPrimary=null;co.length=0}var uo=_.ReactCurrentDispatcher,po=_.ReactCurrentBatchConfig,fo=0,go=null,mo=null,vo=null,yo=!1,xo=!1,_o=0,bo=0;function wo(){throw Error(s(321))}function Ao(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function So(t,e,n,i,r,o){if(fo=o,go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uo.current=null===t||null===t.memoizedState?aa:la,t=n(i,r),xo){o=0;do{if(xo=!1,_o=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,e.updateQueue=null,uo.current=ca,t=n(i,r)}while(xo)}if(uo.current=oa,e=null!==mo&&null!==mo.next,fo=0,vo=mo=go=null,yo=!1,e)throw Error(s(300));return t}function Co(){var t=0!==_o;return _o=0,t}function Eo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=t:vo=vo.next=t,vo}function ko(){if(null===mo){var t=go.alternate;t=null!==t?t.memoizedState:null}else t=mo.next;var e=null===vo?go.memoizedState:vo.next;if(null!==e)vo=e,mo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(mo=t).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=t:vo=vo.next=t}return vo}function To(t,e){return"function"===typeof e?e(t):e}function Po(t){var e=ko(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=mo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,h=o;do{var d=h.lane;if((fo&d)===d)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var u={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=u,a=i):c=c.next=u,go.lanes|=d,Ol|=d}h=h.next}while(null!==h&&h!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(_a=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,go.lanes|=o,Ol|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ro(t){var e=ko(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Io(){}function Mo(t,e){var n=go,i=ko(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,_a=!0),i=i.queue,Vo(Do.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Fo.bind(null,n,i,r,e),void 0,null),null===Rl)throw Error(s(349));0!==(30&fo)||Bo(n,e,r)}return r}function Bo(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Fo(t,e,n,i){e.value=n,e.getSnapshot=i,jo(e)&&Oo(t)}function Do(t,e,n){return n((function(){jo(e)&&Oo(t)}))}function jo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Oo(t){var e=Ps(t,1);null!==e&&ic(e,t,1,-1)}function Lo(t){var e=Eo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,go,t),[e.memoizedState,t]}function zo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function No(){return ko().memoizedState}function Uo(t,e,n,i){var r=Eo();go.flags|=t,r.memoizedState=zo(1|e,n,void 0,void 0===i?null:i)}function Ho(t,e,n,i){var r=ko();i=void 0===i?null:i;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==i&&Ao(i,o.deps))return void(r.memoizedState=zo(e,n,s,i))}go.flags|=t,r.memoizedState=zo(1|e,n,s,i)}function Wo(t,e){return Uo(8390656,8,t,e)}function Vo(t,e){return Ho(2048,8,t,e)}function Go(t,e){return Ho(4,2,t,e)}function qo(t,e){return Ho(4,4,t,e)}function Xo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ho(4,4,Xo.bind(null,e,t),n)}function Ko(){}function Yo(t,e){var n=ko();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ao(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Zo(t,e){var n=ko();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ao(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Jo(t,e,n){return 0===(21&fo)?(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),go.lanes|=n,Ol|=n,t.baseState=!0),e)}function $o(t,e){var n=xe;xe=0!==n&&4>n?n:4,t(!0);var i=po.transition;po.transition={};try{t(!1),e()}finally{xe=n,po.transition=i}}function ta(){return ko().memoizedState}function ea(t,e,n){var i=nc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))ra(e,n);else if(null!==(n=Ts(t,e,n,i))){ic(n,t,i,ec()),sa(n,e,i)}}function na(t,e,n){var i=nc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))ra(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,ks(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Ts(t,e,r,i))&&(ic(n,t,i,r=ec()),sa(n,e,i))}}function ia(t){var e=t.alternate;return t===go||null!==e&&e===go}function ra(t,e){xo=yo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var oa={readContext:Cs,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},aa={readContext:Cs,useCallback:function(t,e){return Eo().memoizedState=[t,void 0===e?null:e],t},useContext:Cs,useEffect:Wo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Uo(4194308,4,Xo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=Eo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Eo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,go,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Eo().memoizedState=t},useState:Lo,useDebugValue:Ko,useDeferredValue:function(t){return Eo().memoizedState=t},useTransition:function(){var t=Lo(!1),e=t[0];return t=$o.bind(null,t[1]),Eo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=go,r=Eo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Rl)throw Error(s(349));0!==(30&fo)||Bo(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Wo(Do.bind(null,i,o,t),[t]),i.flags|=2048,zo(9,Fo.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Eo(),e=Rl.identifierPrefix;if(rs){var n=Zr;e=":"+e+"R"+(n=(Yr&~(1<<32-oe(Yr)-1)).toString(32)+n),0<(n=_o++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=bo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Cs,useCallback:Yo,useContext:Cs,useEffect:Vo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Po,useRef:No,useState:function(){return Po(To)},useDebugValue:Ko,useDeferredValue:function(t){return Jo(ko(),mo.memoizedState,t)},useTransition:function(){return[Po(To)[0],ko().memoizedState]},useMutableSource:Io,useSyncExternalStore:Mo,useId:ta,unstable_isNewReconciler:!1},ca={readContext:Cs,useCallback:Yo,useContext:Cs,useEffect:Vo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Ro,useRef:No,useState:function(){return Ro(To)},useDebugValue:Ko,useDeferredValue:function(t){var e=ko();return null===mo?e.memoizedState=t:Jo(e,mo.memoizedState,t)},useTransition:function(){return[Ro(To)[0],ko().memoizedState]},useMutableSource:Io,useSyncExternalStore:Mo,useId:ta,unstable_isNewReconciler:!1};function ha(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function da(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ua(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gl||(Gl=!0,ql=i),ua(0,e)},n}function ga(t,e,n){(n=Bs(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ua(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ua(0,e),"function"!==typeof i&&(null===Xl?Xl=new Set([this]):Xl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new pa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Bs(-1,1)).tag=2,Fs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var xa=_.ReactCurrentOwner,_a=!1;function ba(t,e,n,i){e.child=null===t?Zs(e,null,n,i):Ys(e,t.child,n,i)}function wa(t,e,n,i,r){n=n.render;var s=e.ref;return Ss(e,r),i=So(t,e,n,i,s,r),n=Co(),null===t||_a?(rs&&n&&ts(e),e.flags|=1,ba(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ga(t,e,r))}function Aa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Sa(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ga(t,e,r)}return e.flags|=1,(t=Fc(s,i)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(_a=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ga(t,e,r);0!==(131072&t.flags)&&(_a=!0)}}return ka(t,e,n,i,r)}function Ca(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Fl,Bl),Bl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Er(Fl,Bl),Bl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Er(Fl,Bl),Bl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Er(Fl,Bl),Bl|=i;return ba(t,e,r,n),e.child}function Ea(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ka(t,e,n,i,r){var s=Mr(n)?Rr:Tr.current;return s=Ir(e,s),Ss(e,r),n=So(t,e,n,i,s,r),i=Co(),null===t||_a?(rs&&i&&ts(e),e.flags|=1,ba(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ga(t,e,r))}function Ta(t,e,n,i,r){if(Mr(n)){var s=!0;jr(e)}else s=!1;if(Ss(e,r),null===e.stateNode)Va(t,e),Ws(e,n,i),Gs(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Cs(c):c=Ir(e,c=Mr(n)?Rr:Tr.current);var h=n.getDerivedStateFromProps,d="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&Vs(e,o,i,c),Rs=!1;var u=e.memoizedState;o.state=u,Os(e,i,o,r),l=e.memoizedState,a!==i||u!==l||Pr.current||Rs?("function"===typeof h&&(Ns(e,n,h,i),l=e.memoizedState),(a=Rs||Hs(e,n,a,i,u,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ms(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ms(e.type,a),o.props=c,d=e.pendingProps,u=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Cs(l):l=Ir(e,l=Mr(n)?Rr:Tr.current);var p=n.getDerivedStateFromProps;(h="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||u!==l)&&Vs(e,o,i,l),Rs=!1,u=e.memoizedState,o.state=u,Os(e,i,o,r);var f=e.memoizedState;a!==d||u!==f||Pr.current||Rs?("function"===typeof p&&(Ns(e,n,p,i),f=e.memoizedState),(c=Rs||Hs(e,n,c,i,u,f,l)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),i=!1)}return Pa(t,e,n,i,s,r)}function Pa(t,e,n,i,r,s){Ea(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Or(e,n,!1),Ga(t,e,s);i=e.stateNode,xa.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Ys(e,t.child,null,s),e.child=Ys(e,null,a,s)):ba(t,e,a,s),e.memoizedState=i.state,r&&Or(e,n,!0),e.child}function Ra(t){var e=t.stateNode;e.pendingContext?Fr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Fr(0,e.context,!1),io(t,e.containerInfo)}function Ia(t,e,n,i,r){return ps(),fs(r),e.flags|=256,ba(t,e,n,i),e.child}var Ma,Ba,Fa,Da,ja={dehydrated:null,treeContext:null,retryLane:0};function Oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function La(t,e,n){var i,r=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Er(ao,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,r,0,null),t=jc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Oa(n),e.memoizedState=ja,t):za(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,Na(t,e,a,i=da(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Oc({mode:"visible",children:i.children},r,0,null),(o=jc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&Ys(e,t.child,null,a),e.child.memoizedState=Oa(a),e.memoizedState=ja,o);if(0===(1&e.mode))return Na(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Na(t,e,a,i=da(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),_a||l){if(null!==(i=Rl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ps(t,r),ic(i,t,r,-1))}return mc(),Na(t,e,a,i=da(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Tc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=cr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Xr[Qr++]=Yr,Xr[Qr++]=Zr,Xr[Qr++]=Kr,Yr=t.id,Zr=t.overflow,Kr=e),e=za(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Fc(i,a):(a=jc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=ja,r}return t=(a=t.child).sibling,r=Fc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function za(t,e){return(e=Oc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Na(t,e,n,i){return null!==i&&fs(i),Ys(e,t.child,null,n),(t=za(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ua(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),As(t.return,e,n)}function Ha(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Wa(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ba(t,e,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ua(t,n,e);else if(19===t.tag)Ua(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Er(ao,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===lo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ha(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===lo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ha(e,!0,n,null,s);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ga(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ol|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Fc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Fc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function qa(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Qa(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(e),null;case 1:case 17:return Mr(e.type)&&Br(),Xa(e),null;case 3:return i=e.stateNode,ro(),Cr(Pr),Cr(Tr),ho(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ds(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ba(t,e),Xa(e),null;case 5:oo(e);var r=no(eo.current);if(n=e.type,null!==t&&null!=e.stateNode)Fa(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Xa(e),null}if(t=no($s.current),ds(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ur]=e,i[pr]=o,t=0!==(1&e.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)zi(Di[r],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":Y(i,o),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},zi("invalid",i);break;case"textarea":rt(i,o),zi("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":q(i),$(i,o,!0);break;case"textarea":q(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ur]=e,t[pr]=i,Ma(t,e,!1,!1),e.stateNode=t;t:{switch(l=xt(n,i),n){case"dialog":zi("cancel",t),zi("close",t),r=i;break;case"iframe":case"object":case"embed":zi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)zi(Di[r],t);r=i;break;case"source":zi("error",t),r=i;break;case"img":case"image":case"link":zi("error",t),zi("load",t),r=i;break;case"details":zi("toggle",t),r=i;break;case"input":Y(t,i),r=K(t,i),zi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=O({},i,{value:void 0}),zi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),zi("invalid",t)}for(o in yt(n,r),c=r)if(c.hasOwnProperty(o)){var h=c[o];"style"===o?mt(t,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&dt(t,h):"children"===o?"string"===typeof h?("textarea"!==n||""!==h)&&ut(t,h):"number"===typeof h&&ut(t,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=h&&"onScroll"===o&&zi("scroll",t):null!=h&&x(t,o,h,l))}switch(n){case"input":q(t),$(t,i,!1);break;case"textarea":q(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+V(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xa(e),null;case 6:if(t&&null!=e.stateNode)Da(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=no(eo.current),no($s.current),ds(e)){if(i=e.stateNode,n=e.memoizedProps,i[ur]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ur]=e,e.stateNode=i}return Xa(e),null;case 13:if(Cr(ao),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))us(),ps(),e.flags|=98560,o=!1;else if(o=ds(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ur]=e}else ps(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xa(e),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Dl&&(Dl=3):mc())),null!==e.updateQueue&&(e.flags|=4),Xa(e),null);case 4:return ro(),Ba(t,e),null===t&&Hi(e.stateNode.containerInfo),Xa(e),null;case 10:return ws(e.type._context),Xa(e),null;case 19:if(Cr(ao),null===(o=e.memoizedState))return Xa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)qa(o,!1);else{if(0!==Dl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,qa(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Er(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Zt()>Wl&&(e.flags|=128,i=!0,qa(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=lo(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Xa(e),null}else 2*Zt()-o.renderingStartTime>Wl&&1073741824!==n&&(e.flags|=128,i=!0,qa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Zt(),e.sibling=null,n=ao.current,Er(ao,i?1&n|2:1&n),e):(Xa(e),null);case 22:case 23:return uc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Bl)&&(Xa(e),6&e.subtreeFlags&&(e.flags|=8192)):Xa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ka(t,e){switch(es(e),e.tag){case 1:return Mr(e.type)&&Br(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ro(),Cr(Pr),Cr(Tr),ho(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Cr(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ps()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Cr(ao),null;case 4:return ro(),null;case 10:return ws(e.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ma=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},Fa=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,no($s.current);var s,o=null;switch(n){case"input":r=K(t,r),i=K(t,i),o=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=$i)}for(h in yt(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var l=r[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var c=i[h];if(l=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&zi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}},Da=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ya=!1,Za=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cc(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Cc(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(e,n,s)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ur],delete e[pr],delete e[gr],delete e[mr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$i));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function hl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(hl(t,e,n),t=t.sibling;null!==t;)hl(t,e,n),t=t.sibling}var dl=null,ul=!1;function pl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Za||tl(n,e);case 6:var i=dl,r=ul;dl=null,pl(t,e,n),ul=r,null!==(dl=i)&&(ul?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(t=dl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),He(t)):lr(dl,n.stateNode));break;case 4:i=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,pl(t,e,n),dl=i,ul=r;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,e,o),r=r.next}while(r!==i)}pl(t,e,n);break;case 1:if(!Za&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Cc(n,e,a)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Za=(i=Za)||null!==n.memoizedState,pl(t,e,n),Za=i):pl(t,e,n);break;default:pl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Pc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break t}l=l.return}if(null===dl)throw Error(s(160));fl(o,a,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(h){Cc(r,e,h)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(m){Cc(t,t.return,m)}try{il(5,t,t.return)}catch(m){Cc(t,t.return,m)}}break;case 1:ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),yl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{ut(r,"")}catch(m){Cc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(r,o),xt(l,a);var h=xt(l,o);for(a=0;a<c.length;a+=2){var d=c[a],u=c[a+1];"style"===d?mt(r,u):"dangerouslySetInnerHTML"===d?dt(r,u):"children"===d?ut(r,u):x(r,d,u,h)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?nt(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(m){Cc(t,t.return,m)}}break;case 6:if(ml(e,t),yl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Cc(t,t.return,m)}}break;case 3:if(ml(e,t),yl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){Cc(t,t.return,m)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=Zt())),4&i&&gl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Za=(h=Za)||d,ml(e,t),Za=h):ml(e,t),yl(t),8192&i){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!d&&0!==(1&t.mode))for($a=t,d=t.child;null!==d;){for(u=$a=d;null!==$a;){switch(f=(p=$a).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:tl(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Cc(i,n,m)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){wl(u);continue}}null!==f?(f.return=p,$a=f):wl(u)}d=d.sibling}t:for(d=null,u=t;;){if(5===u.tag){if(null===d){d=u;try{r=u.stateNode,h?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=u.stateNode,a=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Cc(t,t.return,m)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(m){Cc(t,t.return,m)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===t)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===t)break t;for(;null===u.sibling;){if(null===u.return||u.return===t)break t;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ml(e,t),yl(t),4&i&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ut(r,""),i.flags&=-33),hl(t,ll(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){Cc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xl(t,e,n){$a=t,_l(t,e,n)}function _l(t,e,n){for(var i=0!==(1&t.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ya;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ya;var c=Za;if(Ya=o,(Za=l)&&!c)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?Al(r):null!==l?(l.return=o,$a=l):Al(r);for(;null!==s;)$a=s,_l(s,e,n),s=s.sibling;$a=r,Ya=a,Za=c}bl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):bl(t)}}function bl(t){for(;null!==$a;){var e=$a;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Za||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Za)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ms(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Ls(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ls(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var d=h.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&He(u)}}}break;default:throw Error(s(163))}Za||512&e.flags&&sl(e)}catch(p){Cc(e,e.return,p)}}if(e===t){$a=null;break}if(null!==(n=e.sibling)){n.return=e.return,$a=n;break}$a=e.return}}function wl(t){for(;null!==$a;){var e=$a;if(e===t){$a=null;break}var n=e.sibling;if(null!==n){n.return=e.return,$a=n;break}$a=e.return}}function Al(t){for(;null!==$a;){var e=$a;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Cc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Cc(e,r,l)}}var s=e.return;try{sl(e)}catch(l){Cc(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){Cc(e,o,l)}}}catch(l){Cc(e,e.return,l)}if(e===t){$a=null;break}var a=e.sibling;if(null!==a){a.return=e.return,$a=a;break}$a=e.return}}var Sl,Cl=Math.ceil,El=_.ReactCurrentDispatcher,kl=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Pl=0,Rl=null,Il=null,Ml=0,Bl=0,Fl=Sr(0),Dl=0,jl=null,Ol=0,Ll=0,zl=0,Nl=null,Ul=null,Hl=0,Wl=1/0,Vl=null,Gl=!1,ql=null,Xl=null,Ql=!1,Kl=null,Yl=0,Zl=0,Jl=null,$l=-1,tc=0;function ec(){return 0!==(6&Pl)?Zt():-1!==$l?$l:$l=Zt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==gs.transition?(0===tc&&(tc=ge()),tc):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function ic(t,e,n,i){if(50<Zl)throw Zl=0,Jl=null,Error(s(185));ve(t,n,i),0!==(2&Pl)&&t===Rl||(t===Rl&&(0===(2&Pl)&&(Ll|=n),4===Dl&&lc(t,Ml)),rc(t,i),1===n&&0===Pl&&0===(1&e.mode)&&(Wl=Zt()+500,zr&&Hr()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=pe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=ue(t,t===Rl?Ml:0);if(0===i)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){zr=!0,Ur(t)}(cc.bind(null,t)):Ur(cc.bind(null,t)),or((function(){0===(6&Pl)&&Hr()})),n=null;else{switch(_e(i)){case 1:n=$t;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Rc(n,sc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sc(t,e){if($l=-1,tc=0,0!==(6&Pl))throw Error(s(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var i=ue(t,t===Rl?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vc(t,i);else{e=i;var r=Pl;Pl|=2;var o=gc();for(Rl===t&&Ml===e||(Vl=null,Wl=Zt()+500,pc(t,e));;)try{xc();break}catch(l){fc(t,l)}bs(),El.current=o,Pl=r,null!==Il?e=0:(Rl=null,Ml=0,e=Dl)}if(0!==e){if(2===e&&(0!==(r=fe(t))&&(i=r,e=oc(t,r))),1===e)throw n=jl,pc(t,0),lc(t,i),rc(t,Zt()),n;if(6===e)lc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vc(t,i))&&(0!==(o=fe(t))&&(i=o,e=oc(t,o))),1===e))throw n=jl,pc(t,0),lc(t,i),rc(t,Zt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:wc(t,Ul,Vl);break;case 3:if(lc(t,i),(130023424&i)===i&&10<(e=Hl+500-Zt())){if(0!==ue(t,0))break;if(((r=t.suspendedLanes)&i)!==i){ec(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(wc.bind(null,t,Ul,Vl),e);break}wc(t,Ul,Vl);break;case 4:if(lc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Zt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cl(i/1960))-i)){t.timeoutHandle=ir(wc.bind(null,t,Ul,Vl),i);break}wc(t,Ul,Vl);break;default:throw Error(s(329))}}}return rc(t,Zt()),t.callbackNode===n?sc.bind(null,t):null}function oc(t,e){var n=Nl;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Ul,Ul=n,null!==e&&ac(e)),t}function ac(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function lc(t,e){for(e&=~zl,e&=~Ll,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(0!==(6&Pl))throw Error(s(327));Ac();var e=ue(t,0);if(0===(1&e))return rc(t,Zt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=fe(t);0!==i&&(e=i,n=oc(t,i))}if(1===n)throw n=jl,pc(t,0),lc(t,e),rc(t,Zt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,Ul,Vl),rc(t,Zt()),null}function hc(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Wl=Zt()+500,zr&&Hr())}}function dc(t){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&Ac();var e=Pl;Pl|=1;var n=Tl.transition,i=xe;try{if(Tl.transition=null,xe=1,t)return t()}finally{xe=i,Tl.transition=n,0===(6&(Pl=e))&&Hr()}}function uc(){Bl=Fl.current,Cr(Fl)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Il)for(n=Il.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Br();break;case 3:ro(),Cr(Pr),Cr(Tr),ho();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Cr(ao);break;case 10:ws(i.type._context);break;case 22:case 23:uc()}n=n.return}if(Rl=t,Il=t=Fc(t.current,null),Ml=Bl=e,Dl=0,jl=null,zl=Ll=Ol=0,Ul=Nl=null,null!==Es){for(e=0;e<Es.length;e++)if(null!==(i=(n=Es[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Es=null}return t}function fc(t,e){for(;;){var n=Il;try{if(bs(),uo.current=oa,yo){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(fo=0,vo=mo=go=null,xo=!1,_o=0,kl.current=null,null===n||null===n.return){Dl=1,jl=e,Il=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,d=l,u=d.tag;if(0===(1&d.mode)&&(0===u||11===u||15===u)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=va(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,e),1&f.mode&&ma(o,h,e),c=h;var g=(e=f).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ma(o,h,e),mc();break t}c=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,e),fs(ha(c,l));break t}}o=c=ha(c,l),4!==Dl&&(Dl=2),null===Nl?Nl=[o]:Nl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,js(o,fa(0,c,e));break t;case 1:l=c;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xl||!Xl.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e,js(o,ga(o,l,e));break t}}o=o.return}while(null!==o)}bc(n)}catch(_){e=_,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function gc(){var t=El.current;return El.current=oa,null===t?oa:t}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Rl||0===(268435455&Ol)&&0===(268435455&Ll)||lc(Rl,Ml)}function vc(t,e){var n=Pl;Pl|=2;var i=gc();for(Rl===t&&Ml===e||(Vl=null,pc(t,e));;)try{yc();break}catch(r){fc(t,r)}if(bs(),Pl=n,El.current=i,null!==Il)throw Error(s(261));return Rl=null,Ml=0,Dl}function yc(){for(;null!==Il;)_c(Il)}function xc(){for(;null!==Il&&!Kt();)_c(Il)}function _c(t){var e=Sl(t.alternate,t,Bl);t.memoizedProps=t.pendingProps,null===e?bc(t):Il=e,kl.current=null}function bc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Qa(n,e,Bl)))return void(Il=n)}else{if(null!==(n=Ka(n,e)))return n.flags&=32767,void(Il=n);if(null===t)return Dl=6,void(Il=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Il=e);Il=e=t}while(null!==e);0===Dl&&(Dl=5)}function wc(t,e,n){var i=xe,r=Tl.transition;try{Tl.transition=null,xe=1,function(t,e,n,i){do{Ac()}while(null!==Kl);if(0!==(6&Pl))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Rl&&(Il=Rl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(ee,(function(){return Ac(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=xe;xe=1;var l=Pl;Pl|=4,kl.current=null,function(t,e){if(tr=Ve,pi(t=ui())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break t}var a=0,l=-1,c=-1,h=0,d=0,u=t,p=null;e:for(;;){for(var f;u!==n||0!==r&&3!==u.nodeType||(l=a+r),u!==o||0!==i&&3!==u.nodeType||(c=a+i),3===u.nodeType&&(a+=u.nodeValue.length),null!==(f=u.firstChild);)p=u,u=f;for(;;){if(u===t)break e;if(p===n&&++h===r&&(l=a),p===o&&++d===i&&(c=a),null!==(f=u.nextSibling))break;p=(u=p).parentNode}u=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ve=!1,$a=e;null!==$a;)if(t=(e=$a).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$a=t;else for(;null!==$a;){e=$a;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ms(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(b){Cc(e,e.return,b)}if(null!==(t=e.sibling)){t.return=e.return,$a=t;break}$a=e.return}g=nl,nl=!1}(t,n),vl(n,t),fi(er),Ve=!!tr,er=tr=null,t.current=n,xl(n,t,r),Yt(),Pl=l,xe=a,Tl.transition=o}else t.current=n;if(Ql&&(Ql=!1,Kl=t,Yl=r),o=t.pendingLanes,0===o&&(Xl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Zt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,t=ql,ql=null,t;0!==(1&Yl)&&0!==t.tag&&Ac(),o=t.pendingLanes,0!==(1&o)?t===Jl?Zl++:(Zl=0,Jl=t):Zl=0,Hr()}(t,e,n,i)}finally{Tl.transition=r,xe=i}return null}function Ac(){if(null!==Kl){var t=_e(Yl),e=Tl.transition,n=xe;try{if(Tl.transition=null,xe=16>t?16:t,null===Kl)var i=!1;else{if(t=Kl,Kl=null,Yl=0,0!==(6&Pl))throw Error(s(331));var r=Pl;for(Pl|=4,$a=t.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for($a=h;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var u=d.child;if(null!==u)u.return=d,$a=u;else for(;null!==$a;){var p=(d=$a).sibling,f=d.return;if(ol(d),d===h){$a=null;break}if(null!==p){p.return=f,$a=p;break}$a=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else t:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break t}$a=o.return}}var x=t.current;for($a=x;null!==$a;){var _=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,$a=_;else t:for(a=x;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cc(l,l.return,w)}if(l===a){$a=null;break t}var b=l.sibling;if(null!==b){b.return=l.return,$a=b;break t}$a=l.return}}if(Pl=r,Hr(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(w){}i=!0}return i}finally{xe=n,Tl.transition=e}}return!1}function Sc(t,e,n){t=Fs(t,e=fa(0,e=ha(n,e),1),1),e=ec(),null!==t&&(ve(t,1,e),rc(t,e))}function Cc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Xl||!Xl.has(i))){e=Fs(e,t=ga(e,t=ha(n,t),1),1),t=ec(),null!==e&&(ve(e,1,t),rc(e,t));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Zt()-Hl?pc(t,0):zl|=n),rc(t,e)}function kc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=he,0===(130023424&(he<<=1))&&(he=4194304)));var n=ec();null!==(t=Ps(t,e))&&(ve(t,e,n),rc(t,n))}function Tc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),kc(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),kc(t,n)}function Rc(t,e){return Xt(t,e)}function Ic(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(t,e,n,i){return new Ic(t,e,n,i)}function Bc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Fc(t,e){var n=t.alternate;return null===n?((n=Mc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Bc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case A:return jc(n.children,r,o,e);case S:a=8,r|=8;break;case C:return(t=Mc(12,n,e,2|r)).elementType=C,t.lanes=o,t;case P:return(t=Mc(13,n,e,r)).elementType=P,t.lanes=o,t;case R:return(t=Mc(19,n,e,r)).elementType=R,t.lanes=o,t;case B:return Oc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:a=10;break t;case k:a=9;break t;case T:a=11;break t;case I:a=14;break t;case M:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Mc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function jc(t,e,n,i){return(t=Mc(7,t,i,e)).lanes=n,t}function Oc(t,e,n,i){return(t=Mc(22,t,i,e)).elementType=B,t.lanes=n,t.stateNode={isHidden:!1},t}function Lc(t,e,n){return(t=Mc(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=Mc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(t,e,n,i,r,s,o,a,l){return t=new Nc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Mc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),t}function Hc(t){if(!t)return kr;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Mr(n))return Dr(t,n,e)}return e}function Wc(t,e,n,i,r,s,o,a,l){return(t=Uc(n,i,!0,t,0,s,0,a,l)).context=Hc(null),n=t.current,(s=Bs(i=ec(),r=nc(n))).callback=void 0!==e&&null!==e?e:null,Fs(n,s,r),t.current.lanes=r,ve(t,r,i),rc(t,i),t}function Vc(t,e,n,i){var r=e.current,s=ec(),o=nc(r);return n=Hc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Bs(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Fs(r,e,o))&&(ic(t,r,o,s),Ds(t,r,o)),o}function Gc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)_a=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return _a=!1,function(t,e,n){switch(e.tag){case 3:Ra(e),ps();break;case 5:so(e);break;case 1:Mr(e.type)&&jr(e);break;case 4:io(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Er(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Er(ao,1&ao.current),e.flags|=128,null):0!==(n&e.child.childLanes)?La(t,e,n):(Er(ao,1&ao.current),null!==(t=Ga(t,e,n))?t.sibling:null);Er(ao,1&ao.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Wa(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(ao,ao.current),i)break;return null;case 22:case 23:return e.lanes=0,Ca(t,e,n)}return Ga(t,e,n)}(t,e,n);_a=0!==(131072&t.flags)}else _a=!1,rs&&0!==(1048576&e.flags)&&$r(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Va(t,e),t=e.pendingProps;var r=Ir(e,Tr.current);Ss(e,n),r=So(null,e,i,t,r,n);var o=Co();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mr(i)?(o=!0,jr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Is(e),r.updater=Us,e.stateNode=r,r._reactInternals=e,Gs(e,i,t,n),e=Pa(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),ba(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Va(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Bc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===I)return 14}return 2}(i),t=ms(i,t),r){case 0:e=ka(null,e,i,t,n);break t;case 1:e=Ta(null,e,i,t,n);break t;case 11:e=wa(null,e,i,t,n);break t;case 14:e=Aa(null,e,i,ms(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,ka(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 3:t:{if(Ra(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Ms(t,e),Os(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ia(t,e,i,n,r=ha(Error(s(423)),e));break t}if(i!==r){e=Ia(t,e,i,n,r=ha(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=Zs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){e=Ga(t,e,n);break t}ba(t,e,i,n)}e=e.child}return e;case 5:return so(e),null===t&&cs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ea(t,e),ba(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return La(t,e,n);case 4:return io(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ys(e,null,i,n):ba(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,wa(t,e,i,r=e.elementType===i?r:ms(i,r),n);case 7:return ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Er(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Pr.current){e=Ga(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var h=o.updateQueue;if(null!==h){var d=(h=h.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),As(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ss(e,n),i=i(r=Cs(r)),e.flags|=1,ba(t,e,i,n),e.child;case 14:return r=ms(i=e.type,e.pendingProps),Aa(t,e,i,r=ms(i.type,r),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ms(i,r),Va(t,e),e.tag=1,Mr(i)?(t=!0,jr(e)):t=!1,Ss(e,n),Ws(e,i,r),Gs(e,i,r,n),Pa(null,e,i,!0,t,n);case 19:return Wa(t,e,n);case 22:return Ca(t,e,n)}throw Error(s(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $c(){}function th(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Gc(o);a.call(t)}}Vc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Gc(o);s.call(t)}}var o=Wc(e,i,t,0,null,!1,0,"",$c);return t._reactRootContainer=o,t[fr]=o.current,Hi(8===t.nodeType?t.parentNode:t),dc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Gc(l);a.call(t)}}var l=Uc(t,0,!1,null,0,!1,0,"",$c);return t._reactRootContainer=l,t[fr]=l.current,Hi(8===t.nodeType?t.parentNode:t),dc((function(){Vc(e,l,n,i)})),l}(n,e,t,r,i);return Gc(o)}Yc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Vc(t,e,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dc((function(){Vc(null,t,null,null)})),e[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Be.length&&0!==e&&e<Be[n].priority;n++);Be.splice(n,0,t),0===n&&Oe(t)}},be=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ye(e,1|n),rc(e,Zt()),0===(6&Pl)&&(Wl=Zt()+500,Hr()))}break;case 13:dc((function(){var e=Ps(t,1);if(null!==e){var n=ec();ic(e,t,1,n)}})),Xc(t,1)}},we=function(t){if(13===t.tag){var e=Ps(t,134217728);if(null!==e)ic(e,t,134217728,ec());Xc(t,134217728)}},Ae=function(t){if(13===t.tag){var e=nc(t),n=Ps(t,e);if(null!==n)ic(n,t,e,ec());Xc(t,e)}},Se=function(){return xe},Ce=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}},wt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=br(i);if(!r)throw Error(s(90));X(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Tt=hc,Pt=dc;var eh={usingClientEntryPoint:!1,Events:[xr,_r,br,Et,kt,hc]},nh={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ih={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{re=rh.inject(ih),se=rh}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Zc(t))throw Error(s(299));var n=!1,i="",r=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Uc(t,1,!1,null,0,n,0,i,r),t[fr]=e.current,Hi(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return dc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(s(200));return th(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Zc(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Wc(e,null,t,1,null!=n?n:null,r,0,o,a),t[fr]=e.current,Hi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(s(200));return th(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(s(40));return!!t._reactRootContainer&&(dc((function(){th(null,null,t,!1,(function(){t._reactRootContainer=null,t[fr]=null}))})),!0)},e.unstable_batchedUpdates=hc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return th(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},4391:(t,e,n)=>{"use strict";var i=n(7950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(2730)},5082:(t,e)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case s:case a:case o:case u:case p:return t;default:switch(t=t&&t.$$typeof){case h:case c:case d:case g:case f:case l:return t;default:return e}}case r:return e}}}n=Symbol.for("react.module.reference"),e.ForwardRef=d,e.Memo=f},2086:(t,e,n)=>{"use strict";t.exports=n(5082)},1153:(t,e,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,h=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(h=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:h,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},4202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function y(){}function x(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var _=x.prototype=new y;_.constructor=x,g(_,v.prototype),_.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,A={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,r)&&!S.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:A.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var k=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+T(l,0):s,b(o)?(r="",null!=t&&(r=t.replace(k,"$&/")+"/"),P(o,e,r,"",(function(t){return t}))):null!=o&&(E(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",b(t))for(var c=0;c<t.length;c++){var h=s+T(a=t[c],c);l+=P(a,e,r,h,o)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),c=0;!(a=t.next()).done;)l+=P(a=a.value,e,r,h=s+T(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function R(t,e,n){if(null==t)return t;var i=[],r=0;return P(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var M={current:null},B={transition:null},F={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:B,ReactCurrentOwner:A};e.Children={map:R,forEach:function(t,e,n){R(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=x,e.StrictMode=s,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=A.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=B.transition;B.transition={};try{t()}finally{B.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return M.current.useCallback(t,e)},e.useContext=function(t){return M.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return M.current.useDeferredValue(t)},e.useEffect=function(t,e){return M.current.useEffect(t,e)},e.useId=function(){return M.current.useId()},e.useImperativeHandle=function(t,e,n){return M.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return M.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return M.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return M.current.useMemo(t,e)},e.useReducer=function(t,e,n){return M.current.useReducer(t,e,n)},e.useRef=function(t){return M.current.useRef(t)},e.useState=function(t){return M.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return M.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return M.current.useTransition()},e.version="18.2.0"},5043:(t,e,n)=>{"use strict";t.exports=n(4202)},579:(t,e,n)=>{"use strict";t.exports=n(1153)},7234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,h=t[c];if(0>s(l,n))c<r&&0>s(h,l)?(t[i]=h,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(h,n)))break t;t[i]=h,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,u=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=i(h);null!==e;){if(null===e.callback)r(h);else{if(!(e.startTime<=t))break;r(h),e.sortIndex=e.expirationTime,n(c,e)}e=i(h)}}function b(t){if(m=!1,_(t),!g)if(null!==i(c))g=!0,B(w);else{var e=i(h);null!==e&&F(b,e.startTime-t)}}function w(t,n){g=!1,m&&(m=!1,y(E),E=-1),f=!0;var s=p;try{for(_(n),u=i(c);null!==u&&(!(u.expirationTime>n)||t&&!P());){var o=u.callback;if("function"===typeof o){u.callback=null,p=u.priorityLevel;var a=o(u.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?u.callback=a:u===i(c)&&r(c),_(n)}else r(c);u=i(c)}if(null!==u)var l=!0;else{var d=i(h);null!==d&&F(b,d.startTime-n),l=!1}return l}finally{u=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,S=!1,C=null,E=-1,k=5,T=-1;function P(){return!(e.unstable_now()-T<k)}function R(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?A():(S=!1,C=null)}}else S=!1}if("function"===typeof x)A=function(){x(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,M=I.port2;I.port1.onmessage=R,A=function(){M.postMessage(null)}}else A=function(){v(R,0)};function B(t){C=t,S||(S=!0,A())}function F(t,n){E=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,B(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:d++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(h,t),null===i(c)&&t===i(h)&&(m?(y(E),E=-1):m=!0,F(b,s-o))):(t.sortIndex=a,n(c,t),g||f||(g=!0,B(w))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},8853:(t,e,n)=>{"use strict";t.exports=n(7234)},4634:t=>{function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4994:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},4893:t=>{t.exports=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r},t.exports.__esModule=!0,t.exports.default=t.exports},8168:(t,e,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{A:()=>i})},8587:(t,e,n)=>{"use strict";function i(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n.d(e,{A:()=>i})},8387:(t,e,n)=>{"use strict";function i(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=i(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}n.d(e,{A:()=>r});const r=function(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>i[t]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>_e,hasStandardBrowserEnv:()=>be,hasStandardBrowserWebWorkerEnv:()=>Ae});var e={};n.r(e),n.d(e,{Decoder:()=>Zu,Encoder:()=>Ku,PacketType:()=>Qu,protocol:()=>Xu});var i,r=n(5043),s=n.t(r,2),o=n(4391),a=n(7950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const h="popstate";function d(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function p(t,e){return{usr:t.state,key:t.key,idx:e}}function f(t,e,n,i){return void 0===n&&(n=null),c({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function g(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function m(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function v(t,e,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=i.Pop,u=null,m=v();function v(){return(a.state||{idx:null}).idx}function y(){l=i.Pop;let t=v(),e=null==t?null:t-m;m=t,u&&u({action:l,location:_.location,delta:e})}function x(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:g(t);return n=n.replace(/ $/,"%20"),d(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let _={get action(){return l},get location(){return t(s,a)},listen(t){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(h,y),u=t,()=>{s.removeEventListener(h,y),u=null}},createHref:t=>e(s,t),createURL:x,encodeLocation(t){let e=x(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=i.Push;let r=f(_.location,t,e);n&&n(r,t),m=v()+1;let c=p(r,m),h=_.createHref(r);try{a.pushState(c,"",h)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(h)}o&&u&&u({action:l,location:_.location,delta:1})},replace:function(t,e){l=i.Replace;let r=f(_.location,t,e);n&&n(r,t),m=v();let s=p(r,m),c=_.createHref(r);a.replaceState(s,"",c),o&&u&&u({action:l,location:_.location,delta:0})},go:t=>a.go(t)};return _}var y;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(t,e,n){void 0===n&&(n="/");let i=B(("string"===typeof e?m(e):e).pathname||"/",n);if(null==i)return null;let r=_(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o){let t=M(i);s=R(r[o],t)}return s}function _(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=L([i,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(d(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),_(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:P(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of b(t.path))r(t,e,i);else r(t,e)})),e}function b(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=b(i.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),r&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const w=/^:[\w-]+$/,A=3,S=2,C=1,E=10,k=-2,T=t=>"*"===t;function P(t,e){let n=t.split("/"),i=n.length;return n.some(T)&&(i+=k),e&&(i+=S),n.filter((t=>!T(t))).reduce(((t,e)=>t+(w.test(e)?A:""===e?C:E)),i)}function R(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,l="/"===r?e:e.slice(r.length)||"/",c=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let h=t.route;s.push({params:i,pathname:L([r,c.pathname]),pathnameBase:z(L([r,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(r=L([r,c.pathnameBase]))}return s}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);u("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function M(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return u(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function B(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function F(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function j(t,e){let n=D(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function O(t,e,n,i){let r;void 0===i&&(i=!1),"string"===typeof t?r=m(t):(r=c({},t),d(!r.pathname||!r.pathname.includes("?"),F("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),F("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),F("#","search","hash",r)));let s,o=""===t||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let t=e.length-1;if(!i&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?m(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:N(i),hash:U(r)}}(r,s),h=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!u||(l.pathname+="/"),l}const L=t=>t.join("/").replace(/\/\/+/g,"/"),z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",U=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function H(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)}const q=r.createContext(null);const X=r.createContext(null);const Q=r.createContext(null);const K=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=r.createContext(null);function J(){return null!=r.useContext(K)}function $(){return J()||d(!1),r.useContext(K).location}function tt(t){r.useContext(Q).static||r.useLayoutEffect(t)}function et(){let{isDataRoute:t}=r.useContext(Y);return t?function(){let{router:t}=ht(lt.UseNavigateStable),e=ut(ct.UseNavigateStable),n=r.useRef(!1);return tt((()=>{n.current=!0})),r.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,G({fromRouteId:e},r)))}),[t,e])}():function(){J()||d(!1);let t=r.useContext(q),{basename:e,future:n,navigator:i}=r.useContext(Q),{matches:s}=r.useContext(Y),{pathname:o}=$(),a=JSON.stringify(j(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return tt((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=O(n,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==e&&(s.pathname="/"===s.pathname?e:L([e,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[e,i,a,o,t])}()}function nt(t,e,n,s){J()||d(!1);let{navigator:o}=r.useContext(Q),{matches:a}=r.useContext(Y),l=a[a.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,p=$();if(e){var f;let t="string"===typeof e?m(e):e;"/"===h||(null==(f=t.pathname)?void 0:f.startsWith(h))||d(!1),u=t}else u=p;let g=u.pathname||"/",v=g;if("/"!==h){let t=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=x(t,{pathname:v});let _=at(y&&y.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:L([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n,s);return e&&_?r.createElement(K.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:i.Pop}},_):_}function it(){let t=function(){var t;let e=r.useContext(Z),n=dt(ct.UseRouteError),i=ut(ct.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=H(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:s},n):null,null)}const rt=r.createElement(it,null);class st extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ot(t){let{routeContext:e,match:n,children:i}=t,s=r.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:e},i)}function at(t,e,n,i){var s;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var o;if(null==(o=n)||!o.errors)return null;t=n.matches}let a=t,l=null==(s=n)?void 0:s.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&(null==l?void 0:l[t.route.id])));t>=0||d(!1),a=a.slice(0,Math.min(a.length,t+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let t=a[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=r),t.route.id){let{loaderData:e,errors:i}=n,r=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||r){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((t,i,s)=>{let o,d=!1,u=null,p=null;var f;n&&(o=l&&i.route.id?l[i.route.id]:void 0,u=i.route.errorElement||rt,c&&(h<0&&0===s?(f="route-fallback",!1||pt[f]||(pt[f]=!0),d=!0,p=null):h===s&&(d=!0,p=i.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,s+1)),m=()=>{let e;return e=o?u:d?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(ot,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(st,{location:n.location,revalidation:n.revalidation,component:u,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var lt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lt||{}),ct=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ct||{});function ht(t){let e=r.useContext(q);return e||d(!1),e}function dt(t){let e=r.useContext(X);return e||d(!1),e}function ut(t){let e=function(t){let e=r.useContext(Y);return e||d(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||d(!1),n.route.id}const pt={};s.startTransition;function ft(t){d(!1)}function gt(t){let{basename:e="/",children:n=null,location:s,navigationType:o=i.Pop,navigator:a,static:l=!1,future:c}=t;J()&&d(!1);let h=e.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:h,navigator:a,static:l,future:G({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:p="/",search:f="",hash:g="",state:v=null,key:y="default"}=s,x=r.useMemo((()=>{let t=B(p,h);return null==t?null:{location:{pathname:t,search:f,hash:g,state:v,key:y},navigationType:o}}),[h,p,f,g,v,y,o]);return null==x?null:r.createElement(Q.Provider,{value:u},r.createElement(K.Provider,{children:n,value:x}))}function mt(t){let{children:e,location:n}=t;return nt(vt(e),n)}new Promise((()=>{}));r.Component;function vt(t,e){void 0===e&&(e=[]);let n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let s=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,vt(t.props.children,s));t.type!==ft&&d(!1),t.props.index&&t.props.children&&d(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=vt(t.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Gm){}new Map;const yt=s.startTransition;l.flushSync,s.useId;function xt(t){let{basename:e,children:n,future:i,window:s}=t,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v((function(t,e){let{pathname:n,search:i,hash:r}=t.location;return f("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:g(e)}),null,a)));let l=o.current,[c,h]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},u=r.useCallback((t=>{d&&yt?yt((()=>h(t))):h(t)}),[h,d]);return r.useLayoutEffect((()=>l.listen(u)),[l,u]),r.createElement(gt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var _t,bt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_t||(_t={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(bt||(bt={}));function wt(t,e){return function(){return t.apply(e,arguments)}}const{toString:At}=Object.prototype,{getPrototypeOf:St}=Object,Ct=(t=>e=>{const n=At.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Et=t=>(t=t.toLowerCase(),e=>Ct(e)===t),kt=t=>e=>typeof e===t,{isArray:Tt}=Array,Pt=kt("undefined");const Rt=Et("ArrayBuffer");const It=kt("string"),Mt=kt("function"),Bt=kt("number"),Ft=t=>null!==t&&"object"===typeof t,Dt=t=>{if("object"!==Ct(t))return!1;const e=St(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jt=Et("Date"),Ot=Et("File"),Lt=Et("Blob"),zt=Et("FileList"),Nt=Et("URLSearchParams");function Ut(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Tt(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function Ht(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Wt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Vt=t=>!Pt(t)&&t!==Wt;const Gt=(qt="undefined"!==typeof Uint8Array&&St(Uint8Array),t=>qt&&t instanceof qt);var qt;const Xt=Et("HTMLFormElement"),Qt=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),Kt=Et("RegExp"),Yt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ut(n,((n,r)=>{let s;!1!==(s=e(n,r,t))&&(i[r]=s||n)})),Object.defineProperties(t,i)},Zt="abcdefghijklmnopqrstuvwxyz",Jt="0123456789",$t={DIGIT:Jt,ALPHA:Zt,ALPHA_DIGIT:Zt+Zt.toUpperCase()+Jt};const te=Et("AsyncFunction"),ee={isArray:Tt,isArrayBuffer:Rt,isBuffer:function(t){return null!==t&&!Pt(t)&&null!==t.constructor&&!Pt(t.constructor)&&Mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Mt(t.append)&&("formdata"===(e=Ct(t))||"object"===e&&Mt(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Rt(t.buffer),e},isString:It,isNumber:Bt,isBoolean:t=>!0===t||!1===t,isObject:Ft,isPlainObject:Dt,isUndefined:Pt,isDate:jt,isFile:Ot,isBlob:Lt,isRegExp:Kt,isFunction:Mt,isStream:t=>Ft(t)&&Mt(t.pipe),isURLSearchParams:Nt,isTypedArray:Gt,isFileList:zt,forEach:Ut,merge:function t(){const{caseless:e}=Vt(this)&&this||{},n={},i=(i,r)=>{const s=e&&Ht(n,r)||r;Dt(n[s])&&Dt(i)?n[s]=t(n[s],i):Dt(i)?n[s]=t({},i):Tt(i)?n[s]=i.slice():n[s]=i};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ut(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ut(e,((e,i)=>{n&&Mt(e)?t[i]=wt(e,n):t[i]=e}),{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],i&&!i(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==n&&St(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ct,kindOfTest:Et,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Tt(t))return t;let e=t.length;if(!Bt(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:Xt,hasOwnProperty:Qt,hasOwnProp:Qt,reduceDescriptors:Yt,freezeMethods:t=>{Yt(t,((e,n)=>{if(Mt(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];Mt(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return Tt(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:Ht,global:Wt,isContextDefined:Vt,ALPHABET:$t,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t.ALPHA_DIGIT,n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&Mt(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(Ft(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const r=Tt(t)?[]:{};return Ut(t,((t,e)=>{const s=n(t,i+1);!Pt(s)&&(r[e]=s)})),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:te,isThenable:t=>t&&(Ft(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch)};function ne(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}ee.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ie=ne.prototype,re={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{re[t]={value:t}})),Object.defineProperties(ne,re),Object.defineProperty(ie,"isAxiosError",{value:!0}),ne.from=(t,e,n,i,r,s)=>{const o=Object.create(ie);return ee.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),ne.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const se=ne;function oe(t){return ee.isPlainObject(t)||ee.isArray(t)}function ae(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function le(t,e,n){return t?t.concat(e).map((function(t,e){return t=ae(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const ce=ee.toFlatObject(ee,{},null,(function(t){return/^is[A-Z]/.test(t)}));const he=function(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ee.isUndefined(e[t])}))).metaTokens,r=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(ee.isDate(t))return t.toISOString();if(!a&&ee.isBlob(t))throw new se("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(t)||ee.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(ee.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(ee.isArray(t)&&function(t){return ee.isArray(t)&&!t.some(oe)}(t)||(ee.isFileList(t)||ee.endsWith(n,"[]"))&&(a=ee.toArray(t)))return n=ae(n),a.forEach((function(t,i){!ee.isUndefined(t)&&null!==t&&e.append(!0===o?le([n],i,s):null===o?n:n+"[]",l(t))})),!1;return!!oe(t)||(e.append(le(r,n,s),l(t)),!1)}const h=[],d=Object.assign(ce,{defaultVisitor:c,convertValue:l,isVisitable:oe});if(!ee.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!ee.isUndefined(n)){if(-1!==h.indexOf(n))throw Error("Circular reference detected in "+i.join("."));h.push(n),ee.forEach(n,(function(n,s){!0===(!(ee.isUndefined(n)||null===n)&&r.call(e,n,ee.isString(s)?s.trim():s,i,d))&&t(n,i?i.concat(s):[s])})),h.pop()}}(t),e};function de(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function ue(t,e){this._pairs=[],t&&he(t,this,e)}const pe=ue.prototype;pe.append=function(t,e){this._pairs.push([t,e])},pe.toString=function(t){const e=t?function(e){return t.call(this,e,de)}:de;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const fe=ue;function ge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function me(t,e,n){if(!e)return t;const i=n&&n.encode||ge,r=n&&n.serialize;let s;if(s=r?r(e,n):ee.isURLSearchParams(e)?e.toString():new fe(e,n).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const ve=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},ye={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:fe,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},_e="undefined"!==typeof window&&"undefined"!==typeof document,be=(we="undefined"!==typeof navigator&&navigator.product,_e&&["ReactNative","NativeScript","NS"].indexOf(we)<0);var we;const Ae="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Se={...t,...xe};const Ce=function(t){function e(t,n,i,r){let s=t[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&ee.isArray(i)?i.length:s,a)return ee.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&ee.isObject(i[s])||(i[s]=[]);return e(t,n,i[s],r)&&ee.isArray(i[s])&&(i[s]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}(i[s])),!o}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,((t,i)=>{e(function(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null};const Ee={transitional:ye,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=ee.isObject(t);r&&ee.isHTMLForm(t)&&(t=new FormData(t));if(ee.isFormData(t))return i?JSON.stringify(Ce(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return he(t,new Se.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return Se.isNode&&ee.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=ee.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return he(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(Gm){if("SyntaxError"!==Gm.name)throw Gm}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Ee.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&ee.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(Gm){if(n){if("SyntaxError"===Gm.name)throw se.from(Gm,se.ERR_BAD_RESPONSE,this,null,this.response);throw Gm}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],(t=>{Ee.headers[t]={}}));const ke=Ee,Te=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pe=Symbol("internals");function Re(t){return t&&String(t).trim().toLowerCase()}function Ie(t){return!1===t||null==t?t:ee.isArray(t)?t.map(Ie):String(t)}function Me(t,e,n,i,r){return ee.isFunction(i)?i.call(this,e,n):(r&&(e=n),ee.isString(e)?ee.isString(i)?-1!==e.indexOf(i):ee.isRegExp(i)?i.test(e):void 0:void 0)}class Be{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=Re(e);if(!r)throw new Error("header name must be a non-empty string");const s=ee.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||e]=Ie(t))}const s=(t,e)=>ee.forEach(t,((t,n)=>r(t,n,e)));return ee.isPlainObject(t)||t instanceof this.constructor?s(t,e):ee.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&Te[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=Re(t)){const n=ee.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(ee.isFunction(e))return e.call(this,t,n);if(ee.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Re(t)){const n=ee.findKey(this,t);return!(!n||void 0===this[n]||e&&!Me(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=Re(t)){const r=ee.findKey(n,t);!r||e&&!Me(0,n[r],r,e)||(delete n[r],i=!0)}}return ee.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!Me(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return ee.forEach(this,((i,r)=>{const s=ee.findKey(n,r);if(s)return e[s]=Ie(i),void delete e[r];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete e[r],e[o]=Ie(i),n[o]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return ee.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&ee.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[Pe]=this[Pe]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=Re(t);e[i]||(!function(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return ee.isArray(t)?t.forEach(i):i(t),this}}Be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ee.reduceDescriptors(Be.prototype,((t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}})),ee.freezeMethods(Be);const Fe=Be;function De(t,e){const n=this||ke,i=e||n,r=Fe.from(i.headers);let s=i.data;return ee.forEach(t,(function(t){s=t.call(n,s,r.normalize(),e?e.status:void 0)})),r.normalize(),s}function je(t){return!(!t||!t.__CANCEL__)}function Oe(t,e,n){se.call(this,null==t?"canceled":t,se.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Oe,se,{__CANCEL__:!0});const Le=Oe;const ze=Se.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ee.isString(i)&&o.push("path="+i),ee.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ne(t,e){return t&&!function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ue=Se.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=ee.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const He=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[o];r||(r=l),n[s]=a,i[s]=l;let h=o,d=0;for(;h!==s;)d+=n[h++],h%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const u=c&&l-c;return u?Math.round(1e3*d/u):void 0}};function We(t,e){let n=0;const i=He(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r};c[e?"download":"upload"]=!0,t(c)}}const Ve="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let i=t.data;const r=Fe.from(t.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(ee.isFormData(i))if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[t,...e]=o?o.split(";").map((t=>t.trim())).filter(Boolean):[];r.setContentType([t||"multipart/form-data",...e].join("; "))}let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+n))}const d=Ne(t.baseURL,t.url);function u(){if(!h)return;const i=Fe.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),c()}),(function(t){n(t),c()}),{data:a&&"text"!==a&&"json"!==a?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:t,request:h}),h=null}if(h.open(t.method.toUpperCase(),me(d,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=u:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(u)},h.onabort=function(){h&&(n(new se("Request aborted",se.ECONNABORTED,t,h)),h=null)},h.onerror=function(){n(new se("Network Error",se.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const i=t.transitional||ye;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new se(e,i.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,h)),h=null},Se.hasStandardBrowserEnv&&(l&&ee.isFunction(l)&&(l=l(t)),l||!1!==l&&Ue(d))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&ze.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===i&&r.setContentType(null),"setRequestHeader"in h&&ee.forEach(r.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),ee.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),a&&"json"!==a&&(h.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&h.addEventListener("progress",We(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",We(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{h&&(n(!e||e.type?new Le(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const p=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(d);p&&-1===Se.protocols.indexOf(p)?n(new se("Unsupported protocol "+p+":",se.ERR_BAD_REQUEST,t)):h.send(i||null)}))},Ge={http:null,xhr:Ve};ee.forEach(Ge,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(Gm){}Object.defineProperty(t,"adapterName",{value:e})}}));const qe=t=>"- ".concat(t),Xe=t=>ee.isFunction(t)||null===t||!1===t,Qe=t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){let e;if(n=t[s],i=n,!Xe(n)&&(i=Ge[(e=String(n)).toLowerCase()],void 0===i))throw new se("Unknown adapter '".concat(e,"'"));if(i)break;r[e||"#"+s]=i}if(!i){const t=Object.entries(r).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(qe).join("\n"):" "+qe(t[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Ke(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Le(null,t)}function Ye(t){Ke(t),t.headers=Fe.from(t.headers),t.data=De.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Qe(t.adapter||ke.adapter)(t).then((function(e){return Ke(t),e.data=De.call(t,t.transformResponse,e),e.headers=Fe.from(e.headers),e}),(function(e){return je(e)||(Ke(t),e&&e.response&&(e.response.data=De.call(t,t.transformResponse,e.response),e.response.headers=Fe.from(e.response.headers))),Promise.reject(e)}))}const Ze=t=>t instanceof Fe?{...t}:t;function Je(t,e){e=e||{};const n={};function i(t,e,n){return ee.isPlainObject(t)&&ee.isPlainObject(e)?ee.merge.call({caseless:n},t,e):ee.isPlainObject(e)?ee.merge({},e):ee.isArray(e)?e.slice():e}function r(t,e,n){return ee.isUndefined(e)?ee.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function s(t,e){if(!ee.isUndefined(e))return i(void 0,e)}function o(t,e){return ee.isUndefined(e)?ee.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,s){return s in e?i(n,r):s in t?i(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>r(Ze(t),Ze(e),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),(function(i){const s=l[i]||r,o=s(t[i],e[i],i);ee.isUndefined(o)&&s!==a||(n[i]=o)})),n}const $e="1.6.8",tn={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{tn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const en={};tn.transitional=function(t,e,n){function i(t,e){return"[Axios v1.6.8] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,s)=>{if(!1===t)throw new se(i(r," has been removed"+(e?" in "+e:"")),se.ERR_DEPRECATED);return e&&!en[r]&&(en[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}};const nn={assertOptions:function(t,e,n){if("object"!==typeof t)throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new se("option "+s+" must be "+n,se.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}},validators:tn},rn=nn.validators;class sn{constructor(t){this.defaults=t,this.interceptors={request:new ve,response:new ve}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=Je(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&nn.assertOptions(n,{silentJSONParsing:rn.transitional(rn.boolean),forcedJSONParsing:rn.transitional(rn.boolean),clarifyTimeoutError:rn.transitional(rn.boolean)},!1),null!=i&&(ee.isFunction(i)?e.paramsSerializer={serialize:i}:nn.assertOptions(i,{encode:rn.function,serialize:rn.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&ee.merge(r.common,r[e.method]);r&&ee.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=Fe.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let h,d=0;if(!a){const t=[Ye.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,l),h=t.length,c=Promise.resolve(e);d<h;)c=c.then(t[d++],t[d++]);return c}h=o.length;let u=e;for(d=0;d<h;){const t=o[d++],e=o[d++];try{u=t(u)}catch(p){e.call(this,p);break}}try{c=Ye.call(this,u)}catch(p){return Promise.reject(p)}for(d=0,h=l.length;d<h;)c=c.then(l[d++],l[d++]);return c}getUri(t){return me(Ne((t=Je(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}ee.forEach(["delete","get","head","options"],(function(t){sn.prototype[t]=function(e,n){return this.request(Je(n||{},{method:t,url:e,data:(n||{}).data}))}})),ee.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(Je(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}sn.prototype[t]=e(),sn.prototype[t+"Form"]=e(!0)}));const on=sn;class an{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,r){n.reason||(n.reason=new Le(t,i,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new an((function(e){t=e})),cancel:t}}}const ln=an;const cn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cn).forEach((t=>{let[e,n]=t;cn[n]=e}));const hn=cn;const dn=function t(e){const n=new on(e),i=wt(on.prototype.request,n);return ee.extend(i,on.prototype,n,{allOwnKeys:!0}),ee.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(Je(e,n))},i}(ke);dn.Axios=on,dn.CanceledError=Le,dn.CancelToken=ln,dn.isCancel=je,dn.VERSION=$e,dn.toFormData=he,dn.AxiosError=se,dn.Cancel=dn.CanceledError,dn.all=function(t){return Promise.all(t)},dn.spread=function(t){return function(e){return t.apply(null,e)}},dn.isAxiosError=function(t){return ee.isObject(t)&&!0===t.isAxiosError},dn.mergeConfig=Je,dn.AxiosHeaders=Fe,dn.formToJSON=t=>Ce(ee.isHTMLForm(t)?new FormData(t):t),dn.getAdapter=Qe,dn.HttpStatusCode=hn,dn.default=dn;const un=dn,pn=window.location.href.includes("heroku")?"https://medical-mayhem-c0832c3f548e.herokuapp.com":"http://localhost:4000";un.defaults.withCredentials=!0;const fn=un.create({baseURL:"".concat(pn,"/auth")}),gn={getLoggedIn:async()=>await fn.get("/loggedIn/"),registerUser:async(t,e,n,i)=>await fn.post("/register/",{username:t,email:e,password:n,passwordVerify:i}),loginUser:async(t,e)=>await fn.post("/login/",{email:t,password:e}),logoutUser:async()=>await fn.get("/logout/"),deleteUser:async()=>await fn.post("/deleteUser/")};var mn=n(579);const vn=(0,r.createContext)(),yn="GET_LOGGED_IN",xn="LOGIN_USER",_n="LOGOUT_USER",bn="LOGIN_GUEST",wn="LOGOUT_GUEST",An="REGISTER_USER",Sn="DELETE_USER",Cn="UPDATE_USERNAME",En="ERROR",kn={USER:"USER",ADMIN:"ADMIN",GUEST:"GUEST"};function Tn(t){const[e,n]=(0,r.useState)({username:"",email:"",role:null,loggedIn:!1,errorMessage:""}),i=et();(0,r.useEffect)((()=>{e.getLoggedIn()}),[]);const s=t=>{const{type:i,payload:r}=t;switch(i){case yn:return n({username:r.username,email:r.email,role:kn.USER,loggedIn:r.loggedIn,errorMessage:""});case An:case xn:return n({username:r.username,email:r.email,role:kn.USER,loggedIn:!0,errorMessage:""});case _n:return n({username:"",email:"",role:null,loggedIn:!1,errorMessage:""});case bn:return n({username:"",email:"",role:kn.GUEST,loggedIn:!0,errorMessage:""});case wn:case Sn:return n({username:"",email:"",role:null,loggedIn:!1,errorMessage:""});case Cn:return console.log("UPDATING USERNAME"),n({username:r.username,email:e.email,role:e.role,loggedIn:e.loggedIn,errorMessage:""});case En:return n({username:"",email:"",role:null,loggedIn:!1,errorMessage:r.errorMessage});default:return e}};return e.getLoggedIn=async function(){try{const t=await gn.getLoggedIn();console.log("AFTER"),console.log("getLoggedIn response: "+t.status),console.log(t),200!==t.status||e.loggedIn||(console.log("LOGGING IN"),s({type:yn,payload:{loggedIn:t.data.loggedIn,username:t.data.username,email:t.data.email}}))}catch(t){console.log("LOGGING OUT USER...INVALID TOKEN"),e.loggedIn&&s({type:_n,payload:null}),i("/")}},e.registerUser=async function(t,e,n,r){try{const o=await gn.registerUser(t,e,n,r);console.log(o),200===o.status&&(console.log("success"),s({type:An,payload:{username:o.data.username,email:o.data.email}}),i("/"))}catch(o){console.log(o.response.data.errorMessage),s({type:En,payload:{errorMessage:o.response.data.errorMessage}})}},e.loginUser=async function(t,e){console.log("Login user");try{const n=await gn.loginUser(t,e);console.log(n),200===n.status&&(console.log("success"),s({type:xn,payload:{username:n.data.username,email:n.data.email}}),i("/"))}catch(n){console.log(n),s({type:En,payload:{errorMessage:n.response.data.errorMessage}})}},e.logoutUser=async function(){200===(await gn.logoutUser()).status&&(s({type:_n,payload:null}),i("/"))},e.loginGuest=function(){s({type:bn,payload:null}),i("/")},e.logoutGuest=function(){s({type:wn,payload:null}),i("/")},e.deleteUser=async function(){try{200===(await gn.deleteUser()).status&&(s({type:Sn,payload:null}),i("/"))}catch(t){console.log(t.response.data.errorMessage),s({type:En,payload:{errorMessage:t.response.data.errorMessage}})}},e.updateUsername=t=>{s({type:Cn,payload:{username:t}})},e.hideModal=()=>{s({type:En,payload:{errorMessage:""}})},e.isErrorModalOpen=()=>""!==e.errorMessage,e.error=async function(t){console.log("error"),s({type:En,payload:{errorMessage:t}})},(0,mn.jsx)(vn.Provider,{value:{auth:e},children:t.children})}const Pn=vn;un.defaults.withCredentials=!0;const Rn=un.create({baseURL:"".concat(pn,"/api")}),In={getProfile:async()=>await Rn.get("/getProfile/"),updateProfile:async(t,e,n)=>Rn.post("/updateProfile/",{username:t,bio:e,pfp:n}),removeFriend:async t=>await Rn.post("/friend/remove/:username",{username:t.username}),viewFriends:async()=>await Rn.get("/friends/"),sendFriendRequest:async t=>await Rn.post("/friendRequest/:targetUsername",{targetUsername:t}),getRecentPlayers:async()=>await Rn.get("/recentPlayers"),viewSentRequests:async()=>await Rn.get("/friendRequests/sent"),viewReceivedRequests:async()=>await Rn.get("/friendRequests/received"),cancelFriendRequest:async t=>await Rn.post("/friendRequest/:targetUser/cancel",{targetUser:t}),ignoreFriendRequest:async t=>await Rn.post("/friendRequest/:targetUser/ignore",{targetUser:t}),acceptFriendRequest:async t=>await Rn.post("/friendRequest/:targetUser/accept",{targetUser:t}),getAvatar:async()=>await Rn.get("/getAvatar/"),updateAvatar:async(t,e,n,i,r)=>Rn.post("/updateAvatar/",{pic:t,speed:e,strength:n,defense:i,favoredMinigame:r})},Mn=(0,r.createContext)({});console.log("create GlobalStoreContext");const Bn="CHANGE_SEARCH_BAR",Fn="GET_PROFILE",Dn="UPDATE_PROFILE",jn="RESET",On="VIEW_FRIENDS",Ln="REMOVE_FRIENDS",zn="ERROR",Nn="GET_AVATAR",Un="UPDATE_AVATAR",Hn="NONE",Wn="HOME";function Vn(t){const{auth:e}=(0,r.useContext)(Pn);console.log("auth:",e);const[n,i]=(0,r.useState)({currentModal:Hn,currentHomeScreen:Wn,profileInfo:{username:"",bio:"",pfp:""},errorMessage:"",avatar:{pic:"",speed:0,strength:0,defense:0,favoredMinigame:""}});console.log("inside useGlobalStore");const s=t=>{const{type:e,payload:r}=t;switch(console.log("STATE UPDATE"),console.log(e),console.log(r),console.log(n),e){case Bn:return i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:n.profileInfo,errorMessage:"",avatar:n.avatar});case Fn:return console.log("IN GET:",r),i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:r,errorMessage:"",avatar:n.avatar});case Dn:return console.log("IN UPDATE PROFILE:",r),i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:r,errorMessage:"",avatar:n.avatar});case jn:return i({currentModal:Hn,currentHomeScreen:Wn,profileInfo:{},errorMessage:"",avatar:{pic:"",speed:0,strength:0,defense:0,favoredMinigame:""}});case On:return console.log("IN VIEW FRIENDS:",r),i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:r,errorMessage:"",avatar:n.avatar});case zn:return i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:n.profileInfo,errorMessage:r.errorMessage,avatar:n.avatar});case Nn:case Un:return i({currentModal:Hn,currentHomeScreen:n.currentHomeScreen,profileInfo:n.profileInfo,errorMessage:"",avatar:r});default:return n}};return n.reset=function(){s({type:jn,payload:{}})},n.acceptInvite=function(t){console.log("Invite ACCEPTED in store.")},n.rejectInvite=function(t){console.log("Invite REJECTED in store.")},n.getProfile=function(){!async function(){try{let t=await In.getProfile();console.log(t),s({type:Fn,payload:t.data})}catch(t){console.log(t)}}()},n.updateProfile=function(t,e,n){!async function(){try{let i=await In.updateProfile(t,e,n);console.log(i),s({type:Dn,payload:{username:t,bio:e,pfp:n}})}catch(i){console.error(i)}}()},n.openPrivateMessaging=function(t,e){console.log("Private messaging in store")},n.sendFriend=function(t,e){console.log("Sending friend request to user",t,"in store"),async function(){try{200===(await In.sendFriendRequest(t)).status&&e(),console.log("Sent a friend request to user",t)}catch(n){console.error(n.response.data.errorMessage),s({type:zn,payload:{errorMessage:n.response.data.errorMessage}})}}()},n.promoteToLeader=function(t){console.log("Promote to leader in store")},n.removeFromParty=function(t){console.log("Remove from party in store")},n.reportPlayer=function(t){console.log("Report player in store")},n.sendPublicMessage=function(t){console.log("Send public message in store.")},n.sendPartyMessage=function(t){console.log("Send party message in store.")},n.sendPrivateMessage=function(t){console.log("Send private message in store.")},n.removeFriend=t=>{!async function(){console.log(t);try{let e=await In.removeFriend(t);s({type:Ln,payload:e.data})}catch(e){console.error(e)}}()},n.viewFriends=function(){!async function(){try{let t=await In.viewFriends();console.log(t),s({type:On,payload:t.data})}catch(t){console.log(t)}}()},n.showRecentPlayers=function(){console.log("Show recent players in store"),async function(){try{let t=await In.getRecentPlayers();console.log(t),s({type:On,payload:t.data})}catch(t){console.error(t)}}()},n.showSentRequests=function(){console.log("Show friend requests SENT in store."),async function(){try{let t=await In.viewSentRequests();console.log(t),s({type:On,payload:t.data})}catch(t){console.error(t)}}()},n.showReceivedRequests=function(){console.log("Show friends requests RECEIVED in store"),async function(){try{let t=await In.viewReceivedRequests();console.log(t),s({type:On,payload:t.data})}catch(t){console.error(t)}}()},n.cancelFriendRequest=function(t){console.log("Cancel friend request in store"),async function(){try{console.log(t);let e=await In.cancelFriendRequest(t);console.log(e),s({type:On,payload:e.data})}catch(e){console.error(e)}}()},n.ignoreFriendRequest=function(t){console.log("Ignore friend request in store"),async function(){try{let e=await In.ignoreFriendRequest(t);console.log(e),s({type:On,payload:e.data})}catch(e){console.error(e)}}()},n.acceptFriendRequest=function(t){console.log("Accept friend request in store"),async function(){try{let e=await In.acceptFriendRequest(t);console.log(e),s({type:On,payload:e.data})}catch(e){console.error(e)}}()},n.openThread=function(t){console.log("Opening thread in store.")},n.postThread=function(t){console.log("Post thread in store.")},n.openMap=function(t){console.log("Opening map in store.")},n.getAvatar=function(){!async function(){try{let t=await In.getAvatar();console.log(t),s({type:Nn,payload:t.data})}catch(t){console.log(t)}}()},n.updateAvatar=function(t,e,n,i,r){!async function(){try{let o=await In.updateAvatar(t,e,n,i,r);console.log(o),s({type:Un,payload:{pic:t,speed:e,strength:n,defense:i,favoredMinigame:r}})}catch(o){alert("Please choose an image below 50 KB.")}}()},n.sortHighestScore=function(t){console.log("Sort by highest score in store.")},n.sortTotalScore=function(t){console.log("Sort by total score in store.")},n.sortGamesPlayed=function(t){console.log("Sort by games played in store.")},n.sortMinigamesPlayed=function(t){console.log("Sort by minigames played in store.")},n.submitReport=function(t){console.log("Submit report in store.")},n.ignoreReport=function(t){console.log("Ignored report in store.")},n.completeReport=function(t){console.log("Completed report in store.")},n.hideModal=()=>{s({type:zn,payload:{errorMessage:""}})},n.isErrorModalOpen=()=>""!==e.errorMessage,(0,mn.jsx)(Mn.Provider,{value:{store:n},children:t.children})}const Gn=Mn;var qn=n(8168),Xn=n(8587),Qn=n(8387),Kn=n(3174),Yn=n(8812),Zn=n(8698),Jn=n(8653);const $n=["className","component"];var ti=n(5430),ei=n(8279),ni=n(3375),ii=n(7056);const ri=(0,ii.A)("MuiBox",["root"]),si=(0,ei.A)(),oi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:s}=t,o=(0,Kn.default)("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(Yn.A);return r.forwardRef((function(t,r){const a=(0,Jn.A)(n),l=(0,Zn.A)(t),{className:c,component:h="div"}=l,d=(0,Xn.A)(l,$n);return(0,mn.jsx)(o,(0,qn.A)({as:h,ref:r,className:(0,Qn.A)(c,s?s(i):i),theme:e&&a[e]||a},d))}))}({themeId:ni.A,defaultTheme:si,defaultClassName:ri.root,generateClassName:ti.A.generate}),ai=oi;var li=n(8606),ci=n(4535),hi=n(2876),di=n(6803),ui=n(2400);function pi(t){return(0,ui.Ay)("MuiTypography",t)}(0,ii.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fi=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],gi=(0,ci.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e["align".concat((0,di.A)(n.align))],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&e.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),mi={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vi={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},yi=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTypography"}),i=(t=>vi[t]||t)(n.color),r=(0,Zn.A)((0,qn.A)({},n,{color:i})),{align:s="inherit",className:o,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:h=!1,variant:d="body1",variantMapping:u=mi}=r,p=(0,Xn.A)(r,fi),f=(0,qn.A)({},r,{align:s,color:i,className:o,component:a,gutterBottom:l,noWrap:c,paragraph:h,variant:d,variantMapping:u}),g=a||(h?"p":u[d]||mi[d])||"span",m=(t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:r,variant:s,classes:o}=t,a={root:["root",s,"inherit"!==t.align&&"align".concat((0,di.A)(e)),n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return(0,li.A)(a,pi,o)})(f);return(0,mn.jsx)(gi,(0,qn.A)({as:g,ref:e,ownerState:f,className:(0,Qn.A)(m.root,o)},p))}));var xi=n(9751),_i=n(5170);function bi(){const t=(0,Jn.A)(_i.A);return t[ni.A]||t}const wi=r.createContext();function Ai(t){return(0,ui.Ay)("MuiGrid",t)}const Si=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ci=(0,ii.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((t=>"spacing-xs-".concat(t))),...["column-reverse","column","row-reverse","row"].map((t=>"direction-xs-".concat(t))),...["nowrap","wrap-reverse","wrap"].map((t=>"wrap-xs-".concat(t))),...Si.map((t=>"grid-xs-".concat(t))),...Si.map((t=>"grid-sm-".concat(t))),...Si.map((t=>"grid-md-".concat(t))),...Si.map((t=>"grid-lg-".concat(t))),...Si.map((t=>"grid-xl-".concat(t)))]),Ei=Ci,ki=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ti(t){const e=parseFloat(t);return"".concat(e).concat(String(t).replace(String(e),"")||"px")}function Pi(t){let{breakpoints:e,values:n}=t,i="";Object.keys(n).forEach((t=>{""===i&&0!==n[t]&&(i=t)}));const r=Object.keys(e).sort(((t,n)=>e[t]-e[n]));return r.slice(0,r.indexOf(i))}const Ri=(0,ci.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:i,direction:r,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let h=[];i&&(h=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||t<=0)return[];if("string"===typeof t&&!Number.isNaN(Number(t))||"number"===typeof t)return[n["spacing-xs-".concat(String(t))]];const i=[];return e.forEach((e=>{const r=t[e];Number(r)>0&&i.push(n["spacing-".concat(e,"-").concat(String(r))])})),i}(o,c,e));const d=[];return c.forEach((t=>{const i=n[t];i&&d.push(e["grid-".concat(t,"-").concat(String(i))])})),[e.root,i&&e.container,s&&e.item,l&&e.zeroMinWidth,...h,"row"!==r&&e["direction-xs-".concat(String(r))],"wrap"!==a&&e["wrap-xs-".concat(String(a))],...d]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap})}),(function(t){let{theme:e,ownerState:n}=t;const i=(0,xi.kW)({values:n.direction,breakpoints:e.breakpoints.values});return(0,xi.NI)({theme:e},i,(t=>{const e={flexDirection:t};return 0===t.indexOf("column")&&(e["& > .".concat(Ei.item)]={maxWidth:"none"}),e}))}),(function(t){let{theme:e,ownerState:n}=t;const{container:i,rowSpacing:r}=n;let s={};if(i&&0!==r){const t=(0,xi.kW)({values:r,breakpoints:e.breakpoints.values});let n;"object"===typeof t&&(n=Pi({breakpoints:e.breakpoints.values,values:t})),s=(0,xi.NI)({theme:e},t,((t,i)=>{var r;const s=e.spacing(t);return"0px"!==s?{marginTop:"-".concat(Ti(s)),["& > .".concat(Ei.item)]:{paddingTop:Ti(s)}}:null!=(r=n)&&r.includes(i)?{}:{marginTop:0,["& > .".concat(Ei.item)]:{paddingTop:0}}}))}return s}),(function(t){let{theme:e,ownerState:n}=t;const{container:i,columnSpacing:r}=n;let s={};if(i&&0!==r){const t=(0,xi.kW)({values:r,breakpoints:e.breakpoints.values});let n;"object"===typeof t&&(n=Pi({breakpoints:e.breakpoints.values,values:t})),s=(0,xi.NI)({theme:e},t,((t,i)=>{var r;const s=e.spacing(t);return"0px"!==s?{width:"calc(100% + ".concat(Ti(s),")"),marginLeft:"-".concat(Ti(s)),["& > .".concat(Ei.item)]:{paddingLeft:Ti(s)}}:null!=(r=n)&&r.includes(i)?{}:{width:"100%",marginLeft:0,["& > .".concat(Ei.item)]:{paddingLeft:0}}}))}return s}),(function(t){let e,{theme:n,ownerState:i}=t;return n.breakpoints.keys.reduce(((t,r)=>{let s={};if(i[r]&&(e=i[r]),!e)return t;if(!0===e)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===e)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=(0,xi.kW)({values:i.columns,breakpoints:n.breakpoints.values}),a="object"===typeof o?o[r]:o;if(void 0===a||null===a)return t;const l="".concat(Math.round(e/a*1e8)/1e6,"%");let c={};if(i.container&&i.item&&0!==i.columnSpacing){const t=n.spacing(i.columnSpacing);if("0px"!==t){const e="calc(".concat(l," + ").concat(Ti(t),")");c={flexBasis:e,maxWidth:e}}}s=(0,qn.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[r]?Object.assign(t,s):t[n.breakpoints.up(r)]=s,t}),{})}));const Ii=t=>{const{classes:e,container:n,direction:i,item:r,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=function(t,e){if(!t||t<=0)return[];if("string"===typeof t&&!Number.isNaN(Number(t))||"number"===typeof t)return["spacing-xs-".concat(String(t))];const n=[];return e.forEach((e=>{const i=t[e];if(Number(i)>0){const t="spacing-".concat(e,"-").concat(String(i));n.push(t)}})),n}(s,l));const h=[];l.forEach((e=>{const n=t[e];n&&h.push("grid-".concat(e,"-").concat(String(n)))}));const d={root:["root",n&&"container",r&&"item",a&&"zeroMinWidth",...c,"row"!==i&&"direction-xs-".concat(String(i)),"wrap"!==o&&"wrap-xs-".concat(String(o)),...h]};return(0,li.A)(d,Ai,e)},Mi=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiGrid"}),{breakpoints:i}=bi(),s=(0,Zn.A)(n),{className:o,columns:a,columnSpacing:l,component:c="div",container:h=!1,direction:d="row",item:u=!1,rowSpacing:p,spacing:f=0,wrap:g="wrap",zeroMinWidth:m=!1}=s,v=(0,Xn.A)(s,ki),y=p||f,x=l||f,_=r.useContext(wi),b=h?a||12:_,w={},A=(0,qn.A)({},v);i.keys.forEach((t=>{null!=v[t]&&(w[t]=v[t],delete A[t])}));const S=(0,qn.A)({},s,{columns:b,container:h,direction:d,item:u,rowSpacing:y,columnSpacing:x,wrap:g,zeroMinWidth:m,spacing:f},w,{breakpoints:i.keys}),C=Ii(S);return(0,mn.jsx)(wi.Provider,{value:b,children:(0,mn.jsx)(Ri,(0,qn.A)({ownerState:S,className:(0,Qn.A)(C.root,o),as:c,ref:e},A))})}));const Bi=Mi;var Fi=n(2018),Di=n(7266),ji=n(1475),Oi=n(5849),Li=n(3319),zi=n(7844);function Ni(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ui(t,e){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ui(t,e)}function Hi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ui(t,e)}const Wi=r.createContext(null);function Vi(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function Gi(t,e,n){return null!=n[e]?n[e]:t.props[e]}function qi(t,e,n){var i=Vi(t.children),s=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),s=[];for(var o in t)o in e?s.length&&(r[o]=s,s=[]):s.push(o);var a={};for(var l in e){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];a[r[l][i]]=n(c)}a[l]=n(l)}for(i=0;i<s.length;i++)a[s[i]]=n(s[i]);return a}(e,i);return Object.keys(s).forEach((function(o){var a=s[o];if((0,r.isValidElement)(a)){var l=o in e,c=o in i,h=e[o],d=(0,r.isValidElement)(h)&&!h.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(h)&&(s[o]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:h.props.in,exit:Gi(a,"exit",t),enter:Gi(a,"enter",t)})):s[o]=(0,r.cloneElement)(a,{in:!1}):s[o]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:Gi(a,"exit",t),enter:Gi(a,"enter",t)})}})),s}var Xi=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},Qi=function(t){function e(e,n){var i,r=(i=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Hi(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,i,s=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,i=o,Vi(n.children,(function(t){return(0,r.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Gi(t,"appear",n),enter:Gi(t,"enter",n),exit:Gi(t,"exit",n)})}))):qi(t,s,o),firstRender:!1}},n.handleExited=function(t,e){var n=Vi(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,qn.A)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=(0,Xn.A)(t,["component","childFactory"]),s=this.state.contextValue,o=Xi(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?r.createElement(Wi.Provider,{value:s},o):r.createElement(Wi.Provider,{value:s},r.createElement(e,i,o))},e}(r.Component);Qi.propTypes={},Qi.defaultProps={component:"div",childFactory:function(t){return t}};const Ki=Qi;var Yi=n(3290),Zi=n(1140);const Ji=function(t){const{className:e,classes:n,pulsate:i=!1,rippleX:s,rippleY:o,rippleSize:a,in:l,onExited:c,timeout:h}=t,[d,u]=r.useState(!1),p=(0,Qn.A)(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),f={width:a,height:a,top:-a/2+o,left:-a/2+s},g=(0,Qn.A)(n.child,d&&n.childLeaving,i&&n.childPulsate);return l||d||u(!0),r.useEffect((()=>{if(!l&&null!=c){const t=setTimeout(c,h);return()=>{clearTimeout(t)}}}),[c,l,h]),(0,mn.jsx)("span",{className:p,style:f,children:(0,mn.jsx)("span",{className:g})})};const $i=(0,ii.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var tr,er,nr,ir;const rr=["center","classes","className"];let sr,or,ar,lr;const cr=(0,Yi.i7)(sr||(sr=tr||(tr=Ni(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),hr=(0,Yi.i7)(or||(or=er||(er=Ni(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),dr=(0,Yi.i7)(ar||(ar=nr||(nr=Ni(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ur=(0,ci.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pr=(0,ci.Ay)(Ji,{name:"MuiTouchRipple",slot:"Ripple"})(lr||(lr=ir||(ir=Ni(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),$i.rippleVisible,cr,550,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}),$i.ripplePulsate,(t=>{let{theme:e}=t;return e.transitions.duration.shorter}),$i.child,$i.childLeaving,hr,550,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}),$i.childPulsate,dr,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut})),fr=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=n,a=(0,Xn.A)(n,rr),[l,c]=r.useState([]),h=r.useRef(0),d=r.useRef(null);r.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const u=r.useRef(!1),p=(0,Zi.A)(),f=r.useRef(null),g=r.useRef(null),m=r.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:i,rippleSize:r,cb:o}=t;c((t=>[...t,(0,mn.jsx)(pr,{classes:{ripple:(0,Qn.A)(s.ripple,$i.ripple),rippleVisible:(0,Qn.A)(s.rippleVisible,$i.rippleVisible),ripplePulsate:(0,Qn.A)(s.ripplePulsate,$i.ripplePulsate),child:(0,Qn.A)(s.child,$i.child),childLeaving:(0,Qn.A)(s.childLeaving,$i.childLeaving),childPulsate:(0,Qn.A)(s.childPulsate,$i.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:i,rippleSize:r},h.current)])),h.current+=1,d.current=o}),[s]),v=r.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:s=i||e.pulsate,fakeElement:o=!1}=e;if("mousedown"===(null==t?void 0:t.type)&&u.current)return void(u.current=!1);"touchstart"===(null==t?void 0:t.type)&&(u.current=!0);const a=o?null:g.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,h,d;if(s||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(l.width/2),h=Math.round(l.height/2);else{const{clientX:e,clientY:n}=t.touches&&t.touches.length>0?t.touches[0]:t;c=Math.round(e-l.left),h=Math.round(n-l.top)}if(s)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const t=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,e=2*Math.max(Math.abs((a?a.clientHeight:0)-h),h)+2;d=Math.sqrt(t**2+e**2)}null!=t&&t.touches?null===f.current&&(f.current=()=>{m({pulsate:r,rippleX:c,rippleY:h,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):m({pulsate:r,rippleX:c,rippleY:h,rippleSize:d,cb:n})}),[i,m,p]),y=r.useCallback((()=>{v({},{pulsate:!0})}),[v]),x=r.useCallback(((t,e)=>{if(p.clear(),"touchend"===(null==t?void 0:t.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{x(t,e)}));f.current=null,c((t=>t.length>0?t.slice(1):t)),d.current=e}),[p]);return r.useImperativeHandle(e,(()=>({pulsate:y,start:v,stop:x})),[y,v,x]),(0,mn.jsx)(ur,(0,qn.A)({className:(0,Qn.A)($i.root,s.root,o),ref:g},a,{children:(0,mn.jsx)(Ki,{component:null,exit:!0,children:l})}))}));function gr(t){return(0,ui.Ay)("MuiButtonBase",t)}const mr=(0,ii.A)("MuiButtonBase",["root","disabled","focusVisible"]),vr=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],yr=(0,ci.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(mr.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xr=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:d=!1,focusRipple:u=!1,LinkComponent:p="a",onBlur:f,onClick:g,onContextMenu:m,onDragLeave:v,onFocus:y,onFocusVisible:x,onKeyDown:_,onKeyUp:b,onMouseDown:w,onMouseLeave:A,onMouseUp:S,onTouchEnd:C,onTouchMove:E,onTouchStart:k,tabIndex:T=0,TouchRippleProps:P,touchRippleRef:R,type:I}=n,M=(0,Xn.A)(n,vr),B=r.useRef(null),F=r.useRef(null),D=(0,Oi.A)(F,R),{isFocusVisibleRef:j,onFocus:O,onBlur:L,ref:z}=(0,zi.A)(),[N,U]=r.useState(!1);c&&N&&U(!1),r.useImperativeHandle(i,(()=>({focusVisible:()=>{U(!0),B.current.focus()}})),[]);const[H,W]=r.useState(!1);r.useEffect((()=>{W(!0)}),[]);const V=H&&!h&&!c;function G(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,Li.A)((i=>{e&&e(i);return!n&&F.current&&F.current[t](i),!0}))}r.useEffect((()=>{N&&u&&!h&&H&&F.current.pulsate()}),[h,u,N,H]);const q=G("start",w),X=G("stop",m),Q=G("stop",v),K=G("stop",S),Y=G("stop",(t=>{N&&t.preventDefault(),A&&A(t)})),Z=G("start",k),J=G("stop",C),$=G("stop",E),tt=G("stop",(t=>{L(t),!1===j.current&&U(!1),f&&f(t)}),!1),et=(0,Li.A)((t=>{B.current||(B.current=t.currentTarget),O(t),!0===j.current&&(U(!0),x&&x(t)),y&&y(t)})),nt=()=>{const t=B.current;return l&&"button"!==l&&!("A"===t.tagName&&t.href)},it=r.useRef(!1),rt=(0,Li.A)((t=>{u&&!it.current&&N&&F.current&&" "===t.key&&(it.current=!0,F.current.stop(t,(()=>{F.current.start(t)}))),t.target===t.currentTarget&&nt()&&" "===t.key&&t.preventDefault(),_&&_(t),t.target===t.currentTarget&&nt()&&"Enter"===t.key&&!c&&(t.preventDefault(),g&&g(t))})),st=(0,Li.A)((t=>{u&&" "===t.key&&F.current&&N&&!t.defaultPrevented&&(it.current=!1,F.current.stop(t,(()=>{F.current.pulsate(t)}))),b&&b(t),g&&t.target===t.currentTarget&&nt()&&" "===t.key&&!t.defaultPrevented&&g(t)}));let ot=l;"button"===ot&&(M.href||M.to)&&(ot=p);const at={};"button"===ot?(at.type=void 0===I?"button":I,at.disabled=c):(M.href||M.to||(at.role="button"),c&&(at["aria-disabled"]=c));const lt=(0,Oi.A)(e,z,B);const ct=(0,qn.A)({},n,{centerRipple:s,component:l,disabled:c,disableRipple:h,disableTouchRipple:d,focusRipple:u,tabIndex:T,focusVisible:N}),ht=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:i,classes:r}=t,s={root:["root",e&&"disabled",n&&"focusVisible"]},o=(0,li.A)(s,gr,r);return n&&i&&(o.root+=" ".concat(i)),o})(ct);return(0,mn.jsxs)(yr,(0,qn.A)({as:ot,className:(0,Qn.A)(ht.root,a),ownerState:ct,onBlur:tt,onClick:g,onContextMenu:X,onFocus:et,onKeyDown:rt,onKeyUp:st,onMouseDown:q,onMouseLeave:Y,onMouseUp:K,onDragLeave:Q,onTouchEnd:J,onTouchMove:$,onTouchStart:Z,ref:lt,tabIndex:c?-1:T,type:I},at,M,{children:[o,V?(0,mn.jsx)(fr,(0,qn.A)({ref:D,center:s},P)):null]}))}));function _r(t){return(0,ui.Ay)("MuiButton",t)}const br=(0,ii.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const wr=r.createContext({});const Ar=r.createContext(void 0),Sr=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Cr=t=>(0,qn.A)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Er=(0,ci.Ay)(xr,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e["".concat(n.variant).concat((0,di.A)(n.color))],e["size".concat((0,di.A)(n.size))],e["".concat(n.variant,"Size").concat((0,di.A)(n.size))],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})((t=>{let{theme:e,ownerState:n}=t;var i,r;const s="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],o="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,qn.A)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,qn.A)({textDecoration:"none",backgroundColor:e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:e.vars?"rgba(".concat(e.vars.palette[n.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)(e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((e.vars||e).palette[n.color].main),backgroundColor:e.vars?"rgba(".concat(e.vars.palette[n.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)(e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(e.vars||e).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[n.color].main}}),"&:active":(0,qn.A)({},"contained"===n.variant&&{boxShadow:(e.vars||e).shadows[8]}),["&.".concat(br.focusVisible)]:(0,qn.A)({},"contained"===n.variant&&{boxShadow:(e.vars||e).shadows[6]}),["&.".concat(br.disabled)]:(0,qn.A)({color:(e.vars||e).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((e.vars||e).palette.action.disabledBackground)},"contained"===n.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(e.vars||e).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(e.vars||e).palette[n.color].main,border:e.vars?"1px solid rgba(".concat(e.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Di.X4)(e.palette[n.color].main,.5))},"contained"===n.variant&&{color:e.vars?e.vars.palette.text.primary:null==(i=(r=e.palette).getContrastText)?void 0:i.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(e.vars||e).palette[n.color].contrastText,backgroundColor:(e.vars||e).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(t=>{let{ownerState:e}=t;return e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(br.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(br.disabled)]:{boxShadow:"none"}}})),kr=(0,ci.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e["iconSize".concat((0,di.A)(n.size))]]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},Cr(e))})),Tr=(0,ci.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e["iconSize".concat((0,di.A)(n.size))]]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},Cr(e))})),Pr=r.forwardRef((function(t,e){const n=r.useContext(wr),i=r.useContext(Ar),s=(0,Fi.A)(n,t),o=(0,hi.A)({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:h,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:g,fullWidth:m=!1,size:v="medium",startIcon:y,type:x,variant:_="text"}=o,b=(0,Xn.A)(o,Sr),w=(0,qn.A)({},o,{color:l,component:c,disabled:d,disableElevation:u,disableFocusRipple:p,fullWidth:m,size:v,type:x,variant:_}),A=(t=>{const{color:e,disableElevation:n,fullWidth:i,size:r,variant:s,classes:o}=t,a={root:["root",s,"".concat(s).concat((0,di.A)(e)),"size".concat((0,di.A)(r)),"".concat(s,"Size").concat((0,di.A)(r)),"color".concat((0,di.A)(e)),n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,di.A)(r))],endIcon:["icon","endIcon","iconSize".concat((0,di.A)(r))]},l=(0,li.A)(a,_r,o);return(0,qn.A)({},o,l)})(w),S=y&&(0,mn.jsx)(kr,{className:A.startIcon,ownerState:w,children:y}),C=f&&(0,mn.jsx)(Tr,{className:A.endIcon,ownerState:w,children:f}),E=i||"";return(0,mn.jsxs)(Er,(0,qn.A)({ownerState:w,className:(0,Qn.A)(n.className,A.root,h,E),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:(0,Qn.A)(A.focusVisible,g),ref:e,type:x},b,{classes:A,children:[S,a,C]}))}));var Rr=n(7042);function Ir(t){return"string"===typeof t}function Mr(t,e,n){return void 0===t||Ir(t)?e:(0,qn.A)({},e,{ownerState:(0,qn.A)({},e.ownerState,n)})}function Br(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};const n={};return Object.keys(t).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof t[n]&&!e.includes(n))).forEach((e=>{n[e]=t[e]})),n}function Fr(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"===typeof t[e]))).forEach((n=>{e[n]=t[n]})),e}function Dr(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:s}=t;if(!e){const t=(0,Qn.A)(null==n?void 0:n.className,s,null==r?void 0:r.className,null==i?void 0:i.className),e=(0,qn.A)({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),o=(0,qn.A)({},n,r,i);return t.length>0&&(o.className=t),Object.keys(e).length>0&&(o.style=e),{props:o,internalRef:void 0}}const o=Br((0,qn.A)({},r,i)),a=Fr(i),l=Fr(r),c=e(o),h=(0,Qn.A)(null==c?void 0:c.className,null==n?void 0:n.className,s,null==r?void 0:r.className,null==i?void 0:i.className),d=(0,qn.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),u=(0,qn.A)({},c,n,l,a);return h.length>0&&(u.className=h),Object.keys(d).length>0&&(u.style=d),{props:u,internalRef:c.ref}}function jr(t,e,n){return"function"===typeof t?t(e,n):t}const Or=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Lr(t){var e;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:s=!1}=t,o=(0,Xn.A)(t,Or),a=s?{}:jr(i,r),{props:l,internalRef:c}=Dr((0,qn.A)({},o,{externalSlotProps:a})),h=(0,Rr.A)(c,null==a?void 0:a.ref,null==(e=t.additionalProps)?void 0:e.ref);return Mr(n,(0,qn.A)({},l,{ref:h}),r)}var zr=n(2144),Nr=n(4626),Ur=n(4708),Hr=n(6288);function Wr(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Vr(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Gr(t){return parseInt((0,Hr.A)(t).getComputedStyle(t).paddingRight,10)||0}function qr(t,e,n,i,r){const s=[e,n,...i];[].forEach.call(t.children,(t=>{const e=-1===s.indexOf(t),n=!function(t){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&Vr(t,r)}))}function Xr(t,e){let n=-1;return t.some(((t,i)=>!!e(t)&&(n=i,!0))),n}function Qr(t,e){const n=[],i=t.container;if(!e.disableScrollLock){if(function(t){const e=(0,zr.A)(t);return e.body===t?(0,Hr.A)(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(i)){const t=Wr((0,zr.A)(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight="".concat(Gr(i)+t,"px");const e=(0,zr.A)(i).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Gr(e)+t,"px")}))}let t;if(i.parentNode instanceof DocumentFragment)t=(0,zr.A)(i).body;else{const e=i.parentElement,n=(0,Hr.A)(i);t="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===n.getComputedStyle(e).overflowY?e:i}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach((t=>{let{value:e,el:n,property:i}=t;e?n.style.setProperty(i,e):n.style.removeProperty(i)}))}}const Kr=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Vr(t.modalRef,!1);const i=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);qr(e,t.mount,t.modalRef,i,!0);const r=Xr(this.containers,(t=>t.container===e));return-1!==r?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:i}),n)}mount(t,e){const n=Xr(this.containers,(e=>-1!==e.modals.indexOf(t))),i=this.containers[n];i.restore||(i.restore=Qr(i,e))}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(t);if(-1===n)return n;const i=Xr(this.containers,(e=>-1!==e.modals.indexOf(t))),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&Vr(t.modalRef,e),qr(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const t=r.modals[r.modals.length-1];t.modalRef&&Vr(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};function Yr(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:s=Kr,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:h,open:d,rootRef:u}=t,p=r.useRef({}),f=r.useRef(null),g=r.useRef(null),m=(0,Rr.A)(g,u),[v,y]=r.useState(!d),x=function(t){return!!t&&t.props.hasOwnProperty("in")}(c);let _=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(_=!1);const b=()=>(p.current.modalRef=g.current,p.current.mount=f.current,p.current),w=()=>{s.mount(b(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},A=(0,Nr.A)((()=>{const t=function(t){return"function"===typeof t?t():t}(e)||(0,zr.A)(f.current).body;s.add(b(),t),g.current&&w()})),S=r.useCallback((()=>s.isTopModal(b())),[s]),C=(0,Nr.A)((t=>{f.current=t,t&&(d&&S()?w():g.current&&Vr(g.current,_))})),E=r.useCallback((()=>{s.remove(b(),_)}),[_,s]);r.useEffect((()=>()=>{E()}),[E]),r.useEffect((()=>{d?A():x&&o||E()}),[d,E,x,o,A]);const k=t=>e=>{var i;null==(i=t.onKeyDown)||i.call(t,e),"Escape"===e.key&&229!==e.which&&S()&&(n||(e.stopPropagation(),h&&h(e,"escapeKeyDown")))},T=t=>e=>{var n;null==(n=t.onClick)||n.call(t,e),e.target===e.currentTarget&&h&&h(e,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Br(t);delete n.onTransitionEnter,delete n.onTransitionExited;const i=(0,qn.A)({},n,e);return(0,qn.A)({role:"presentation"},i,{onKeyDown:k(i),ref:m})},getBackdropProps:function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,qn.A)({"aria-hidden":!0},t,{onClick:T(t),open:d})},getTransitionProps:()=>({onEnter:(0,Ur.A)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,Ur.A)((()=>{y(!0),l&&l(),o&&E()}),null==c?void 0:c.props.onExited)}),rootRef:m,portalRef:C,isTopModal:S,exited:v,hasTransition:x}}const Zr=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Jr(t){const e=[],n=[];return Array.from(t.querySelectorAll(Zr)).forEach(((t,i)=>{const r=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==r&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector('input[type="radio"]'.concat(e));let n=e('[name="'.concat(t.name,'"]:checked'));return n||(n=e('[name="'.concat(t.name,'"]'))),n!==t}(t))}(t)&&(0===r?e.push(t):n.push({documentOrder:i,tabIndex:r,node:t}))})),n.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function $r(){return!0}function ts(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:o=Jr,isEnabled:a=$r,open:l}=t,c=r.useRef(!1),h=r.useRef(null),d=r.useRef(null),u=r.useRef(null),p=r.useRef(null),f=r.useRef(!1),g=r.useRef(null),m=(0,Rr.A)(e.ref,g),v=r.useRef(null);r.useEffect((()=>{l&&g.current&&(f.current=!n)}),[n,l]),r.useEffect((()=>{if(!l||!g.current)return;const t=(0,zr.A)(g.current);return g.current.contains(t.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{s||(u.current&&u.current.focus&&(c.current=!0,u.current.focus()),u.current=null)}}),[l]),r.useEffect((()=>{if(!l||!g.current)return;const t=(0,zr.A)(g.current),e=e=>{v.current=e,!i&&a()&&"Tab"===e.key&&t.activeElement===g.current&&e.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const e=g.current;if(null===e)return;if(!t.hasFocus()||!a()||c.current)return void(c.current=!1);if(e.contains(t.activeElement))return;if(i&&t.activeElement!==h.current&&t.activeElement!==d.current)return;if(t.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(t.activeElement!==h.current&&t.activeElement!==d.current||(n=o(g.current)),n.length>0){var r,s;const t=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(s=v.current)?void 0:s.key)),e=n[0],i=n[n.length-1];"string"!==typeof e&&"string"!==typeof i&&(t?i.focus():e.focus())}else e.focus()};t.addEventListener("focusin",n),t.addEventListener("keydown",e,!0);const r=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),t.removeEventListener("focusin",n),t.removeEventListener("keydown",e,!0)}}),[n,i,s,a,l,o]);const y=t=>{null===u.current&&(u.current=t.relatedTarget),f.current=!0};return(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:h,"data-testid":"sentinelStart"}),r.cloneElement(e,{ref:m,onFocus:t=>{null===u.current&&(u.current=t.relatedTarget),f.current=!0,p.current=t.target;const n=e.props.onFocus;n&&n(t)}}),(0,mn.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var es=n(3844),ns=n(9184);const is=r.forwardRef((function(t,e){const{children:n,container:i,disablePortal:s=!1}=t,[o,l]=r.useState(null),c=(0,Rr.A)(r.isValidElement(n)?n.ref:null,e);if((0,es.A)((()=>{s||l(function(t){return"function"===typeof t?t():t}(i)||document.body)}),[i,s]),(0,es.A)((()=>{if(o&&!s)return(0,ns.A)(e,o),()=>{(0,ns.A)(e,null)}}),[e,o,s]),s){if(r.isValidElement(n)){const t={ref:c};return r.cloneElement(n,t)}return(0,mn.jsx)(r.Fragment,{children:n})}return(0,mn.jsx)(r.Fragment,{children:o?a.createPortal(n,o):o})}));const rs=!1;var ss="unmounted",os="exited",as="entering",ls="entered",cs="exiting",hs=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r,s=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?s?(r=os,i.appearStatus=as):r=ls:r=e.unmountOnExit||e.mountOnEnter?ss:os,i.state={status:r},i.nextCallback=null,i}Hi(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===ss?{status:os}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==as&&n!==ls&&(e=as):n!==as&&n!==ls||(e=cs)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!==typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===as){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===os&&this.setState({status:ss})},n.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,r=this.props.nodeRef?[i]:[a.findDOMNode(this),i],s=r[0],o=r[1],l=this.getTimeouts(),c=i?l.appear:l.enter;!t&&!n||rs?this.safeSetState({status:ls},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:as},(function(){e.props.onEntering(s,o),e.onTransitionEnd(c,(function(){e.safeSetState({status:ls},(function(){e.props.onEntered(s,o)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:a.findDOMNode(this);e&&!rs?(this.props.onExit(i),this.safeSetState({status:cs},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:os},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:os},(function(){t.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],o=r[1];this.props.addEndListener(s,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===ss)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,Xn.A)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Wi.Provider,{value:null},"function"===typeof n?n(t,i):r.cloneElement(r.Children.only(n),i))},e}(r.Component);function ds(){}hs.contextType=Wi,hs.propTypes={},hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ds,onEntering:ds,onEntered:ds,onExit:ds,onExiting:ds,onExited:ds},hs.UNMOUNTED=ss,hs.EXITED=os,hs.ENTERING=as,hs.ENTERED=ls,hs.EXITING=cs;const us=hs,ps=t=>t.scrollTop;function fs(t,e){var n,i;const{timeout:r,easing:s,style:o={}}=t;return{duration:null!=(n=o.transitionDuration)?n:"number"===typeof r?r:r[e.mode]||0,easing:null!=(i=o.transitionTimingFunction)?i:"object"===typeof s?s[e.mode]:s,delay:o.transitionDelay}}const gs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ms={entering:{opacity:1},entered:{opacity:1}},vs=r.forwardRef((function(t,e){const n=bi(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:h,onEntered:d,onEntering:u,onExit:p,onExited:f,onExiting:g,style:m,timeout:v=i,TransitionComponent:y=us}=t,x=(0,Xn.A)(t,gs),_=r.useRef(null),b=(0,Oi.A)(_,a.ref,e),w=t=>e=>{if(t){const n=_.current;void 0===e?t(n):t(n,e)}},A=w(u),S=w(((t,e)=>{ps(t);const i=fs({style:m,timeout:v,easing:l},{mode:"enter"});t.style.webkitTransition=n.transitions.create("opacity",i),t.style.transition=n.transitions.create("opacity",i),h&&h(t,e)})),C=w(d),E=w(g),k=w((t=>{const e=fs({style:m,timeout:v,easing:l},{mode:"exit"});t.style.webkitTransition=n.transitions.create("opacity",e),t.style.transition=n.transitions.create("opacity",e),p&&p(t)})),T=w(f);return(0,mn.jsx)(y,(0,qn.A)({appear:o,in:c,nodeRef:_,onEnter:S,onEntered:C,onEntering:A,onExit:k,onExited:T,onExiting:E,addEndListener:t=>{s&&s(_.current,t)},timeout:v},x,{children:(t,e)=>r.cloneElement(a,(0,qn.A)({style:(0,qn.A)({opacity:0,visibility:"exited"!==t||c?void 0:"hidden"},ms[t],m,a.props.style),ref:b},e))}))})),ys=vs;function xs(t){return(0,ui.Ay)("MuiBackdrop",t)}(0,ii.A)("MuiBackdrop",["root","invisible"]);const _s=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],bs=(0,ci.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})})),ws=r.forwardRef((function(t,e){var n,i,r;const s=(0,hi.A)({props:t,name:"MuiBackdrop"}),{children:o,className:a,component:l="div",components:c={},componentsProps:h={},invisible:d=!1,open:u,slotProps:p={},slots:f={},TransitionComponent:g=ys,transitionDuration:m}=s,v=(0,Xn.A)(s,_s),y=(0,qn.A)({},s,{component:l,invisible:d}),x=(t=>{const{classes:e,invisible:n}=t,i={root:["root",n&&"invisible"]};return(0,li.A)(i,xs,e)})(y),_=null!=(n=p.root)?n:h.root;return(0,mn.jsx)(g,(0,qn.A)({in:u,timeout:m},v,{children:(0,mn.jsx)(bs,(0,qn.A)({"aria-hidden":!0},_,{as:null!=(i=null!=(r=f.root)?r:c.Root)?i:l,className:(0,Qn.A)(x.root,a,null==_?void 0:_.className),ownerState:(0,qn.A)({},y,null==_?void 0:_.ownerState),classes:x,ref:e,children:o}))}))}));function As(t){return(0,ui.Ay)("MuiModal",t)}(0,ii.A)("MuiModal",["root","hidden","backdrop"]);const Ss=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Cs=(0,ci.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Es=(0,ci.Ay)(ws,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),ks=r.forwardRef((function(t,e){var n,i,s,o,a,l;const c=(0,hi.A)({name:"MuiModal",props:t}),{BackdropComponent:h=Es,BackdropProps:d,className:u,closeAfterTransition:p=!1,children:f,container:g,component:m,components:v={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:A=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:E=!1,onBackdropClick:k,open:T,slotProps:P,slots:R}=c,I=(0,Xn.A)(c,Ss),M=(0,qn.A)({},c,{closeAfterTransition:p,disableAutoFocus:x,disableEnforceFocus:_,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:A,disableScrollLock:S,hideBackdrop:C,keepMounted:E}),{getRootProps:B,getBackdropProps:F,getTransitionProps:D,portalRef:j,isTopModal:O,exited:L,hasTransition:z}=Yr((0,qn.A)({},M,{rootRef:e})),N=(0,qn.A)({},M,{exited:L}),U=(t=>{const{open:e,exited:n,classes:i}=t,r={root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]};return(0,li.A)(r,As,i)})(N),H={};if(void 0===f.props.tabIndex&&(H.tabIndex="-1"),z){const{onEnter:t,onExited:e}=D();H.onEnter=t,H.onExited=e}const W=null!=(n=null!=(i=null==R?void 0:R.root)?i:v.Root)?n:Cs,V=null!=(s=null!=(o=null==R?void 0:R.backdrop)?o:v.Backdrop)?s:h,G=null!=(a=null==P?void 0:P.root)?a:y.root,q=null!=(l=null==P?void 0:P.backdrop)?l:y.backdrop,X=Lr({elementType:W,externalSlotProps:G,externalForwardedProps:I,getSlotProps:B,additionalProps:{ref:e,as:m},ownerState:N,className:(0,Qn.A)(u,null==G?void 0:G.className,null==U?void 0:U.root,!N.open&&N.exited&&(null==U?void 0:U.hidden))}),Q=Lr({elementType:V,externalSlotProps:q,additionalProps:d,getSlotProps:t=>F((0,qn.A)({},t,{onClick:e=>{k&&k(e),null!=t&&t.onClick&&t.onClick(e)}})),className:(0,Qn.A)(null==q?void 0:q.className,null==d?void 0:d.className,null==U?void 0:U.backdrop),ownerState:N});return E||T||z&&!L?(0,mn.jsx)(is,{ref:j,container:g,disablePortal:w,children:(0,mn.jsxs)(W,(0,qn.A)({},X,{children:[!C&&h?(0,mn.jsx)(V,(0,qn.A)({},Q)):null,(0,mn.jsx)(ts,{disableEnforceFocus:_,disableAutoFocus:x,disableRestoreFocus:A,isEnabled:O,open:T,children:r.cloneElement(f,H)})]}))}):null})),Ts=ks;var Ps=n(3216),Rs=n(8280);const Is=["ownerState"],Ms=["variants"],Bs=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Fs(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const Ds=(0,Rs.A)(),js=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function Os(t){let{defaultTheme:e,theme:n,themeId:i}=t;return r=n,0===Object.keys(r).length?e:n[i]||n;var r}function Ls(t){return t?(e,n)=>n[t]:null}function zs(t,e){let{ownerState:n}=e,i=(0,Xn.A)(e,Is);const r="function"===typeof t?t((0,qn.A)({ownerState:n},i)):t;if(Array.isArray(r))return r.flatMap((t=>zs(t,(0,qn.A)({ownerState:n},i))));if(r&&"object"===typeof r&&Array.isArray(r.variants)){const{variants:t=[]}=r;let e=(0,Xn.A)(r,Ms);return t.forEach((t=>{let r=!0;"function"===typeof t.props?r=t.props((0,qn.A)({ownerState:n},i,n)):Object.keys(t.props).forEach((e=>{(null==n?void 0:n[e])!==t.props[e]&&i[e]!==t.props[e]&&(r=!1)})),r&&(Array.isArray(e)||(e=[e]),e.push("function"===typeof t.style?t.style((0,qn.A)({ownerState:n},i,n)):t.style))})),e}return r}const Ns=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:n=Ds,rootShouldForwardProp:i=Fs,slotShouldForwardProp:r=Fs}=t,s=t=>(0,Yn.A)((0,qn.A)({},t,{theme:Os((0,qn.A)({},t,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Kn.internal_processStyles)(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:d=Ls(js(l))}=o,u=(0,Xn.A)(o,Bs),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=h||!1;let g=Fs;"Root"===l||"root"===l?g=i:l?g=r:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const m=(0,Kn.default)(t,(0,qn.A)({shouldForwardProp:g,label:undefined},u)),v=t=>"function"===typeof t&&t.__emotion_real!==t||(0,Ps.Q)(t)?i=>zs(t,(0,qn.A)({},i,{theme:Os({theme:i.theme,defaultTheme:n,themeId:e})})):t,y=function(i){let r=v(i);for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];const h=l?l.map(v):[];a&&d&&h.push((t=>{const i=Os((0,qn.A)({},t,{defaultTheme:n,themeId:e}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const r=i.components[a].styleOverrides,s={};return Object.entries(r).forEach((e=>{let[n,r]=e;s[n]=zs(r,(0,qn.A)({},t,{theme:i}))})),d(t,s)})),a&&!p&&h.push((t=>{var i;const r=Os((0,qn.A)({},t,{defaultTheme:n,themeId:e}));return zs({variants:null==r||null==(i=r.components)||null==(i=i[a])?void 0:i.variants},(0,qn.A)({},t,{theme:r}))})),f||h.push(s);const u=h.length-l.length;if(Array.isArray(i)&&u>0){const t=new Array(u).fill("");r=[...i,...t],r.raw=[...i.raw,...t]}const g=m(r,...h);return t.muiName&&(g.muiName=t.muiName),g};return m.withConfig&&(y.withConfig=m.withConfig),y}}(),Us=Ns;var Hs=n(2919),Ws=n(8604);const Vs=["component","direction","spacing","divider","children","className","useFlexGap"],Gs=(0,Rs.A)(),qs=Us("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Xs(t){return(0,Hs.A)({props:t,name:"MuiStack",defaultTheme:Gs})}function Qs(t,e){const n=r.Children.toArray(t).filter(Boolean);return n.reduce(((t,i,s)=>(t.push(i),s<n.length-1&&t.push(r.cloneElement(e,{key:"separator-".concat(s)})),t)),[])}const Ks=t=>{let{ownerState:e,theme:n}=t,i=(0,qn.A)({display:"flex",flexDirection:"column"},(0,xi.NI)({theme:n},(0,xi.kW)({values:e.direction,breakpoints:n.breakpoints.values}),(t=>({flexDirection:t}))));if(e.spacing){const t=(0,Ws.LX)(n),r=Object.keys(n.breakpoints.values).reduce(((t,n)=>(("object"===typeof e.spacing&&null!=e.spacing[n]||"object"===typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),s=(0,xi.kW)({values:e.direction,base:r}),o=(0,xi.kW)({values:e.spacing,base:r});"object"===typeof s&&Object.keys(s).forEach(((t,e,n)=>{if(!s[t]){const i=e>0?s[n[e-1]]:"column";s[t]=i}}));const a=(n,i)=>{return e.useFlexGap?{gap:(0,Ws._W)(t,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((r=i?s[i]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]))]:(0,Ws._W)(t,n)}};var r};i=(0,Ps.A)(i,(0,xi.NI)({theme:n},o,a))}return i=(0,xi.iZ)(n.breakpoints,i),i};const Ys=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:e=qs,useThemeProps:n=Xs,componentName:i="MuiStack"}=t,s=e(Ks),o=r.forwardRef((function(t,e){const r=n(t),o=(0,Zn.A)(r),{component:a="div",direction:l="column",spacing:c=0,divider:h,children:d,className:u,useFlexGap:p=!1}=o,f=(0,Xn.A)(o,Vs),g={direction:l,spacing:c,useFlexGap:p},m=(0,li.A)({root:["root"]},(t=>(0,ui.Ay)(i,t)),{});return(0,mn.jsx)(s,(0,qn.A)({as:a,ownerState:g,ref:e,className:(0,Qn.A)(m.root,u)},f,{children:h?Qs(d,h):d}))}));return o}({createStyledComponent:(0,ci.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>(0,hi.A)({props:t,name:"MuiStack"})}),Zs=Ys;function Js(t){return hi.A}const $s=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],to=["component","slots","slotProps"],eo=["component"];function no(t,e){const{className:n,elementType:i,ownerState:r,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,l=(0,Xn.A)(e,$s),{component:c,slots:h={[t]:void 0},slotProps:d={[t]:void 0}}=s,u=(0,Xn.A)(s,to),p=h[t]||i,f=jr(d[t],r),g=Dr((0,qn.A)({className:n},l,{externalForwardedProps:"root"===t?u:void 0,externalSlotProps:f})),{props:{component:m},internalRef:v}=g,y=(0,Xn.A)(g.props,eo),x=(0,Rr.A)(v,null==f?void 0:f.ref,e.ref),_=o?o(y):{},b=(0,qn.A)({},r,_),w="root"===t?m||c:m,A=Mr(p,(0,qn.A)({},"root"===t&&!c&&!h[t]&&a,"root"!==t&&!h[t]&&a,y,w&&{as:w},{ref:x}),b);return Object.keys(_).forEach((t=>{delete A[t]})),[p,A]}const io=t=>{let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function ro(t){return(0,ui.Ay)("MuiPaper",t)}(0,ii.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const so=["className","component","elevation","square","variant"],oo=(0,ci.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e["elevation".concat(n.elevation)]]}})((t=>{let{theme:e,ownerState:n}=t;var i;return(0,qn.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!n.square&&{borderRadius:e.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((e.vars||e).palette.divider)},"elevation"===n.variant&&(0,qn.A)({boxShadow:(e.vars||e).shadows[n.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Di.X4)("#fff",io(n.elevation)),", ").concat((0,Di.X4)("#fff",io(n.elevation)),")")},e.vars&&{backgroundImage:null==(i=e.vars.overlays)?void 0:i[n.elevation]}))})),ao=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiPaper"}),{className:i,component:r="div",elevation:s=1,square:o=!1,variant:a="elevation"}=n,l=(0,Xn.A)(n,so),c=(0,qn.A)({},n,{component:r,elevation:s,square:o,variant:a}),h=(t=>{const{square:e,elevation:n,variant:i,classes:r}=t,s={root:["root",i,!e&&"rounded","elevation"===i&&"elevation".concat(n)]};return(0,li.A)(s,ro,r)})(c);return(0,mn.jsx)(oo,(0,qn.A)({as:r,ownerState:c,className:(0,Qn.A)(h.root,i),ref:e},l))}));function lo(t){return(0,ui.Ay)("MuiAlert",t)}const co=(0,ii.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ho(t){return(0,ui.Ay)("MuiIconButton",t)}const uo=(0,ii.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),po=["edge","children","className","color","disabled","disableFocusRipple","size"],fo=(0,ci.Ay)(xr,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"default"!==n.color&&e["color".concat((0,di.A)(n.color))],n.edge&&e["edge".concat((0,di.A)(n.edge))],e["size".concat((0,di.A)(n.size))]]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(t=>{let{theme:e,ownerState:n}=t;var i;const r=null==(i=(e.vars||e).palette)?void 0:i[n.color];return(0,qn.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,qn.A)({color:null==r?void 0:r.main},!n.disableRipple&&{"&:hover":(0,qn.A)({},r&&{backgroundColor:e.vars?"rgba(".concat(r.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{["&.".concat(uo.disabled)]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})})),go=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiIconButton"}),{edge:i=!1,children:r,className:s,color:o="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,h=(0,Xn.A)(n,po),d=(0,qn.A)({},n,{edge:i,color:o,disabled:a,disableFocusRipple:l,size:c}),u=(t=>{const{classes:e,disabled:n,color:i,edge:r,size:s}=t,o={root:["root",n&&"disabled","default"!==i&&"color".concat((0,di.A)(i)),r&&"edge".concat((0,di.A)(r)),"size".concat((0,di.A)(s))]};return(0,li.A)(o,ho,e)})(d);return(0,mn.jsx)(fo,(0,qn.A)({className:(0,Qn.A)(u.root,s),centerRipple:!0,focusRipple:!l,disabled:a,ref:e},h,{ownerState:d,children:r}))}));var mo=n(9662);const vo=(0,mo.A)((0,mn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),yo=(0,mo.A)((0,mn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),xo=(0,mo.A)((0,mn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_o=(0,mo.A)((0,mn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),bo=(0,mo.A)((0,mn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),wo=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ao=Js(),So=(0,ci.Ay)(ao,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e["".concat(n.variant).concat((0,di.A)(n.color||n.severity))]]}})((t=>{let{theme:e}=t;const n="light"===e.palette.mode?Di.e$:Di.a,i="light"===e.palette.mode?Di.a:Di.e$;return(0,qn.A)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter((t=>{let[,e]=t;return e.main&&e.light})).map((t=>{let[r]=t;return{props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert["".concat(r,"Color")]:n(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert["".concat(r,"StandardBg")]:i(e.palette[r].light,.9),["& .".concat(co.icon)]:e.vars?{color:e.vars.palette.Alert["".concat(r,"IconColor")]}:{color:e.palette[r].main}}}})),...Object.entries(e.palette).filter((t=>{let[,e]=t;return e.main&&e.light})).map((t=>{let[i]=t;return{props:{colorSeverity:i,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert["".concat(i,"Color")]:n(e.palette[i].light,.6),border:"1px solid ".concat((e.vars||e).palette[i].light),["& .".concat(co.icon)]:e.vars?{color:e.vars.palette.Alert["".concat(i,"IconColor")]}:{color:e.palette[i].main}}}})),...Object.entries(e.palette).filter((t=>{let[,e]=t;return e.main&&e.dark})).map((t=>{let[n]=t;return{props:{colorSeverity:n,variant:"filled"},style:(0,qn.A)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:e.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===e.palette.mode?e.palette[n].dark:e.palette[n].main,color:e.palette.getContrastText(e.palette[n].main)})}}))]})})),Co=(0,ci.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Eo=(0,ci.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ko=(0,ci.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),To={success:(0,mn.jsx)(vo,{fontSize:"inherit"}),warning:(0,mn.jsx)(yo,{fontSize:"inherit"}),error:(0,mn.jsx)(xo,{fontSize:"inherit"}),info:(0,mn.jsx)(_o,{fontSize:"inherit"})},Po=r.forwardRef((function(t,e){const n=Ao({props:t,name:"MuiAlert"}),{action:i,children:r,className:s,closeText:o="Close",color:a,components:l={},componentsProps:c={},icon:h,iconMapping:d=To,onClose:u,role:p="alert",severity:f="success",slotProps:g={},slots:m={},variant:v="standard"}=n,y=(0,Xn.A)(n,wo),x=(0,qn.A)({},n,{color:a,severity:f,variant:v,colorSeverity:a||f}),_=(t=>{const{variant:e,color:n,severity:i,classes:r}=t,s={root:["root","color".concat((0,di.A)(n||i)),"".concat(e).concat((0,di.A)(n||i)),"".concat(e)],icon:["icon"],message:["message"],action:["action"]};return(0,li.A)(s,lo,r)})(x),b={slots:(0,qn.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},m),slotProps:(0,qn.A)({},c,g)},[w,A]=no("closeButton",{elementType:go,externalForwardedProps:b,ownerState:x}),[S,C]=no("closeIcon",{elementType:bo,externalForwardedProps:b,ownerState:x});return(0,mn.jsxs)(So,(0,qn.A)({role:p,elevation:0,ownerState:x,className:(0,Qn.A)(_.root,s),ref:e},y,{children:[!1!==h?(0,mn.jsx)(Co,{ownerState:x,className:_.icon,children:h||d[f]||To[f]}):null,(0,mn.jsx)(Eo,{ownerState:x,className:_.message,children:r}),null!=i?(0,mn.jsx)(ko,{ownerState:x,className:_.action,children:i}):null,null==i&&u?(0,mn.jsx)(ko,{ownerState:x,className:_.action,children:(0,mn.jsx)(w,(0,qn.A)({size:"small","aria-label":o,title:o,color:"inherit",onClick:u},A,{children:(0,mn.jsx)(S,(0,qn.A)({fontSize:"small"},C))}))}):null]}))}));function Ro(t){return(0,ui.Ay)("MuiAlertTitle",t)}(0,ii.A)("MuiAlertTitle",["root"]);const Io=["className"],Mo=Js(),Bo=(0,ci.Ay)(yi,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,e)=>e.root})((t=>{let{theme:e}=t;return{fontWeight:e.typography.fontWeightMedium,marginTop:-2}})),Fo=r.forwardRef((function(t,e){const n=Mo({props:t,name:"MuiAlertTitle"}),{className:i}=n,r=(0,Xn.A)(n,Io),s=n,o=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},Ro,e)})(s);return(0,mn.jsx)(Bo,(0,qn.A)({gutterBottom:!0,component:"div",ownerState:s,ref:e,className:(0,Qn.A)(o.root,i)},r))}));function Do(t){const e=t.auth,n=t.store;let i=e?e.errorMessage:n.errorMessage;return(0,mn.jsx)(Ts,{id:"error",open:e?""!==e.errorMessage:""!==n.errorMessage,children:(0,mn.jsx)(Zs,{sx:{width:"40%",marginLeft:"30%",marginTop:"20%"},spacing:2,children:(0,mn.jsxs)(Po,{severity:"error",children:[(0,mn.jsx)(Fo,{children:"Error"}),i,(0,mn.jsx)(Pr,{color:"primary",size:"small",onClick:function(){e?e.hideModal():n.hideModal()},children:"Close"})]})})})}function jo(){const t=et(),{auth:e}=(0,r.useContext)(Pn),n={bgcolor:"black",":hover":{bgcolor:"black"}};let i="";return""!==e.errorMessage&&(i=(0,mn.jsx)(Do,{auth:e})),(0,mn.jsxs)("div",{id:"welcome-screen",children:[(0,mn.jsx)(ai,{sx:{top:"0%",height:"100%",width:"100%",position:"absolute",backgroundImage:'url("https://github.com/Isabella-Misanes/cse-332-datasets/blob/ad4555391416e53e3c3dffd89ed692dcb6c11030/Welcome_Screen.png?raw=true")',backgroundSize:"100%"}}),(0,mn.jsx)(ai,{sx:{top:"0%",height:"100%",width:"400px",position:"absolute",backgroundColor:"#054400",opacity:"70%",boxShadow:10}}),(0,mn.jsx)(ai,{id:"title-banner",sx:{height:"90%",width:"100%",display:"flex",flexDirection:"column",textAlign:"right",position:"relative",right:"5%",marginTop:"4%"},children:(0,mn.jsx)(yi,{variant:"h2",gutterBottom:!0,children:"Medical Mayhem"})}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{p:4,position:"absolute",bottom:"3%"},children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Pr,{variant:"contained",id:"register",sx:[n,{minWidth:"225px",maxWidth:"40%",left:"2%"}],onClick:()=>{t("/register")},children:"Register as New User"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Pr,{variant:"contained",sx:[n,{width:"225px",left:"2%"}],id:"login",onClick:()=>{t("/login")},children:"Log In"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Pr,{variant:"contained",sx:[n,{width:"225px",left:"2%"}],id:"continue-as-guest",onClick:()=>{e.loginGuest()},children:"Continue as Guest"})})]}),i]})}var Oo=n(869);const Lo=function(t){let{styles:e,themeId:n,defaultTheme:i={}}=t;const r=(0,Jn.A)(i),s="function"===typeof e?e(n&&r[n]||r):e;return(0,mn.jsx)(Oo.A,{styles:s})};const zo=function(t){return(0,mn.jsx)(Lo,(0,qn.A)({},t,{defaultTheme:_i.A,themeId:ni.A}))},No=(t,e)=>(0,qn.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),Uo=t=>(0,qn.A)({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}});const Ho=function(t){const e=(0,hi.A)({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=e;return(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)(zo,{styles:t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const i={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach((e=>{let[n,r]=e;var s;i[t.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(s=r.palette)?void 0:s.mode}}));let r=(0,qn.A)({html:No(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:(0,qn.A)({margin:0},Uo(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},i);const s=null==(n=t.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(r=[r,s]),r}(t,i)}),n]})},Wo=(0,mo.A)((0,mn.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Vo(t){return(0,ui.Ay)("MuiAvatar",t)}(0,ii.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Go=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],qo=Js(),Xo=(0,ci.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})((t=>{let{theme:e}=t;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,qn.A)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:(0,qn.A)({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]}})),Qo=(0,ci.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ko=(0,ci.Ay)(Wo,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});const Yo=r.forwardRef((function(t,e){const n=qo({props:t,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:l={},slotProps:c={},imgProps:h,sizes:d,src:u,srcSet:p,variant:f="circular"}=n,g=(0,Xn.A)(n,Go);let m=null;const v=function(t){let{crossOrigin:e,referrerPolicy:n,src:i,srcSet:s}=t;const[o,a]=r.useState(!1);return r.useEffect((()=>{if(!i&&!s)return;a(!1);let t=!0;const r=new Image;return r.onload=()=>{t&&a("loaded")},r.onerror=()=>{t&&a("error")},r.crossOrigin=e,r.referrerPolicy=n,r.src=i,s&&(r.srcset=s),()=>{t=!1}}),[e,n,i,s]),o}((0,qn.A)({},h,{src:u,srcSet:p})),y=u||p,x=y&&"error"!==v,_=(0,qn.A)({},n,{colorDefault:!x,component:a,variant:f}),b=(t=>{const{classes:e,variant:n,colorDefault:i}=t,r={root:["root",n,i&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,li.A)(r,Vo,e)})(_),[w,A]=no("img",{className:b.img,elementType:Qo,externalForwardedProps:{slots:l,slotProps:{img:(0,qn.A)({},h,c.img)}},additionalProps:{alt:i,src:u,srcSet:p,sizes:d},ownerState:_});return m=x?(0,mn.jsx)(w,(0,qn.A)({},A)):s||0===s?s:y&&i?i[0]:(0,mn.jsx)(Ko,{ownerState:_,className:b.fallback}),(0,mn.jsx)(Xo,(0,qn.A)({as:a,ownerState:_,className:(0,Qn.A)(b.root,o),ref:e},g,{children:m}))})),Zo=Yo;var Jo=n(992),$o=n(6632),ta=n(6440);const ea=["onChange","maxRows","minRows","style","value"];function na(t){return parseInt(t,10)||0}const ia={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const ra=r.forwardRef((function(t,e){const{onChange:n,maxRows:i,minRows:s=1,style:o,value:a}=t,l=(0,Xn.A)(t,ea),{current:c}=r.useRef(null!=a),h=r.useRef(null),d=(0,Rr.A)(e,h),u=r.useRef(null),p=r.useCallback((()=>{const e=h.current,n=(0,Hr.A)(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=u.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,a=na(n.paddingBottom)+na(n.paddingTop),l=na(n.borderBottomWidth)+na(n.borderTopWidth),c=r.scrollHeight;r.value="x";const d=r.scrollHeight;let p=c;s&&(p=Math.max(Number(s)*d,p)),i&&(p=Math.min(Number(i)*d,p)),p=Math.max(p,d);return{outerHeightStyle:p+("border-box"===o?a+l:0),overflowing:Math.abs(p-c)<=1}}),[i,s,t.placeholder]),f=r.useCallback((()=>{const t=p();if(void 0===(e=t)||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflowing)return;var e;const n=h.current;n.style.height="".concat(t.outerHeightStyle,"px"),n.style.overflow=t.overflowing?"hidden":""}),[p]);(0,es.A)((()=>{const t=()=>{f()};let e;const n=(0,ta.A)(t),i=h.current,r=(0,Hr.A)(i);let s;return r.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(s=new ResizeObserver(t),s.observe(i)),()=>{n.clear(),cancelAnimationFrame(e),r.removeEventListener("resize",n),s&&s.disconnect()}}),[p,f]),(0,es.A)((()=>{f()}));return(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)("textarea",(0,qn.A)({value:a,onChange:t=>{c||f(),n&&n(t)},ref:d,rows:s,style:o},l)),(0,mn.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:u,tabIndex:-1,style:(0,qn.A)({},ia,o,{paddingTop:0,paddingBottom:0})})]})}));function sa(t){let{props:e,states:n,muiFormControl:i}=t;return n.reduce(((t,n)=>(t[n]=e[n],i&&"undefined"===typeof e[n]&&(t[n]=i[n]),t)),{})}const oa=r.createContext(void 0);function aa(){return r.useContext(oa)}var la=n(5013);function ca(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function ha(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(ca(t.value)&&""!==t.value||e&&ca(t.defaultValue)&&""!==t.defaultValue)}function da(t){return(0,ui.Ay)("MuiInputBase",t)}const ua=(0,ii.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),pa=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],fa=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e["color".concat((0,di.A)(n.color))],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},ga=(t,e)=>{const{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ma=(0,ci.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fa})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(ua.disabled)]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},n.multiline&&(0,qn.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),va=(0,ci.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ga})((t=>{let{theme:e,ownerState:n}=t;const i="light"===e.palette.mode,r=(0,qn.A)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,qn.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(ua.formControl," &")]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},["&.".concat(ua.disabled)]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),ya=(0,mn.jsx)(zo,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),xa=r.forwardRef((function(t,e){var n;const i=(0,hi.A)({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:h={},defaultValue:d,disabled:u,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:g=!1,id:m,inputComponent:v="input",inputProps:y={},inputRef:x,maxRows:_,minRows:b,multiline:w=!1,name:A,onBlur:S,onChange:C,onClick:E,onFocus:k,onKeyDown:T,onKeyUp:P,placeholder:R,readOnly:I,renderSuffix:M,rows:B,slotProps:F={},slots:D={},startAdornment:j,type:O="text",value:L}=i,z=(0,Xn.A)(i,pa),N=null!=y.value?y.value:L,{current:U}=r.useRef(null!=N),H=r.useRef(),W=r.useCallback((t=>{0}),[]),V=(0,Oi.A)(H,x,y.ref,W),[G,q]=r.useState(!1),X=aa();const Q=sa({props:i,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=X?X.focused:G,r.useEffect((()=>{!X&&u&&G&&(q(!1),S&&S())}),[X,u,G,S]);const K=X&&X.onFilled,Y=X&&X.onEmpty,Z=r.useCallback((t=>{ha(t)?K&&K():Y&&Y()}),[K,Y]);(0,la.A)((()=>{U&&Z({value:N})}),[N,Z,U]);r.useEffect((()=>{Z(H.current)}),[]);let J=v,$=y;w&&"input"===J&&($=B?(0,qn.A)({type:void 0,minRows:B,maxRows:B},$):(0,qn.A)({type:void 0,maxRows:_,minRows:b},$),J=ra);r.useEffect((()=>{X&&X.setAdornedStart(Boolean(j))}),[X,j]);const tt=(0,qn.A)({},i,{color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:X,fullWidth:g,hiddenLabel:Q.hiddenLabel,multiline:w,size:Q.size,startAdornment:j,type:O}),et=(t=>{const{classes:e,color:n,disabled:i,error:r,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:d,size:u,startAdornment:p,type:f}=t,g={root:["root","color".concat((0,di.A)(n)),i&&"disabled",r&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",u&&"medium"!==u&&"size".concat((0,di.A)(u)),h&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",i&&"disabled","search"===f&&"inputTypeSearch",h&&"inputMultiline","small"===u&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return(0,li.A)(g,da,e)})(tt),nt=D.root||c.Root||ma,it=F.root||h.root||{},rt=D.input||c.Input||va;return $=(0,qn.A)({},$,null!=(n=F.input)?n:h.input),(0,mn.jsxs)(r.Fragment,{children:[!p&&ya,(0,mn.jsxs)(nt,(0,qn.A)({},it,!Ir(nt)&&{ownerState:(0,qn.A)({},tt,it.ownerState)},{ref:e,onClick:t=>{H.current&&t.currentTarget===t.target&&H.current.focus(),E&&E(t)}},z,{className:(0,Qn.A)(et.root,it.className,l,I&&"MuiInputBase-readOnly"),children:[j,(0,mn.jsx)(oa.Provider,{value:null,children:(0,mn.jsx)(rt,(0,qn.A)({ownerState:tt,"aria-invalid":Q.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Q.disabled,id:m,onAnimationStart:t=>{Z("mui-auto-fill-cancel"===t.animationName?H.current:{value:"x"})},name:A,placeholder:R,readOnly:I,required:Q.required,rows:B,value:N,onKeyDown:T,onKeyUp:P,type:O},$,!Ir(rt)&&{as:J,ownerState:(0,qn.A)({},tt,$.ownerState)},{ref:V,className:(0,Qn.A)(et.input,$.className,I&&"MuiInputBase-readOnly"),onBlur:t=>{S&&S(t),y.onBlur&&y.onBlur(t),X&&X.onBlur?X.onBlur(t):q(!1)},onChange:function(t){if(!U){const e=t.target||H.current;if(null==e)throw new Error((0,$o.A)(1));Z({value:e.value})}for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];y.onChange&&y.onChange(t,...n),C&&C(t,...n)},onFocus:t=>{Q.disabled?t.stopPropagation():(k&&k(t),y.onFocus&&y.onFocus(t),X&&X.onFocus?X.onFocus(t):q(!0))}}))}),f,M?M((0,qn.A)({},Q,{startAdornment:j})):null]}))]})})),_a=xa;function ba(t){return(0,ui.Ay)("MuiInput",t)}const wa=(0,qn.A)({},ua,(0,ii.A)("MuiInput",["root","underline","input"])),Aa=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Sa=(0,ci.Ay)(ma,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...fa(t,e),!n.disableUnderline&&e.underline]}})((t=>{let{theme:e,ownerState:n}=t;let i="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(i="rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")")),(0,qn.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((e.vars||e).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(wa.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(wa.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(wa.disabled,", .").concat(wa.error,"):before")]:{borderBottom:"2px solid ".concat((e.vars||e).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}},["&.".concat(wa.disabled,":before")]:{borderBottomStyle:"dotted"}})})),Ca=(0,ci.Ay)(va,{name:"MuiInput",slot:"Input",overridesResolver:ga})({}),Ea=r.forwardRef((function(t,e){var n,i,r,s;const o=(0,hi.A)({props:t,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:h=!1,inputComponent:d="input",multiline:u=!1,slotProps:p,slots:f={},type:g="text"}=o,m=(0,Xn.A)(o,Aa),v=(t=>{const{classes:e,disableUnderline:n}=t,i={root:["root",!n&&"underline"],input:["input"]},r=(0,li.A)(i,ba,e);return(0,qn.A)({},e,r)})(o),y={root:{ownerState:{disableUnderline:a}}},x=(null!=p?p:c)?(0,Ps.A)(null!=p?p:c,y):y,_=null!=(n=null!=(i=f.root)?i:l.Root)?n:Sa,b=null!=(r=null!=(s=f.input)?s:l.Input)?r:Ca;return(0,mn.jsx)(_a,(0,qn.A)({slots:{root:_,input:b},slotProps:x,fullWidth:h,inputComponent:d,multiline:u,ref:e,type:g},m,{classes:v}))}));Ea.muiName="Input";const ka=Ea;function Ta(t){return(0,ui.Ay)("MuiFilledInput",t)}const Pa=(0,qn.A)({},ua,(0,ii.A)("MuiFilledInput",["root","underline","input"])),Ra=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ia=(0,ci.Ay)(ma,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...fa(t,e),!n.disableUnderline&&e.underline]}})((t=>{let{theme:e,ownerState:n}=t;var i;const r="light"===e.palette.mode,s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,qn.A)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},["&.".concat(Pa.focused)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},["&.".concat(Pa.disabled)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(i=(e.vars||e).palette[n.color||"primary"])?void 0:i.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Pa.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Pa.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Pa.disabled,", .").concat(Pa.error,"):before")]:{borderBottom:"1px solid ".concat((e.vars||e).palette.text.primary)},["&.".concat(Pa.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,qn.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),Ma=(0,ci.Ay)(va,{name:"MuiFilledInput",slot:"Input",overridesResolver:ga})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Ba=r.forwardRef((function(t,e){var n,i,r,s;const o=(0,hi.A)({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:h="input",multiline:d=!1,slotProps:u,slots:p={},type:f="text"}=o,g=(0,Xn.A)(o,Ra),m=(0,qn.A)({},o,{fullWidth:c,inputComponent:h,multiline:d,type:f}),v=(t=>{const{classes:e,disableUnderline:n}=t,i={root:["root",!n&&"underline"],input:["input"]},r=(0,li.A)(i,Ta,e);return(0,qn.A)({},e,r)})(o),y={root:{ownerState:m},input:{ownerState:m}},x=(null!=u?u:l)?(0,Ps.A)(y,null!=u?u:l):y,_=null!=(n=null!=(i=p.root)?i:a.Root)?n:Ia,b=null!=(r=null!=(s=p.input)?s:a.Input)?r:Ma;return(0,mn.jsx)(_a,(0,qn.A)({slots:{root:_,input:b},componentsProps:x,fullWidth:c,inputComponent:h,multiline:d,ref:e,type:f},g,{classes:v}))}));Ba.muiName="Input";const Fa=Ba;var Da;const ja=["children","classes","className","label","notched"],Oa=(0,ci.Ay)("fieldset",{shouldForwardProp:ji.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),La=(0,ci.Ay)("legend",{shouldForwardProp:ji.A})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},e.withLabel&&(0,qn.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function za(t){return(0,ui.Ay)("MuiOutlinedInput",t)}const Na=(0,qn.A)({},ua,(0,ii.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Ua=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Ha=(0,ci.Ay)(ma,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:fa})((t=>{let{theme:e,ownerState:n}=t;const i="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,qn.A)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,["&:hover .".concat(Na.notchedOutline)]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(Na.notchedOutline)]:{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):i}},["&.".concat(Na.focused," .").concat(Na.notchedOutline)]:{borderColor:(e.vars||e).palette[n.color].main,borderWidth:2},["&.".concat(Na.error," .").concat(Na.notchedOutline)]:{borderColor:(e.vars||e).palette.error.main},["&.".concat(Na.disabled," .").concat(Na.notchedOutline)]:{borderColor:(e.vars||e).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,qn.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),Wa=(0,ci.Ay)((function(t){const{className:e,label:n,notched:i}=t,r=(0,Xn.A)(t,ja),s=null!=n&&""!==n,o=(0,qn.A)({},t,{notched:i,withLabel:s});return(0,mn.jsx)(Oa,(0,qn.A)({"aria-hidden":!0,className:e,ownerState:o},r,{children:(0,mn.jsx)(La,{ownerState:o,children:s?(0,mn.jsx)("span",{children:n}):Da||(Da=(0,mn.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})((t=>{let{theme:e}=t;const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Va=(0,ci.Ay)(va,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ga})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Ga=r.forwardRef((function(t,e){var n,i,s,o,a;const l=(0,hi.A)({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:h=!1,inputComponent:d="input",label:u,multiline:p=!1,notched:f,slots:g={},type:m="text"}=l,v=(0,Xn.A)(l,Ua),y=(t=>{const{classes:e}=t,n=(0,li.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},za,e);return(0,qn.A)({},e,n)})(l),x=aa(),_=sa({props:l,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=(0,qn.A)({},l,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:x,fullWidth:h,hiddenLabel:_.hiddenLabel,multiline:p,size:_.size,type:m}),w=null!=(n=null!=(i=g.root)?i:c.Root)?n:Ha,A=null!=(s=null!=(o=g.input)?o:c.Input)?s:Va;return(0,mn.jsx)(_a,(0,qn.A)({slots:{root:w,input:A},renderSuffix:t=>(0,mn.jsx)(Wa,{ownerState:b,className:y.notchedOutline,label:null!=u&&""!==u&&_.required?a||(a=(0,mn.jsxs)(r.Fragment,{children:[u,"\u2009","*"]})):u,notched:"undefined"!==typeof f?f:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:h,inputComponent:d,multiline:p,ref:e,type:m},v,{classes:(0,qn.A)({},y,{notchedOutline:null})}))}));Ga.muiName="Input";const qa=Ga;function Xa(t){return(0,ui.Ay)("MuiFormLabel",t)}const Qa=(0,ii.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ka=["children","className","color","component","disabled","error","filled","focused","required"],Ya=(0,ci.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return(0,qn.A)({},e.root,"secondary"===n.color&&e.colorSecondary,n.filled&&e.filled)}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(Qa.focused)]:{color:(e.vars||e).palette[n.color].main},["&.".concat(Qa.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(Qa.error)]:{color:(e.vars||e).palette.error.main}})})),Za=(0,ci.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((t=>{let{theme:e}=t;return{["&.".concat(Qa.error)]:{color:(e.vars||e).palette.error.main}}})),Ja=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiFormLabel"}),{children:i,className:r,component:s="label"}=n,o=(0,Xn.A)(n,Ka),a=sa({props:n,muiFormControl:aa(),states:["color","required","focused","disabled","error","filled"]}),l=(0,qn.A)({},n,{color:a.color||"primary",component:s,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(t=>{const{classes:e,color:n,focused:i,disabled:r,error:s,filled:o,required:a}=t,l={root:["root","color".concat((0,di.A)(n)),r&&"disabled",s&&"error",o&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return(0,li.A)(l,Xa,e)})(l);return(0,mn.jsxs)(Ya,(0,qn.A)({as:s,ownerState:l,className:(0,Qn.A)(c.root,r),ref:e},o,{children:[i,a.required&&(0,mn.jsxs)(Za,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function $a(t){return(0,ui.Ay)("MuiInputLabel",t)}(0,ii.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const tl=["disableAnimation","margin","shrink","variant","className"],el=(0,ci.Ay)(Ja,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{["& .".concat(Qa.asterisk)]:e.asterisk},e.root,n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===n.variant&&(0,qn.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,qn.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,qn.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),nl=r.forwardRef((function(t,e){const n=(0,hi.A)({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:r,className:s}=n,o=(0,Xn.A)(n,tl),a=aa();let l=r;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=sa({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),h=(0,qn.A)({},n,{disableAnimation:i,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(t=>{const{classes:e,formControl:n,size:i,shrink:r,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",r&&"shrink",i&&"normal"!==i&&"size".concat((0,di.A)(i)),o],asterisk:[a&&"asterisk"]},c=(0,li.A)(l,$a,e);return(0,qn.A)({},e,c)})(h);return(0,mn.jsx)(el,(0,qn.A)({"data-shrink":l,ownerState:h,ref:e,className:(0,Qn.A)(d.root,s)},o,{classes:d}))}));var il=n(154);function rl(t){return(0,ui.Ay)("MuiFormControl",t)}(0,ii.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const sl=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ol=(0,ci.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return(0,qn.A)({},e.root,e["margin".concat((0,di.A)(n.margin))],n.fullWidth&&e.fullWidth)}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})})),al=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:h,fullWidth:d=!1,hiddenLabel:u=!1,margin:p="none",required:f=!1,size:g="medium",variant:m="outlined"}=n,v=(0,Xn.A)(n,sl),y=(0,qn.A)({},n,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:u,margin:p,required:f,size:g,variant:m}),x=(t=>{const{classes:e,margin:n,fullWidth:i}=t,r={root:["root","none"!==n&&"margin".concat((0,di.A)(n)),i&&"fullWidth"]};return(0,li.A)(r,rl,e)})(y),[_,b]=r.useState((()=>{let t=!1;return i&&r.Children.forEach(i,(e=>{if(!(0,il.A)(e,["Input","Select"]))return;const n=(0,il.A)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)})),t})),[w,A]=r.useState((()=>{let t=!1;return i&&r.Children.forEach(i,(e=>{(0,il.A)(e,["Input","Select"])&&(ha(e.props,!0)||ha(e.props.inputProps,!0))&&(t=!0)})),t})),[S,C]=r.useState(!1);l&&S&&C(!1);const E=void 0===h||l?S:h;let k;const T=r.useMemo((()=>({adornedStart:_,setAdornedStart:b,color:o,disabled:l,error:c,filled:w,focused:E,fullWidth:d,hiddenLabel:u,size:g,onBlur:()=>{C(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{C(!0)},registerEffect:k,required:f,variant:m})),[_,o,l,c,w,E,d,u,k,f,g,m]);return(0,mn.jsx)(oa.Provider,{value:T,children:(0,mn.jsx)(ol,(0,qn.A)({as:a,ownerState:y,className:(0,Qn.A)(x.root,s),ref:e},v,{children:i}))})}));function ll(t){return(0,ui.Ay)("MuiFormHelperText",t)}const cl=(0,ii.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var hl;const dl=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ul=(0,ci.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e["size".concat((0,di.A)(n.size))],n.contained&&e.contained,n.filled&&e.filled]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(cl.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(cl.error)]:{color:(e.vars||e).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),pl=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiFormHelperText"}),{children:i,className:r,component:s="p"}=n,o=(0,Xn.A)(n,dl),a=sa({props:n,muiFormControl:aa(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,qn.A)({},n,{component:s,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(t=>{const{classes:e,contained:n,size:i,disabled:r,error:s,filled:o,focused:a,required:l}=t,c={root:["root",r&&"disabled",s&&"error",i&&"size".concat((0,di.A)(i)),n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return(0,li.A)(c,ll,e)})(l);return(0,mn.jsx)(ul,(0,qn.A)({as:s,ownerState:l,className:(0,Qn.A)(c.root,r),ref:e},o,{children:" "===i?hl||(hl=(0,mn.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))}));n(2086);var fl=n(2427);const gl=r.createContext();const ml=()=>{const t=r.useContext(gl);return null!=t&&t};const vl=r.createContext({});function yl(t){return(0,ui.Ay)("MuiList",t)}(0,ii.A)("MuiList",["root","padding","dense","subheader"]);const xl=["children","className","component","dense","disablePadding","subheader"],_l=(0,ci.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})})),bl=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,h=(0,Xn.A)(n,xl),d=r.useMemo((()=>({dense:a})),[a]),u=(0,qn.A)({},n,{component:o,dense:a,disablePadding:l}),p=(t=>{const{classes:e,disablePadding:n,dense:i,subheader:r}=t,s={root:["root",!n&&"padding",i&&"dense",r&&"subheader"]};return(0,li.A)(s,yl,e)})(u);return(0,mn.jsx)(vl.Provider,{value:d,children:(0,mn.jsxs)(_l,(0,qn.A)({as:o,className:(0,Qn.A)(p.root,s),ref:e,ownerState:u},h,{children:[c,i]}))})})),wl=Wr,Al=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Sl(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Cl(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function El(t,e){if(void 0===e)return!0;let n=t.innerText;return void 0===n&&(n=t.textContent),n=n.trim().toLowerCase(),0!==n.length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function kl(t,e,n,i,r,s){let o=!1,a=r(t,e,!!e&&n);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const e=!i&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&El(a,s)&&!e)return a.focus(),!0;a=r(t,a,n)}return!1}const Tl=r.forwardRef((function(t,e){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:h,variant:d="selectedMenu"}=t,u=(0,Xn.A)(t,Al),p=r.useRef(null),f=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,la.A)((()=>{i&&p.current.focus()}),[i]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(t,e)=>{let{direction:n}=e;const i=!p.current.style.width;if(t.clientHeight<p.current.clientHeight&&i){const e="".concat(wl((0,fl.A)(t)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=e,p.current.style.width="calc(100% + ".concat(e,")")}return p.current}})),[]);const g=(0,Oi.A)(p,e);let m=-1;r.Children.forEach(o,((t,e)=>{r.isValidElement(t)?(t.props.disabled||("selectedMenu"===d&&t.props.selected||-1===m)&&(m=e),m===e&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))):m===e&&(m+=1,m>=o.length&&(m=-1))}));const v=r.Children.map(o,((t,e)=>{if(e===m){const e={};return s&&(e.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===d&&(e.tabIndex=0),r.cloneElement(t,e)}return t}));return(0,mn.jsx)(bl,(0,qn.A)({role:"menu",ref:g,className:a,onKeyDown:t=>{const e=p.current,n=t.key,i=(0,fl.A)(e).activeElement;if("ArrowDown"===n)t.preventDefault(),kl(e,i,c,l,Sl);else if("ArrowUp"===n)t.preventDefault(),kl(e,i,c,l,Cl);else if("Home"===n)t.preventDefault(),kl(e,null,c,l,Sl);else if("End"===n)t.preventDefault(),kl(e,null,c,l,Cl);else if(1===n.length){const r=f.current,s=n.toLowerCase(),o=performance.now();r.keys.length>0&&(o-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&s!==r.keys[0]&&(r.repeating=!1)),r.lastTime=o,r.keys.push(s);const a=i&&!r.repeating&&El(i,r);r.previousKeyMatched&&(a||kl(e,i,!1,l,Sl,r))?t.preventDefault():r.previousKeyMatched=!1}h&&h(t)},tabIndex:i?0:-1},u,{children:v}))}));var Pl=n(950),Rl=n(6078);const Il=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ml(t){return"scale(".concat(t,", ").concat(t**2,")")}const Bl={entering:{opacity:1,transform:Ml(1)},entered:{opacity:1,transform:"none"}},Fl="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Dl=r.forwardRef((function(t,e){const{addEndListener:n,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:h,onExit:d,onExited:u,onExiting:p,style:f,timeout:g="auto",TransitionComponent:m=us}=t,v=(0,Xn.A)(t,Il),y=(0,Zi.A)(),x=r.useRef(),_=bi(),b=r.useRef(null),w=(0,Oi.A)(b,s.ref,e),A=t=>e=>{if(t){const n=b.current;void 0===e?t(n):t(n,e)}},S=A(h),C=A(((t,e)=>{ps(t);const{duration:n,delay:i,easing:r}=fs({style:f,timeout:g,easing:o},{mode:"enter"});let s;"auto"===g?(s=_.transitions.getAutoHeightDuration(t.clientHeight),x.current=s):s=n,t.style.transition=[_.transitions.create("opacity",{duration:s,delay:i}),_.transitions.create("transform",{duration:Fl?s:.666*s,delay:i,easing:r})].join(","),l&&l(t,e)})),E=A(c),k=A(p),T=A((t=>{const{duration:e,delay:n,easing:i}=fs({style:f,timeout:g,easing:o},{mode:"exit"});let r;"auto"===g?(r=_.transitions.getAutoHeightDuration(t.clientHeight),x.current=r):r=e,t.style.transition=[_.transitions.create("opacity",{duration:r,delay:n}),_.transitions.create("transform",{duration:Fl?r:.666*r,delay:Fl?n:n||.333*r,easing:i})].join(","),t.style.opacity=0,t.style.transform=Ml(.75),d&&d(t)})),P=A(u);return(0,mn.jsx)(m,(0,qn.A)({appear:i,in:a,nodeRef:b,onEnter:C,onEntered:E,onEntering:S,onExit:T,onExited:P,onExiting:k,addEndListener:t=>{"auto"===g&&y.start(x.current||0,t),n&&n(b.current,t)},timeout:"auto"===g?null:g},v,{children:(t,e)=>r.cloneElement(s,(0,qn.A)({style:(0,qn.A)({opacity:0,transform:Ml(.75),visibility:"exited"!==t||a?void 0:"hidden"},Bl[t],f,s.props.style),ref:w},e))}))}));Dl.muiSupportAuto=!0;const jl=Dl;function Ol(t){return(0,ui.Ay)("MuiPopover",t)}(0,ii.A)("MuiPopover",["root","paper"]);const Ll=["onEntering"],zl=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Nl=["slotProps"];function Ul(t,e){let n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function Hl(t,e){let n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function Wl(t){return[t.horizontal,t.vertical].map((t=>"number"===typeof t?"".concat(t,"px"):t)).join(" ")}function Vl(t){return"function"===typeof t?t():t}const Gl=(0,ci.Ay)(Ts,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ql=(0,ci.Ay)(ao,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Xl=r.forwardRef((function(t,e){var n,i,s;const o=(0,hi.A)({props:t,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:d="anchorEl",children:u,className:p,container:f,elevation:g=8,marginThreshold:m=16,open:v,PaperProps:y={},slots:x,slotProps:_,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w=jl,transitionDuration:A="auto",TransitionProps:{onEntering:S}={},disableScrollLock:C=!1}=o,E=(0,Xn.A)(o.TransitionProps,Ll),k=(0,Xn.A)(o,zl),T=null!=(n=null==_?void 0:_.paper)?n:y,P=r.useRef(),R=(0,Oi.A)(P,T.ref),I=(0,qn.A)({},o,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:m,externalPaperSlotProps:T,transformOrigin:b,TransitionComponent:w,transitionDuration:A,TransitionProps:E}),M=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"],paper:["paper"]},Ol,e)})(I),B=r.useCallback((()=>{if("anchorPosition"===d)return h;const t=Vl(l),e=(t&&1===t.nodeType?t:(0,fl.A)(P.current).body).getBoundingClientRect();return{top:e.top+Ul(e,c.vertical),left:e.left+Hl(e,c.horizontal)}}),[l,c.horizontal,c.vertical,h,d]),F=r.useCallback((t=>({vertical:Ul(t,b.vertical),horizontal:Hl(t,b.horizontal)})),[b.horizontal,b.vertical]),D=r.useCallback((t=>{const e={width:t.offsetWidth,height:t.offsetHeight},n=F(e);if("none"===d)return{top:null,left:null,transformOrigin:Wl(n)};const i=B();let r=i.top-n.vertical,s=i.left-n.horizontal;const o=r+e.height,a=s+e.width,c=(0,Rl.A)(Vl(l)),h=c.innerHeight-m,u=c.innerWidth-m;if(null!==m&&r<m){const t=r-m;r-=t,n.vertical+=t}else if(null!==m&&o>h){const t=o-h;r-=t,n.vertical+=t}if(null!==m&&s<m){const t=s-m;s-=t,n.horizontal+=t}else if(a>u){const t=a-u;s-=t,n.horizontal+=t}return{top:"".concat(Math.round(r),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Wl(n)}}),[l,d,B,F,m]),[j,O]=r.useState(v),L=r.useCallback((()=>{const t=P.current;if(!t)return;const e=D(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,O(!0)}),[D]);r.useEffect((()=>(C&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L))),[l,C,L]);r.useEffect((()=>{v&&L()})),r.useImperativeHandle(a,(()=>v?{updatePosition:()=>{L()}}:null),[v,L]),r.useEffect((()=>{if(!v)return;const t=(0,Pl.A)((()=>{L()})),e=(0,Rl.A)(l);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[l,v,L]);let z=A;"auto"!==A||w.muiSupportAuto||(z=void 0);const N=f||(l?(0,fl.A)(Vl(l)).body:void 0),U=null!=(i=null==x?void 0:x.root)?i:Gl,H=null!=(s=null==x?void 0:x.paper)?s:ql,W=Lr({elementType:H,externalSlotProps:(0,qn.A)({},T,{style:j?T.style:(0,qn.A)({},T.style,{opacity:0})}),additionalProps:{elevation:g,ref:R},ownerState:I,className:(0,Qn.A)(M.paper,null==T?void 0:T.className)}),V=Lr({elementType:U,externalSlotProps:(null==_?void 0:_.root)||{},externalForwardedProps:k,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:N,open:v},ownerState:I,className:(0,Qn.A)(M.root,p)}),{slotProps:G}=V,q=(0,Xn.A)(V,Nl);return(0,mn.jsx)(U,(0,qn.A)({},q,!Ir(U)&&{slotProps:G,disableScrollLock:C},{children:(0,mn.jsx)(w,(0,qn.A)({appear:!0,in:v,onEntering:(t,e)=>{S&&S(t,e),L()},onExited:()=>{O(!1)},timeout:z},E,{children:(0,mn.jsx)(H,(0,qn.A)({},W,{children:u}))}))}))}));function Ql(t){return(0,ui.Ay)("MuiMenu",t)}(0,ii.A)("MuiMenu",["root","paper","list"]);const Kl=["onEntering"],Yl=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Zl={vertical:"top",horizontal:"right"},Jl={vertical:"top",horizontal:"left"},$l=(0,ci.Ay)(Xl,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),tc=(0,ci.Ay)(ql,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ec=(0,ci.Ay)(Tl,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),nc=r.forwardRef((function(t,e){var n,i;const s=(0,hi.A)({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:d,open:u,PaperProps:p={},PopoverClasses:f,transitionDuration:g="auto",TransitionProps:{onEntering:m}={},variant:v="selectedMenu",slots:y={},slotProps:x={}}=s,_=(0,Xn.A)(s.TransitionProps,Kl),b=(0,Xn.A)(s,Yl),w=ml(),A=(0,qn.A)({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:h,onEntering:m,PaperProps:p,transitionDuration:g,TransitionProps:_,variant:v}),S=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"],paper:["paper"],list:["list"]},Ql,e)})(A),C=o&&!c&&u,E=r.useRef(null);let k=-1;r.Children.map(a,((t,e)=>{r.isValidElement(t)&&(t.props.disabled||("selectedMenu"===v&&t.props.selected||-1===k)&&(k=e))}));const T=null!=(n=y.paper)?n:tc,P=null!=(i=x.paper)?i:p,R=Lr({elementType:y.root,externalSlotProps:x.root,ownerState:A,className:[S.root,l]}),I=Lr({elementType:T,externalSlotProps:P,ownerState:A,className:S.paper});return(0,mn.jsx)($l,(0,qn.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?Zl:Jl,slots:{paper:T,root:y.root},slotProps:{root:R,paper:I},open:u,ref:e,transitionDuration:g,TransitionProps:(0,qn.A)({onEntering:(t,e)=>{E.current&&E.current.adjustStyleForScrollbar(t,{direction:w?"rtl":"ltr"}),m&&m(t,e)}},_),ownerState:A},b,{classes:f,children:(0,mn.jsx)(ec,(0,qn.A)({onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),d&&d(t,"tabKeyDown"))},actions:E,autoFocus:o&&(-1===k||c),autoFocusItem:C,variant:v},h,{className:(0,Qn.A)(S.list,h.className),children:a}))}))}));function ic(t){return(0,ui.Ay)("MuiNativeSelect",t)}const rc=(0,ii.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sc=["className","disabled","error","IconComponent","inputRef","variant"],oc=t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,qn.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(rc.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},ac=(0,ci.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ji.A,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{["&.".concat(rc.multiple)]:e.multiple}]}})(oc),lc=t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(rc.disabled)]:{color:(n.vars||n).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7})},cc=(0,ci.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e["icon".concat((0,di.A)(n.variant))],n.open&&e.iconOpen]}})(lc),hc=r.forwardRef((function(t,e){const{className:n,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=t,c=(0,Xn.A)(t,sc),h=(0,qn.A)({},t,{disabled:i,variant:l,error:s}),d=(t=>{const{classes:e,variant:n,disabled:i,multiple:r,open:s,error:o}=t,a={select:["select",n,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon","icon".concat((0,di.A)(n)),s&&"iconOpen",i&&"disabled"]};return(0,li.A)(a,ic,e)})(h);return(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)(ac,(0,qn.A)({ownerState:h,className:(0,Qn.A)(d.select,n),disabled:i,ref:a||e},c)),t.multiple?null:(0,mn.jsx)(cc,{as:o,ownerState:h,className:d.icon})]})}));var dc=n(7123),uc=n(4516);function pc(t){return(0,ui.Ay)("MuiSelect",t)}const fc=(0,ii.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var gc;const mc=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],vc=(0,ci.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{["&.".concat(fc.select)]:e.select},{["&.".concat(fc.select)]:e[n.variant]},{["&.".concat(fc.error)]:e.error},{["&.".concat(fc.multiple)]:e.multiple}]}})(oc,{["&.".concat(fc.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yc=(0,ci.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e["icon".concat((0,di.A)(n.variant))],n.open&&e.iconOpen]}})(lc),xc=(0,ci.Ay)("input",{shouldForwardProp:t=>(0,dc.A)(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _c(t,e){return"object"===typeof e&&null!==e?t===e:String(t)===String(e)}function bc(t){return null==t||"string"===typeof t&&!t.trim()}const wc=r.forwardRef((function(t,e){var n;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:h,defaultValue:d,disabled:u,displayEmpty:p,error:f=!1,IconComponent:g,inputRef:m,labelId:v,MenuProps:y={},multiple:x,name:_,onBlur:b,onChange:w,onClose:A,onFocus:S,onOpen:C,open:E,readOnly:k,renderValue:T,SelectDisplayProps:P={},tabIndex:R,value:I,variant:M="standard"}=t,B=(0,Xn.A)(t,mc),[F,D]=(0,uc.A)({controlled:I,default:d,name:"Select"}),[j,O]=(0,uc.A)({controlled:E,default:h,name:"Select"}),L=r.useRef(null),z=r.useRef(null),[N,U]=r.useState(null),{current:H}=r.useRef(null!=E),[W,V]=r.useState(),G=(0,Oi.A)(e,m),q=r.useCallback((t=>{z.current=t,t&&U(t)}),[]),X=null==N?void 0:N.parentNode;r.useImperativeHandle(G,(()=>({focus:()=>{z.current.focus()},node:L.current,value:F})),[F]),r.useEffect((()=>{h&&j&&N&&!H&&(V(a?null:X.clientWidth),z.current.focus())}),[N,a]),r.useEffect((()=>{o&&z.current.focus()}),[o]),r.useEffect((()=>{if(!v)return;const t=(0,fl.A)(z.current).getElementById(v);if(t){const e=()=>{getSelection().isCollapsed&&z.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[v]);const Q=(t,e)=>{t?C&&C(e):A&&A(e),H||(V(a?null:X.clientWidth),O(t))},K=r.Children.toArray(l),Y=t=>e=>{let n;if(e.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(F)?F.slice():[];const e=F.indexOf(t.props.value);-1===e?n.push(t.props.value):n.splice(e,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),F!==n&&(D(n),w)){const i=e.nativeEvent||e,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:n,name:_}}),w(r,t)}x||Q(!1,e)}},Z=null!==N&&j;let J,$;delete B["aria-invalid"];const tt=[];let et=!1,nt=!1;(ha({value:F})||p)&&(T?J=T(F):et=!0);const it=K.map((t=>{if(!r.isValidElement(t))return null;let e;if(x){if(!Array.isArray(F))throw new Error((0,$o.A)(2));e=F.some((e=>_c(e,t.props.value))),e&&et&&tt.push(t.props.children)}else e=_c(F,t.props.value),e&&et&&($=t.props.children);return e&&(nt=!0),r.cloneElement(t,{"aria-selected":e?"true":"false",onClick:Y(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));et&&(J=x?0===tt.length?null:tt.reduce(((t,e,n)=>(t.push(e),n<tt.length-1&&t.push(", "),t)),[]):$);let rt,st=W;!a&&H&&N&&(st=X.clientWidth),rt="undefined"!==typeof R?R:u?null:0;const ot=P.id||(_?"mui-component-select-".concat(_):void 0),at=(0,qn.A)({},t,{variant:M,value:F,open:Z,error:f}),lt=(t=>{const{classes:e,variant:n,disabled:i,multiple:r,open:s,error:o}=t,a={select:["select",n,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon","icon".concat((0,di.A)(n)),s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return(0,li.A)(a,pc,e)})(at),ct=(0,qn.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ht=(0,Jo.A)();return(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)(vc,(0,qn.A)({ref:q,tabIndex:rt,role:"combobox","aria-controls":ht,"aria-disabled":u?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[v,ot].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:t=>{if(!k){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),Q(!0,t))}},onMouseDown:u||k?null:t=>{0===t.button&&(t.preventDefault(),z.current.focus(),Q(!0,t))},onBlur:t=>{!Z&&b&&(Object.defineProperty(t,"target",{writable:!0,value:{value:F,name:_}}),b(t))},onFocus:S},P,{ownerState:at,className:(0,Qn.A)(P.className,lt.select,c),id:ot,children:bc(J)?gc||(gc=(0,mn.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,mn.jsx)(xc,(0,qn.A)({"aria-invalid":f,value:Array.isArray(F)?F.join(","):F,name:_,ref:L,"aria-hidden":!0,onChange:t=>{const e=K.find((e=>e.props.value===t.target.value));void 0!==e&&(D(e.props.value),w&&w(t,e))},tabIndex:-1,disabled:u,className:lt.nativeInput,autoFocus:o,ownerState:at},B)),(0,mn.jsx)(yc,{as:g,className:lt.icon,ownerState:at}),(0,mn.jsx)(nc,(0,qn.A)({id:"menu-".concat(_||""),anchorEl:X,open:Z,onClose:t=>{Q(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,qn.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:ht},y.MenuListProps),slotProps:(0,qn.A)({},y.slotProps,{paper:(0,qn.A)({},ct,{style:(0,qn.A)({minWidth:st},null!=ct?ct.style:null)})}),children:it}))]})})),Ac=wc,Sc=(0,mo.A)((0,mn.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Cc=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ec=["root"],kc={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>(0,ji.A)(t)&&"variant"!==t,slot:"Root"},Tc=(0,ci.Ay)(ka,kc)(""),Pc=(0,ci.Ay)(qa,kc)(""),Rc=(0,ci.Ay)(Fa,kc)(""),Ic=r.forwardRef((function(t,e){const n=(0,hi.A)({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:h=Sc,id:d,input:u,inputProps:p,label:f,labelId:g,MenuProps:m,multiple:v=!1,native:y=!1,onClose:x,onOpen:_,open:b,renderValue:w,SelectDisplayProps:A,variant:S="outlined"}=n,C=(0,Xn.A)(n,Cc),E=y?hc:Ac,k=sa({props:n,muiFormControl:aa(),states:["variant","error"]}),T=k.variant||S,P=(0,qn.A)({},n,{variant:T,classes:o}),R=(t=>{const{classes:e}=t;return e})(P),I=(0,Xn.A)(R,Ec),M=u||{standard:(0,mn.jsx)(Tc,{ownerState:P}),outlined:(0,mn.jsx)(Pc,{label:f,ownerState:P}),filled:(0,mn.jsx)(Rc,{ownerState:P})}[T],B=(0,Oi.A)(e,M.ref);return(0,mn.jsx)(r.Fragment,{children:r.cloneElement(M,(0,qn.A)({inputComponent:E,inputProps:(0,qn.A)({children:s,error:k.error,IconComponent:h,variant:T,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:m,onClose:x,onOpen:_,open:b,renderValue:w,SelectDisplayProps:(0,qn.A)({id:d},A)},p,{classes:p?(0,Ps.A)(I,p.classes):I},u?u.props.inputProps:{})},(v&&y||c)&&"outlined"===T?{notched:!0}:{},{ref:B,className:(0,Qn.A)(M.props.className,a,R.root)},!u&&{variant:T},C))})}));Ic.muiName="Select";const Mc=Ic;function Bc(t){return(0,ui.Ay)("MuiTextField",t)}(0,ii.A)("MuiTextField",["root"]);const Fc=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Dc={standard:ka,filled:Fa,outlined:qa},jc=(0,ci.Ay)(al,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Oc=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:r=!1,children:s,className:o,color:a="primary",defaultValue:l,disabled:c=!1,error:h=!1,FormHelperTextProps:d,fullWidth:u=!1,helperText:p,id:f,InputLabelProps:g,inputProps:m,InputProps:v,inputRef:y,label:x,maxRows:_,minRows:b,multiline:w=!1,name:A,onBlur:S,onChange:C,onFocus:E,placeholder:k,required:T=!1,rows:P,select:R=!1,SelectProps:I,type:M,value:B,variant:F="outlined"}=n,D=(0,Xn.A)(n,Fc),j=(0,qn.A)({},n,{autoFocus:r,color:a,disabled:c,error:h,fullWidth:u,multiline:w,required:T,select:R,variant:F}),O=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},Bc,e)})(j);const L={};"outlined"===F&&(g&&"undefined"!==typeof g.shrink&&(L.notched=g.shrink),L.label=x),R&&(I&&I.native||(L.id=void 0),L["aria-describedby"]=void 0);const z=(0,Jo.A)(f),N=p&&z?"".concat(z,"-helper-text"):void 0,U=x&&z?"".concat(z,"-label"):void 0,H=Dc[F],W=(0,mn.jsx)(H,(0,qn.A)({"aria-describedby":N,autoComplete:i,autoFocus:r,defaultValue:l,fullWidth:u,multiline:w,name:A,rows:P,maxRows:_,minRows:b,type:M,value:B,id:z,inputRef:y,onBlur:S,onChange:C,onFocus:E,placeholder:k,inputProps:m},L,v));return(0,mn.jsxs)(jc,(0,qn.A)({className:(0,Qn.A)(O.root,o),disabled:c,error:h,fullWidth:u,ref:e,required:T,color:a,variant:F,ownerState:j},D,{children:[null!=x&&""!==x&&(0,mn.jsx)(nl,(0,qn.A)({htmlFor:z,id:U},g,{children:x})),R?(0,mn.jsx)(Mc,(0,qn.A)({"aria-describedby":N,id:z,labelId:U,value:B,input:W},I,{children:s})):W,p&&(0,mn.jsx)(pl,(0,qn.A)({id:N},d,{children:p}))]}))})),Lc=Oc;function zc(t){return(0,ui.Ay)("MuiLink",t)}const Nc=(0,ii.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var Uc=n(7162);const Hc={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Wc=t=>{let{theme:e,ownerState:n}=t;const i=(t=>Hc[t]||t)(n.color),r=(0,Uc.Yn)(e,"palette.".concat(i),!1)||n.color,s=(0,Uc.Yn)(e,"palette.".concat(i,"Channel"));return"vars"in e&&s?"rgba(".concat(s," / 0.4)"):(0,Di.X4)(r,.4)},Vc=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Gc=(0,ci.Ay)(yi,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e["underline".concat((0,di.A)(n.underline))],"button"===n.component&&e.button]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,qn.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:Wc({theme:e,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Nc.focusVisible)]:{outline:"auto"}})})),qc=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:h="always",variant:d="inherit",sx:u}=n,p=(0,Xn.A)(n,Vc),{isFocusVisibleRef:f,onBlur:g,onFocus:m,ref:v}=(0,zi.A)(),[y,x]=r.useState(!1),_=(0,Oi.A)(e,v),b=(0,qn.A)({},n,{color:s,component:o,focusVisible:y,underline:h,variant:d}),w=(t=>{const{classes:e,component:n,focusVisible:i,underline:r}=t,s={root:["root","underline".concat((0,di.A)(r)),"button"===n&&"button",i&&"focusVisible"]};return(0,li.A)(s,zc,e)})(b);return(0,mn.jsx)(Gc,(0,qn.A)({color:s,className:(0,Qn.A)(w.root,i),classes:c,component:o,onBlur:t=>{g(t),!1===f.current&&x(!1),a&&a(t)},onFocus:t=>{m(t),!0===f.current&&x(!0),l&&l(t)},ref:_,ownerState:b,variant:d,sx:[...Object.keys(Hc).includes(s)?[]:[{color:s}],...Array.isArray(u)?u:[u]]},p))}));var Xc=n(6325);function Qc(){const t=et();return(0,mn.jsx)(Pr,{variant:"contained",sx:[Wm,{left:"2%",bottom:"2%",position:"absolute"}],onClick:()=>{t("/")},children:"Back"})}function Kc(){const{auth:t}=(0,r.useContext)(Pn),[e,n]=(0,r.useState)({username:"",email:"",password:"",passwordVerify:""}),i=t=>{const{name:i,value:r}=t.target;n({...e,[i]:r})};let s="";return""!==t.errorMessage&&(s=(0,mn.jsx)(Do,{auth:t})),(0,mn.jsxs)(ai,{sx:{height:"90%",width:"100%",flexDirection:"column",backgroundColor:"white",position:"absolute",textAlign:"center",top:"5%",p:2,boxShadow:10},children:[(0,mn.jsx)(Ho,{}),(0,mn.jsxs)(ai,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mn.jsx)(Zo,{sx:{m:1,bgcolor:"secondary.main"},children:(0,mn.jsx)(Xc.A,{})}),(0,mn.jsx)(yi,{component:"h1",variant:"h5",children:"Login"}),(0,mn.jsxs)(ai,{component:"form",noValidate:!0,onSubmit:n=>{n.preventDefault(),t.loginUser(e.email,e.password)},sx:{mt:3},children:[(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:i})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:i})})]}),(0,mn.jsx)(Pr,{id:"loginSubmit",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Login"}),(0,mn.jsx)(Bi,{container:!0,justifyContent:"flex-end",children:(0,mn.jsx)(Bi,{item:!0,children:(0,mn.jsx)(qc,{href:"/register/",variant:"body2",children:"Don't have an account? Sign Up"})})})]}),s]}),(0,mn.jsx)(Qc,{})]})}function Yc(){const{auth:t}=(0,r.useContext)(Pn),[e,n]=(0,r.useState)({username:"",email:"",password:"",passwordVerify:""}),i=t=>{const{name:i,value:r}=t.target;n({...e,[i]:r})};let s="";return""!==t.errorMessage&&(s=(0,mn.jsx)(Do,{auth:t})),(0,mn.jsxs)(ai,{sx:{height:"90%",width:"100%",flexDirection:"column",backgroundColor:"white",position:"absolute",textAlign:"center",top:"5%",p:2,boxShadow:10},children:[(0,mn.jsx)(Ho,{}),(0,mn.jsxs)(ai,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mn.jsx)(Zo,{sx:{m:1,bgcolor:"secondary.main"},children:(0,mn.jsx)(Xc.A,{})}),(0,mn.jsx)(yi,{component:"h1",variant:"h5",children:"Sign up"}),(0,mn.jsxs)(ai,{component:"form",noValidate:!0,onSubmit:n=>{n.preventDefault(),t.registerUser(e.username,e.email,e.password,e.passwordVerify)},sx:{mt:3},children:[(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:i,sx:{width:"50%"}})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:i,sx:{width:"50%"}})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:i,sx:{width:"50%"}})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{required:!0,fullWidth:!0,name:"passwordVerify",label:"Verify Password",type:"password",id:"passwordVerify",autoComplete:"new-password",onChange:i,sx:{width:"50%"}})})]}),(0,mn.jsx)(Pr,{id:"signUp",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"50%"},children:"Sign Up"}),(0,mn.jsx)(Bi,{container:!0,justifyContent:"center",children:(0,mn.jsx)(Bi,{item:!0,children:(0,mn.jsx)(qc,{href:"/login/",variant:"body2",children:"Already have an account? Sign in"})})})]}),s]}),(0,mn.jsx)(Qc,{})]})}function Zc(t){return(0,ui.Ay)("MuiDivider",t)}const Jc=(0,ii.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const $c=(0,ii.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);const th=(0,ii.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function eh(t){return(0,ui.Ay)("MuiMenuItem",t)}const nh=(0,ii.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ih=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rh=(0,ci.Ay)(xr,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiMenuItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(nh.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(nh.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat(nh.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},["&.".concat(nh.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat(nh.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity},["& + .".concat(Jc.root)]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},["& + .".concat(Jc.inset)]:{marginLeft:52},["& .".concat(th.root)]:{marginTop:0,marginBottom:0},["& .".concat(th.inset)]:{paddingLeft:36},["& .".concat($c.root)]:{minWidth:36}},!n.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,qn.A)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{["& .".concat($c.root," svg")]:{fontSize:"1.25rem"}}))})),sh=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:h="menuitem",tabIndex:d,className:u}=n,p=(0,Xn.A)(n,ih),f=r.useContext(vl),g=r.useMemo((()=>({dense:o||f.dense||!1,disableGutters:l})),[f.dense,o,l]),m=r.useRef(null);(0,la.A)((()=>{i&&m.current&&m.current.focus()}),[i]);const v=(0,qn.A)({},n,{dense:g.dense,divider:a,disableGutters:l}),y=(t=>{const{disabled:e,dense:n,divider:i,disableGutters:r,selected:s,classes:o}=t,a={root:["root",n&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},l=(0,li.A)(a,eh,o);return(0,qn.A)({},o,l)})(n),x=(0,Oi.A)(m,e);let _;return n.disabled||(_=void 0!==d?d:-1),(0,mn.jsx)(vl.Provider,{value:g,children:(0,mn.jsx)(rh,(0,qn.A)({ref:x,role:h,tabIndex:_,component:s,focusVisibleClassName:(0,Qn.A)(y.focusVisible,c),className:(0,Qn.A)(y.root,u)},p,{ownerState:v,classes:y}))})}));var oh=n(1702),ah=n(9089);const lh=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],ch=(0,ci.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,"vertical"===n.orientation&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&"vertical"===n.orientation&&e.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignLeft]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:e.vars?"rgba(".concat(e.vars.palette.dividerChannel," / 0.08)"):(0,Di.X4)(e.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(t=>{let{ownerState:e}=t;return(0,qn.A)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((e.vars||e).palette.divider)}})}),(t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((e.vars||e).palette.divider)}})}),(t=>{let{ownerState:e}=t;return(0,qn.A)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),hh=(0,ci.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,"vertical"===n.orientation&&e.wrapperVertical]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({display:"inline-block",paddingLeft:"calc(".concat(e.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(e.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(e.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(e.spacing(1)," * 1.2)")})})),dh=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiDivider"}),{absolute:i=!1,children:r,className:s,component:o=(r?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:h=("hr"!==o?"separator":void 0),textAlign:d="center",variant:u="fullWidth"}=n,p=(0,Xn.A)(n,lh),f=(0,qn.A)({},n,{absolute:i,component:o,flexItem:a,light:l,orientation:c,role:h,textAlign:d,variant:u}),g=(t=>{const{absolute:e,children:n,classes:i,flexItem:r,light:s,orientation:o,textAlign:a,variant:l}=t,c={root:["root",e&&"absolute",l,s&&"light","vertical"===o&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===a&&"vertical"!==o&&"textAlignRight","left"===a&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,li.A)(c,Zc,i)})(f);return(0,mn.jsx)(ch,(0,qn.A)({as:o,className:(0,Qn.A)(g.root,s),role:h,ref:e,ownerState:f},p,{children:r?(0,mn.jsx)(hh,{className:g.wrapper,ownerState:f,children:r}):null}))}));dh.muiSkipListHighlight=!0;const uh=dh;function ph(t){let{open:e,onClose:n}=t;const{store:i}=(0,r.useContext)(Gn);return(0,mn.jsx)(Ts,{open:e,onClose:n,children:(0,mn.jsxs)(ai,{sx:{width:"30%",height:"40%",bgcolor:"#4D9147",top:"20%",left:"35%",position:"absolute",boxShadow:10,textAlign:"center",borderRadius:"16px",color:"white"},children:[(0,mn.jsx)("h1",{children:"Report McKillaGorilla"}),(0,mn.jsx)(uh,{}),(0,mn.jsxs)(ai,{sx:{bgcolor:"#e3e3e3",alignContent:"center",textAlign:"center",color:"black",pl:2,pr:2,pb:2,borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px"},children:[(0,mn.jsx)("p",{children:"Include any additional feedback on McKillaGorilla here."}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{id:"filled-multiline-static",multiline:!0,fullWidth:!0,rows:4,variant:"filled",sx:{}})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{sx:[Wm,{color:"white",bgcolor:"gray"}],onClick:()=>{n()},children:"Cancel"})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{sx:[Wm,{color:"white"}],onClick:t=>{!function(t){i.submitReport(t),n()}(t)},children:"Submit"})})]})]})]})})}function fh(){const{auth:t}=(0,r.useContext)(Pn),{store:e}=(0,r.useContext)(Gn),[n,i]=(0,r.useState)(null),s=Boolean(n),[o,a]=(0,r.useState)(!1),l=t=>{i(t.currentTarget)},c=()=>{i(null)};const h=(0,mn.jsxs)(nc,{anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:c,children:[(0,mn.jsx)(sh,{onClick:t=>{!function(t){e.openPrivateMessaging(t),c()}(t)},children:"Private Message"}),(0,mn.jsx)(sh,{onClick:t=>{!function(t){e.sendFriend(t),c()}(t)},children:"Add Friend"}),(0,mn.jsx)(sh,{onClick:t=>{!function(t){e.promoteToLeader(t),c()}(t)},children:"Promote to Leader"}),(0,mn.jsx)(sh,{onClick:t=>{!function(t){e.removeFromParty(t),c()}(t)},children:"Remove From Party"}),(0,mn.jsx)(sh,{onClick:t=>{a(!0),c()},children:"Report Player"})]});return t.role===kn.USER&&(0,mn.jsxs)(ai,{sx:{backgroundColor:"#104c00",position:"fixed",flexGrow:1,height:"100%",width:"70px",display:"flex",flexDirection:"column",right:"0%"},children:[(0,mn.jsx)(gh,{handleProfileMenuOpen:l,marginTop:"10px"}),(0,mn.jsx)(gh,{handleProfileMenuOpen:l,marginTop:"60px"}),(0,mn.jsx)(gh,{handleProfileMenuOpen:l,marginTop:"110px"}),(0,mn.jsx)(gh,{handleProfileMenuOpen:l,marginTop:"160px"}),(0,mn.jsx)(go,{onClick:()=>{t.role===kn.GUEST?t.logoutGuest():(e.reset(),t.logoutUser())},sx:{position:"fixed",alignContent:"center",bottom:"2%",right:"15px",color:"white"},children:(0,mn.jsx)(oh.A,{})}),h,(0,mn.jsx)(ph,{open:o,onClose:()=>a(!1)})]})}function gh(t){return(0,mn.jsx)(go,{size:"large",edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:t.handleProfileMenuOpen,sx:{position:"absolute",right:"22.5px",marginTop:t.marginTop,color:"white"},children:(0,mn.jsx)(ah.A,{})})}function mh(t){let{open:e,onClose:n}=t;const{store:i}=(0,r.useContext)(Gn);return(0,mn.jsx)(Ts,{open:e,onClose:n,children:(0,mn.jsxs)(ai,{sx:{width:"30%",height:"40%",bgcolor:"#4D9147",top:"20%",left:"35%",position:"absolute",boxShadow:10,textAlign:"center",borderRadius:"16px",color:"white"},children:[(0,mn.jsx)("h1",{children:"Game Invitation"}),(0,mn.jsx)(uh,{}),(0,mn.jsxs)(ai,{sx:{bgcolor:"#e3e3e3",width:"100%",height:"60%",alignContent:"center",textAlign:"center",color:"black"},children:[(0,mn.jsxs)("p",{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"})," has invited you to their party."]}),(0,mn.jsxs)(Bi,{container:!0,spacing:0,children:[(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{sx:[Wm,{color:"white"}],onClick:t=>{!function(t){i.acceptInvite(t),n()}(t)},children:"Accept"})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{sx:{bgcolor:"red",color:"white"},onClick:t=>{!function(t){i.rejectInvite(t),n()}(t)},children:"Reject"})})]})]})]})})}const vh=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function yh(t,e,n){var i;const r=function(t,e,n){const i=e.getBoundingClientRect(),r=n&&n.getBoundingClientRect(),s=(0,Rl.A)(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const t=s.getComputedStyle(e);o=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform")}let a=0,l=0;if(o&&"none"!==o&&"string"===typeof o){const t=o.split("(")[1].split(")")[0].split(",");a=parseInt(t[4],10),l=parseInt(t[5],10)}return"left"===t?"translateX(".concat(r?r.right+a-i.left:s.innerWidth+a-i.left,"px)"):"right"===t?"translateX(-".concat(r?i.right-r.left-a:i.left+i.width-a,"px)"):"up"===t?"translateY(".concat(r?r.bottom+l-i.top:s.innerHeight+l-i.top,"px)"):"translateY(-".concat(r?i.top-r.top+i.height-l:i.top+i.height-l,"px)")}(t,e,"function"===typeof(i=n)?i():i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const xh=r.forwardRef((function(t,e){const n=bi(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:h="down",easing:d=i,in:u,onEnter:p,onEntered:f,onEntering:g,onExit:m,onExited:v,onExiting:y,style:x,timeout:_=s,TransitionComponent:b=us}=t,w=(0,Xn.A)(t,vh),A=r.useRef(null),S=(0,Oi.A)(l.ref,A,e),C=t=>e=>{t&&(void 0===e?t(A.current):t(A.current,e))},E=C(((t,e)=>{yh(h,t,c),ps(t),p&&p(t,e)})),k=C(((t,e)=>{const i=fs({timeout:_,style:x,easing:d},{mode:"enter"});t.style.webkitTransition=n.transitions.create("-webkit-transform",(0,qn.A)({},i)),t.style.transition=n.transitions.create("transform",(0,qn.A)({},i)),t.style.webkitTransform="none",t.style.transform="none",g&&g(t,e)})),T=C(f),P=C(y),R=C((t=>{const e=fs({timeout:_,style:x,easing:d},{mode:"exit"});t.style.webkitTransition=n.transitions.create("-webkit-transform",e),t.style.transition=n.transitions.create("transform",e),yh(h,t,c),m&&m(t)})),I=C((t=>{t.style.webkitTransition="",t.style.transition="",v&&v(t)})),M=r.useCallback((()=>{A.current&&yh(h,A.current,c)}),[h,c]);return r.useEffect((()=>{if(u||"down"===h||"right"===h)return;const t=(0,Pl.A)((()=>{A.current&&yh(h,A.current,c)})),e=(0,Rl.A)(A.current);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[h,u,c]),r.useEffect((()=>{u||M()}),[u,M]),(0,mn.jsx)(b,(0,qn.A)({nodeRef:A,onEnter:E,onEntered:T,onEntering:k,onExit:R,onExited:I,onExiting:P,addEndListener:t=>{o&&o(A.current,t)},appear:a,in:u,timeout:_},w,{children:(t,e)=>r.cloneElement(l,(0,qn.A)({ref:S,style:(0,qn.A)({visibility:"exited"!==t||u?void 0:"hidden"},x,l.props.style)},e))}))})),_h=xh;function bh(t){return(0,ui.Ay)("MuiDrawer",t)}(0,ii.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const wh=["BackdropProps"],Ah=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Sh=(t,e)=>{const{ownerState:n}=t;return[e.root,("permanent"===n.variant||"persistent"===n.variant)&&e.docked,e.modal]},Ch=(0,ci.Ay)(Ts,{name:"MuiDrawer",slot:"Root",overridesResolver:Sh})((t=>{let{theme:e}=t;return{zIndex:(e.vars||e).zIndex.drawer}})),Eh=(0,ci.Ay)("div",{shouldForwardProp:ji.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Sh})({flex:"0 0 auto"}),kh=(0,ci.Ay)(ao,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e["paperAnchor".concat((0,di.A)(n.anchor))],"temporary"!==n.variant&&e["paperAnchorDocked".concat((0,di.A)(n.anchor))]]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})})),Th={left:"right",right:"left",top:"down",bottom:"up"};const Ph=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiDrawer"}),i=bi(),s=ml(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:h,elevation:d=16,hideBackdrop:u=!1,ModalProps:{BackdropProps:p}={},onClose:f,open:g=!1,PaperProps:m={},SlideProps:v,TransitionComponent:y=_h,transitionDuration:x=o,variant:_="temporary"}=n,b=(0,Xn.A)(n.ModalProps,wh),w=(0,Xn.A)(n,Ah),A=r.useRef(!1);r.useEffect((()=>{A.current=!0}),[]);const S=function(t,e){let{direction:n}=t;return"rtl"===n&&function(t){return-1!==["left","right"].indexOf(t)}(e)?Th[e]:e}({direction:s?"rtl":"ltr"},a),C=a,E=(0,qn.A)({},n,{anchor:C,elevation:d,open:g,variant:_},w),k=(t=>{const{classes:e,anchor:n,variant:i}=t,r={root:["root"],docked:[("permanent"===i||"persistent"===i)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,di.A)(n)),"temporary"!==i&&"paperAnchorDocked".concat((0,di.A)(n))]};return(0,li.A)(r,bh,e)})(E),T=(0,mn.jsx)(kh,(0,qn.A)({elevation:"temporary"===_?d:0,square:!0},m,{className:(0,Qn.A)(k.paper,m.className),ownerState:E,children:c}));if("permanent"===_)return(0,mn.jsx)(Eh,(0,qn.A)({className:(0,Qn.A)(k.root,k.docked,h),ownerState:E,ref:e},w,{children:T}));const P=(0,mn.jsx)(y,(0,qn.A)({in:g,direction:Th[S],timeout:x,appear:A.current},v,{children:T}));return"persistent"===_?(0,mn.jsx)(Eh,(0,qn.A)({className:(0,Qn.A)(k.root,k.docked,h),ownerState:E,ref:e},w,{children:P})):(0,mn.jsx)(Ch,(0,qn.A)({BackdropProps:(0,qn.A)({},l,p,{transitionDuration:x}),className:(0,Qn.A)(k.root,k.modal,h),open:g,ownerState:E,onClose:f,hideBackdrop:u,ref:e},w,b,{children:P}))}));function Rh(t){return(0,ui.Ay)("MuiTab",t)}const Ih=(0,ii.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Mh=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Bh=(0,ci.Ay)(xr,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e["textColor".concat((0,di.A)(n.textColor))],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,["& > .".concat(Ih.iconWrapper)]:(0,qn.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:e.spacing(1)},"end"===n.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,["&.".concat(Ih.selected)]:{opacity:1},["&.".concat(Ih.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(e.vars||e).palette.text.secondary,["&.".concat(Ih.selected)]:{color:(e.vars||e).palette.primary.main},["&.".concat(Ih.disabled)]:{color:(e.vars||e).palette.text.disabled}},"secondary"===n.textColor&&{color:(e.vars||e).palette.text.secondary,["&.".concat(Ih.selected)]:{color:(e.vars||e).palette.secondary.main},["&.".concat(Ih.disabled)]:{color:(e.vars||e).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:e.typography.pxToRem(12)})})),Fh=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:h,label:d,onChange:u,onClick:p,onFocus:f,selected:g,selectionFollowsFocus:m,textColor:v="inherit",value:y,wrapped:x=!1}=n,_=(0,Xn.A)(n,Mh),b=(0,qn.A)({},n,{disabled:s,disableFocusRipple:o,selected:g,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:v,wrapped:x}),w=(t=>{const{classes:e,textColor:n,fullWidth:i,wrapped:r,icon:s,label:o,selected:a,disabled:l}=t,c={root:["root",s&&o&&"labelIcon","textColor".concat((0,di.A)(n)),i&&"fullWidth",r&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,li.A)(c,Rh,e)})(b),A=l&&d&&r.isValidElement(l)?r.cloneElement(l,{className:(0,Qn.A)(w.iconWrapper,l.props.className)}):l;return(0,mn.jsxs)(Bh,(0,qn.A)({focusRipple:!o,className:(0,Qn.A)(w.root,i),ref:e,role:"tab","aria-selected":g,disabled:s,onClick:t=>{!g&&u&&u(t,y),p&&p(t)},onFocus:t=>{m&&!g&&u&&u(t,y),f&&f(t)},ownerState:b,tabIndex:g?0:-1},_,{children:["top"===c||"start"===c?(0,mn.jsxs)(r.Fragment,{children:[A,d]}):(0,mn.jsxs)(r.Fragment,{children:[d,A]}),h]}))})),Dh=Fh;function jh(t){return(0,ui.Ay)("MuiListItem",t)}const Oh=(0,ii.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function Lh(t){return(0,ui.Ay)("MuiListItemButton",t)}const zh=(0,ii.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Nh(t){return(0,ui.Ay)("MuiListItemSecondaryAction",t)}(0,ii.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const Uh=["className"],Hh=(0,ci.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})})),Wh=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=n,s=(0,Xn.A)(n,Uh),o=r.useContext(vl),a=(0,qn.A)({},n,{disableGutters:o.disableGutters}),l=(t=>{const{disableGutters:e,classes:n}=t,i={root:["root",e&&"disableGutters"]};return(0,li.A)(i,Nh,n)})(a);return(0,mn.jsx)(Hh,(0,qn.A)({className:(0,Qn.A)(l.root,i),ownerState:a,ref:e},s))}));Wh.muiName="ListItemSecondaryAction";const Vh=Wh,Gh=["className"],qh=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Xh=(0,ci.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,"flex-start"===n.alignItems&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,qn.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(zh.root)]:{paddingRight:48}},{["&.".concat(Oh.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat(Oh.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(Oh.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat(Oh.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Oh.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),Qh=(0,ci.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Kh=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:h={},componentsProps:d={},ContainerComponent:u="li",ContainerProps:{className:p}={},dense:f=!1,disabled:g=!1,disableGutters:m=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:x,secondaryAction:_,selected:b=!1,slotProps:w={},slots:A={}}=n,S=(0,Xn.A)(n.ContainerProps,Gh),C=(0,Xn.A)(n,qh),E=r.useContext(vl),k=r.useMemo((()=>({dense:f||E.dense||!1,alignItems:i,disableGutters:m})),[i,E.dense,f,m]),T=r.useRef(null);(0,la.A)((()=>{s&&T.current&&T.current.focus()}),[s]);const P=r.Children.toArray(a),R=P.length&&(0,il.A)(P[P.length-1],["ListItemSecondaryAction"]),I=(0,qn.A)({},n,{alignItems:i,autoFocus:s,button:o,dense:k.dense,disabled:g,disableGutters:m,disablePadding:v,divider:y,hasSecondaryAction:R,selected:b}),M=(t=>{const{alignItems:e,button:n,classes:i,dense:r,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:h}=t,d={root:["root",r&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button","flex-start"===e&&"alignItemsFlexStart",c&&"secondaryAction",h&&"selected"],container:["container"]};return(0,li.A)(d,jh,i)})(I),B=(0,Oi.A)(T,e),F=A.root||h.Root||Xh,D=w.root||d.root||{},j=(0,qn.A)({className:(0,Qn.A)(M.root,D.className,l),disabled:g},C);let O=c||"li";return o&&(j.component=c||"div",j.focusVisibleClassName=(0,Qn.A)(Oh.focusVisible,x),O=xr),R?(O=j.component||c?O:"div","li"===u&&("li"===O?O="div":"li"===j.component&&(j.component="div")),(0,mn.jsx)(vl.Provider,{value:k,children:(0,mn.jsxs)(Qh,(0,qn.A)({as:u,className:(0,Qn.A)(M.container,p),ref:B,ownerState:I},S,{children:[(0,mn.jsx)(F,(0,qn.A)({},D,!Ir(F)&&{as:O,ownerState:(0,qn.A)({},I,D.ownerState)},j,{children:P})),P.pop()]}))})):(0,mn.jsx)(vl.Provider,{value:k,children:(0,mn.jsxs)(F,(0,qn.A)({},D,{as:O,ref:B},!Ir(F)&&{ownerState:(0,qn.A)({},I,D.ownerState)},j,{children:[P,_&&(0,mn.jsx)(Vh,{children:_})]}))})})),Yh=r.createContext(null);function Zh(t){const{children:e,value:n}=t,i=function(){const[t,e]=r.useState(null);return r.useEffect((()=>{e("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),s=r.useMemo((()=>({idPrefix:i,value:n})),[i,n]);return(0,mn.jsx)(Yh.Provider,{value:s,children:e})}function Jh(){return r.useContext(Yh)}function $h(t,e){const{idPrefix:n}=t;return null===n?null:"".concat(t.idPrefix,"-P-").concat(e)}function td(t,e){const{idPrefix:n}=t;return null===n?null:"".concat(t.idPrefix,"-T-").concat(e)}let ed;function nd(){if(ed)return ed;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),ed="reverse",t.scrollLeft>0?ed="default":(t.scrollLeft=1,0===t.scrollLeft&&(ed="negative")),document.body.removeChild(t),ed}function id(t,e){const n=t.scrollLeft;if("rtl"!==e)return n;switch(nd()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function rd(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}const sd=["onChange"],od={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const ad=(0,mo.A)((0,mn.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ld=(0,mo.A)((0,mn.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function cd(t){return(0,ui.Ay)("MuiTabScrollButton",t)}const hd=(0,ii.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),dd=["className","slots","slotProps","direction","orientation","disabled"],ud=(0,ci.Ay)(xr,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({width:40,flexShrink:0,opacity:.8,["&.".concat(hd.disabled)]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(e.isRtl?-90:90,"deg)")}})})),pd=r.forwardRef((function(t,e){var n,i;const r=(0,hi.A)({props:t,name:"MuiTabScrollButton"}),{className:s,slots:o={},slotProps:a={},direction:l}=r,c=(0,Xn.A)(r,dd),h=ml(),d=(0,qn.A)({isRtl:h},r),u=(t=>{const{classes:e,orientation:n,disabled:i}=t,r={root:["root",n,i&&"disabled"]};return(0,li.A)(r,cd,e)})(d),p=null!=(n=o.StartScrollButtonIcon)?n:ad,f=null!=(i=o.EndScrollButtonIcon)?i:ld,g=Lr({elementType:p,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),m=Lr({elementType:f,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,mn.jsx)(ud,(0,qn.A)({component:"div",className:(0,Qn.A)(u.root,s),ref:e,role:null,ownerState:d,tabIndex:null},c,{children:"left"===l?(0,mn.jsx)(p,(0,qn.A)({},g)):(0,mn.jsx)(f,(0,qn.A)({},m))}))}));function fd(t){return(0,ui.Ay)("MuiTabs",t)}const gd=(0,ii.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),md=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],vd=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,yd=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,xd=(t,e,n)=>{let i=!1,r=n(t,e);for(;r;){if(r===t.firstChild){if(i)return;i=!0}const e=r.disabled||"true"===r.getAttribute("aria-disabled");if(r.hasAttribute("tabindex")&&!e)return void r.focus();r=n(t,r)}},_d=(0,ci.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{["& .".concat(gd.scrollButtons)]:e.scrollButtons},{["& .".concat(gd.scrollButtons)]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{["& .".concat(gd.scrollButtons)]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),bd=(0,ci.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),wd=(0,ci.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})})),Ad=(0,ci.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})})),Sd=(0,ci.Ay)((function(t){const{onChange:e}=t,n=(0,Xn.A)(t,sd),i=r.useRef(),s=r.useRef(null),o=()=>{i.current=s.current.offsetHeight-s.current.clientHeight};return(0,la.A)((()=>{const t=(0,Pl.A)((()=>{const t=i.current;o(),t!==i.current&&e(i.current)})),n=(0,Rl.A)(s.current);return n.addEventListener("resize",t),()=>{t.clear(),n.removeEventListener("resize",t)}}),[e]),r.useEffect((()=>{o(),e(i.current)}),[e]),(0,mn.jsx)("div",(0,qn.A)({style:od,ref:s},n))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Cd={};const Ed=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTabs"}),i=bi(),s=ml(),{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:h,className:d,component:u="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:g,orientation:m="horizontal",ScrollButtonComponent:v=pd,scrollButtons:y="auto",selectionFollowsFocus:x,slots:_={},slotProps:b={},TabIndicatorProps:w={},TabScrollButtonProps:A={},textColor:S="primary",value:C,variant:E="standard",visibleScrollbar:k=!1}=n,T=(0,Xn.A)(n,md),P="scrollable"===E,R="vertical"===m,I=R?"scrollTop":"scrollLeft",M=R?"top":"left",B=R?"bottom":"right",F=R?"clientHeight":"clientWidth",D=R?"height":"width",j=(0,qn.A)({},n,{component:u,allowScrollButtonsMobile:p,indicatorColor:f,orientation:m,vertical:R,scrollButtons:y,textColor:S,variant:E,visibleScrollbar:k,fixed:!P,hideScrollbar:P&&!k,scrollableX:P&&!R,scrollableY:P&&R,centered:c&&!P,scrollButtonsHideMobile:!p}),O=(t=>{const{vertical:e,fixed:n,hideScrollbar:i,scrollableX:r,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=t,c={root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",i&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]};return(0,li.A)(c,fd,l)})(j),L=Lr({elementType:_.StartScrollButtonIcon,externalSlotProps:b.startScrollButtonIcon,ownerState:j}),z=Lr({elementType:_.EndScrollButtonIcon,externalSlotProps:b.endScrollButtonIcon,ownerState:j});const[N,U]=r.useState(!1),[H,W]=r.useState(Cd),[V,G]=r.useState(!1),[q,X]=r.useState(!1),[Q,K]=r.useState(!1),[Y,Z]=r.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,$=r.useRef(null),tt=r.useRef(null),et=()=>{const t=$.current;let e,n;if(t){const n=t.getBoundingClientRect();e={clientWidth:t.clientWidth,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,scrollLeftNormalized:id(t,s?"rtl":"ltr"),scrollWidth:t.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(t&&!1!==C){const t=tt.current.children;if(t.length>0){const e=t[J.get(C)];0,n=e?e.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:n}},nt=(0,Li.A)((()=>{const{tabsMeta:t,tabMeta:e}=et();let n,i=0;if(R)n="top",e&&t&&(i=e.top-t.top+t.scrollTop);else if(n=s?"right":"left",e&&t){const r=s?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;i=(s?-1:1)*(e[n]-t[n]+r)}const r={[n]:i,[D]:e?e[D]:0};if(isNaN(H[n])||isNaN(H[D]))W(r);else{const t=Math.abs(H[n]-r[n]),e=Math.abs(H[D]-r[D]);(t>=1||e>=1)&&W(r)}})),it=function(t){let{animation:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:s=rd,duration:o=300}=i;let a=null;const l=e[t];let c=!1;const h=()=>{c=!0},d=i=>{if(c)return void r(new Error("Animation cancelled"));null===a&&(a=i);const h=Math.min(1,(i-a)/o);e[t]=s(h)*(n-l)+l,h>=1?requestAnimationFrame((()=>{r(null)})):requestAnimationFrame(d)};l===n?r(new Error("Element already at target position")):requestAnimationFrame(d)}(I,$.current,t,{duration:i.transitions.duration.standard}):$.current[I]=t},rt=t=>{let e=$.current[I];R?e+=t:(e+=t*(s?-1:1),e*=s&&"reverse"===nd()?-1:1),it(e)},st=()=>{const t=$.current[F];let e=0;const n=Array.from(tt.current.children);for(let i=0;i<n.length;i+=1){const r=n[i];if(e+r[F]>t){0===i&&(e=t);break}e+=r[F]}return e},ot=()=>{rt(-1*st())},at=()=>{rt(st())},lt=r.useCallback((t=>{Z({overflow:null,scrollbarWidth:t})}),[]),ct=(0,Li.A)((t=>{const{tabsMeta:e,tabMeta:n}=et();if(n&&e)if(n[M]<e[M]){const i=e[I]+(n[M]-e[M]);it(i,{animation:t})}else if(n[B]>e[B]){const i=e[I]+(n[B]-e[B]);it(i,{animation:t})}})),ht=(0,Li.A)((()=>{P&&!1!==y&&K(!Q)}));r.useEffect((()=>{const t=(0,Pl.A)((()=>{$.current&&nt()}));let e;const n=n=>{n.forEach((t=>{t.removedNodes.forEach((t=>{var n;null==(n=e)||n.unobserve(t)})),t.addedNodes.forEach((t=>{var n;null==(n=e)||n.observe(t)}))})),t(),ht()},i=(0,Rl.A)($.current);let r;return i.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(tt.current.children).forEach((t=>{e.observe(t)}))),"undefined"!==typeof MutationObserver&&(r=new MutationObserver(n),r.observe(tt.current,{childList:!0})),()=>{var n,s;t.clear(),i.removeEventListener("resize",t),null==(n=r)||n.disconnect(),null==(s=e)||s.disconnect()}}),[nt,ht]),r.useEffect((()=>{const t=Array.from(tt.current.children),e=t.length;if("undefined"!==typeof IntersectionObserver&&e>0&&P&&!1!==y){const n=t[0],i=t[e-1],r={root:$.current,threshold:.99},s=new IntersectionObserver((t=>{G(!t[0].isIntersecting)}),r);s.observe(n);const o=new IntersectionObserver((t=>{X(!t[0].isIntersecting)}),r);return o.observe(i),()=>{s.disconnect(),o.disconnect()}}}),[P,y,Q,null==h?void 0:h.length]),r.useEffect((()=>{U(!0)}),[]),r.useEffect((()=>{nt()})),r.useEffect((()=>{ct(Cd!==H)}),[ct,H]),r.useImperativeHandle(l,(()=>({updateIndicator:nt,updateScrollButtons:ht})),[nt,ht]);const dt=(0,mn.jsx)(Ad,(0,qn.A)({},w,{className:(0,Qn.A)(O.indicator,w.className),ownerState:j,style:(0,qn.A)({},H,w.style)}));let ut=0;const pt=r.Children.map(h,(t=>{if(!r.isValidElement(t))return null;const e=void 0===t.props.value?ut:t.props.value;J.set(e,ut);const n=e===C;return ut+=1,r.cloneElement(t,(0,qn.A)({fullWidth:"fullWidth"===E,indicator:n&&!N&&dt,selected:n,selectionFollowsFocus:x,onChange:g,textColor:S,value:e},1!==ut||!1!==C||t.props.tabIndex?{}:{tabIndex:0}))})),ft=(()=>{const t={};t.scrollbarSizeListener=P?(0,mn.jsx)(Sd,{onChange:lt,className:(0,Qn.A)(O.scrollableX,O.hideScrollbar)}):null;const e=P&&("auto"===y&&(V||q)||!0===y);return t.scrollButtonStart=e?(0,mn.jsx)(v,(0,qn.A)({slots:{StartScrollButtonIcon:_.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:L},orientation:m,direction:s?"right":"left",onClick:ot,disabled:!V},A,{className:(0,Qn.A)(O.scrollButtons,A.className)})):null,t.scrollButtonEnd=e?(0,mn.jsx)(v,(0,qn.A)({slots:{EndScrollButtonIcon:_.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:z},orientation:m,direction:s?"left":"right",onClick:at,disabled:!q},A,{className:(0,Qn.A)(O.scrollButtons,A.className)})):null,t})();return(0,mn.jsxs)(_d,(0,qn.A)({className:(0,Qn.A)(O.root,d),ownerState:j,ref:e,as:u},T,{children:[ft.scrollButtonStart,ft.scrollbarSizeListener,(0,mn.jsxs)(bd,{className:O.scroller,ownerState:j,style:{overflow:Y.overflow,[R?"margin".concat(s?"Left":"Right"):"marginBottom"]:k?void 0:-Y.scrollbarWidth},ref:$,children:[(0,mn.jsx)(wd,{"aria-label":o,"aria-labelledby":a,"aria-orientation":"vertical"===m?"vertical":null,className:O.flexContainer,ownerState:j,onKeyDown:t=>{const e=tt.current,n=(0,fl.A)(e).activeElement;if("tab"!==n.getAttribute("role"))return;let i="horizontal"===m?"ArrowLeft":"ArrowUp",r="horizontal"===m?"ArrowRight":"ArrowDown";switch("horizontal"===m&&s&&(i="ArrowRight",r="ArrowLeft"),t.key){case i:t.preventDefault(),xd(e,n,yd);break;case r:t.preventDefault(),xd(e,n,vd);break;case"Home":t.preventDefault(),xd(e,null,vd);break;case"End":t.preventDefault(),xd(e,null,yd)}},ref:tt,role:"tablist",children:pt}),N&&dt]}),ft.scrollButtonEnd]}))})),kd=Ed,Td=["children"],Pd=r.forwardRef((function(t,e){const{children:n}=t,i=(0,Xn.A)(t,Td),s=Jh();if(null===s)throw new TypeError("No TabContext provided");const o=r.Children.map(n,(t=>r.isValidElement(t)?r.cloneElement(t,{"aria-controls":$h(s,t.props.value),id:td(s,t.props.value)}):null));return(0,mn.jsx)(kd,(0,qn.A)({},i,{ref:e,value:s.value,children:o}))}));function Rd(t){return(0,ui.Ay)("MuiTabPanel",t)}(0,ii.A)("MuiTabPanel",["root"]);const Id=["children","className","value"],Md=(0,ci.Ay)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})((t=>{let{theme:e}=t;return{padding:e.spacing(3)}})),Bd=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTabPanel"}),{children:i,className:r,value:s}=n,o=(0,Xn.A)(n,Id),a=(0,qn.A)({},n),l=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},Rd,e)})(a),c=Jh();if(null===c)throw new TypeError("No TabContext provided");const h=$h(c,s),d=td(c,s);return(0,mn.jsx)(Md,(0,qn.A)({"aria-labelledby":d,className:(0,Qn.A)(l.root,r),hidden:s!==c.value,id:h,ref:e,role:"tabpanel",ownerState:a},o,{children:s===c.value&&i}))})),Fd=Bd;var Dd=n(5678);function jd(){const{store:t}=(0,r.useContext)(Gn),{auth:e}=(0,r.useContext)(Pn),[n,i]=(0,r.useState)("1"),[s,o]=(0,r.useState)("bottom"),a={color:"white","&.Mui-selected":{color:"white"}};const l=t=>e=>{("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&o({...s,bottom:t})};return(0,mn.jsxs)("div",{children:[(0,mn.jsx)(ai,{id:"messages-box",children:(0,mn.jsx)(Pr,{sx:[Wm,{color:"white",borderRadius:"0px",bottom:"0%",position:"absolute",boxShadow:4,width:"40%"}],onClick:l(!0),children:"Messages"})}),(0,mn.jsx)(Ph,{anchor:"bottom",open:s.bottom,onClose:l(!1),sx:{width:"40%",flexShrink:0,"& .MuiDrawer-paper":{width:"40%"}},children:(0,mn.jsxs)(ai,{sx:{bgcolor:"#34732F"},children:[(0,mn.jsx)(ai,{sx:{typography:"body1"},children:(0,mn.jsxs)(Zh,{value:n,children:[(0,mn.jsx)(ai,{sx:{borderBottom:1,borderColor:"divider"},children:(0,mn.jsxs)(Pd,{onChange:(t,e)=>{i(e)},"aria-label":"lab API tabs example",children:[(0,mn.jsx)(Dh,{label:"Public",value:"1",sx:a}),e.role===kn.USER&&(0,mn.jsx)(Dh,{label:"Party",value:"2",sx:a}),e.role===kn.USER&&(0,mn.jsx)(Dh,{label:"Private",value:"3",sx:a})]})}),(0,mn.jsx)(Fd,{value:"1",children:(0,mn.jsx)(ai,{sx:{bgcolor:"#E7E7E7"},children:(0,mn.jsxs)(bl,{sx:{overflow:"scroll",overflowX:"hidden",height:"300px"},children:[(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": Hello World"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer"}),": Hello!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"MedicalGamer"}),": Hi Guys!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User1"}),": Yoooooooooo"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User2"}),": World"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User3"}),": Hi"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User1"}),": omg"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer"}),": Wdym omg????"]})]})})}),(0,mn.jsx)(Fd,{value:"2",children:(0,mn.jsx)(ai,{sx:{bgcolor:"#E7E7E7"},children:(0,mn.jsxs)(bl,{sx:{overflow:"scroll",overflowX:"hidden",height:"300px"},children:[(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": Hello World"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer"}),": Hello!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"MedicalGamer"}),": Hi!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User1"}),": lololol"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"User1"}),": omg"]})]})})}),(0,mn.jsx)(Fd,{value:"3",children:(0,mn.jsx)(ai,{sx:{bgcolor:"#E7E7E7"},children:(0,mn.jsxs)(bl,{sx:{overflow:"scroll",overflowX:"hidden",height:"300px"},children:[(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": Hello World"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer (You)"}),": Hello!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": Hi Guys!"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer (You)"}),": Yoooooooooo"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": World"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer (You)"}),": Hi"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"McKillaGorilla"}),": omg"]}),(0,mn.jsxs)(Kh,{children:[(0,mn.jsx)("strong",{children:"ExamplePlayer (You)"}),": testingggg"]})]})})}),(0,mn.jsxs)(Bi,{container:!0,spacing:1,sx:{bgcolor:"#E7E7E7",pl:2,pr:2,pb:2},children:[(0,mn.jsx)(Bi,{item:!0,xs:10,children:(0,mn.jsx)(Lc,{fullWidth:!0,variant:"standard",label:"Send Message"})}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:(0,mn.jsx)(Pr,{onClick:e=>{!function(e){switch(n){case 1:t.sendPublicMessage(e);break;case 2:t.sendPartyMessage(e);break;case 3:t.sendPrivateMessage(e)}}(e)},sx:{color:"#2d7044",top:"20%"},children:(0,mn.jsx)(Dd.A,{})})})]})]})}),(0,mn.jsx)(uh,{})]})})]})}const Od=Object.create(null);Od.open="0",Od.close="1",Od.ping="2",Od.pong="3",Od.message="4",Od.upgrade="5",Od.noop="6";const Ld=Object.create(null);Object.keys(Od).forEach((t=>{Ld[Od[t]]=t}));const zd={type:"error",data:"parser error"},Nd="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ud="function"===typeof ArrayBuffer,Hd=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Wd=(t,e,n)=>{let{type:i,data:r}=t;return Nd&&r instanceof Blob?e?n(r):Vd(r,n):Ud&&(r instanceof ArrayBuffer||Hd(r))?e?n(r):Vd(new Blob([r]),n):n(Od[i]+(r||""))},Vd=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function Gd(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let qd;const Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qd="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Qd[Xd.charCodeAt(n)]=n;const Kd="function"===typeof ArrayBuffer,Yd=(t,e)=>{if("string"!==typeof t)return{type:"message",data:Jd(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Zd(t.substring(1),e)};return Ld[n]?t.length>1?{type:Ld[n],data:t.substring(1)}:{type:Ld[n]}:zd},Zd=(t,e)=>{if(Kd){const n=(t=>{let e,n,i,r,s,o=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const c=new ArrayBuffer(o),h=new Uint8Array(c);for(e=0;e<a;e+=4)n=Qd[t.charCodeAt(e)],i=Qd[t.charCodeAt(e+1)],r=Qd[t.charCodeAt(e+2)],s=Qd[t.charCodeAt(e+3)],h[l++]=n<<2|i>>4,h[l++]=(15&i)<<4|r>>2,h[l++]=(3&r)<<6|63&s;return c})(t);return Jd(n,e)}return{base64:!0,data:t}},Jd=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,$d=String.fromCharCode(30);function tu(){return new TransformStream({transform(t,e){!function(t,e){Nd&&t.data instanceof Blob?t.data.arrayBuffer().then(Gd).then(e):Ud&&(t.data instanceof ArrayBuffer||Hd(t.data))?e(Gd(t.data)):Wd(t,!1,(t=>{qd||(qd=new TextEncoder),e(qd.encode(t))}))}(t,(n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126),t.setUint16(1,i)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(i))}t.data&&"string"!==typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)}))}})}let eu;function nu(t){return t.reduce(((t,e)=>t+e.length),0)}function iu(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function ru(t){if(t)return function(t){for(var e in ru.prototype)t[e]=ru.prototype[e];return t}(t)}ru.prototype.on=ru.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},ru.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},ru.prototype.off=ru.prototype.removeListener=ru.prototype.removeAllListeners=ru.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},ru.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},ru.prototype.emitReserved=ru.prototype.emit,ru.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},ru.prototype.hasListeners=function(t){return!!this.listeners(t).length};const su="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function ou(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const au=su.setTimeout,lu=su.clearTimeout;function cu(t,e){e.useNativeTimers?(t.setTimeoutFn=au.bind(su),t.clearTimeoutFn=lu.bind(su)):(t.setTimeoutFn=su.setTimeout.bind(su),t.clearTimeoutFn=su.clearTimeout.bind(su))}class hu extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class du extends ru{constructor(t){super(),this.writable=!1,cu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new hu(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Yd(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}const uu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),pu=64,fu={};let gu,mu=0,vu=0;function yu(t){let e="";do{e=uu[t%pu]+e,t=Math.floor(t/pu)}while(t>0);return e}function xu(){const t=yu(+new Date);return t!==gu?(mu=0,gu=t):t+"."+yu(mu++)}for(;vu<pu;vu++)fu[uu[vu]]=vu;let _u=!1;try{_u="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(qm){}const bu=_u;function wu(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||bu))return new XMLHttpRequest}catch(Gm){}if(!e)try{return new(su[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Gm){}}function Au(){}const Su=null!=new wu({xdomain:!1}).responseType;class Cu extends ru{constructor(t,e){super(),cu(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=ou(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new wu(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(Gm){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Gm){}try{n.setRequestHeader("Accept","*/*")}catch(Gm){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(Gm){return void this.setTimeoutFn((()=>{this.onError(Gm)}),0)}"undefined"!==typeof document&&(this.index=Cu.requestsCount++,Cu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Au,t)try{this.xhr.abort()}catch(Gm){}"undefined"!==typeof document&&delete Cu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Cu.requestsCount=0,Cu.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Eu);else if("function"===typeof addEventListener){addEventListener("onpagehide"in su?"pagehide":"unload",Eu,!1)}function Eu(){for(let t in Cu.requests)Cu.requests.hasOwnProperty(t)&&Cu.requests[t].abort()}const ku="function"===typeof Promise&&"function"===typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Tu=su.WebSocket||su.MozWebSocket,Pu="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Ru={websocket:class extends du{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Pu?{}:ou(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Pu?new Tu(t,e,n):e?new Tu(t,e):new Tu(t)}catch(qm){return this.emitReserved("error",qm)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],i=e===t.length-1;Wd(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(Gm){}i&&ku((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=xu()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!Tu}},webtransport:class extends du{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=function(t,e){eu||(eu=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===i){if(nu(n)<1)break;const t=iu(n,1);s=128===(128&t[0]),r=127&t[0],i=r<126?3:126===r?1:2}else if(1===i){if(nu(n)<2)break;const t=iu(n,2);r=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),i=3}else if(2===i){if(nu(n)<8)break;const t=iu(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),s=e.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(zd);break}r=s*Math.pow(2,32)+e.getUint32(4),i=3}else{if(nu(n)<r)break;const t=iu(n,r);a.enqueue(Yd(s?t:eu.decode(t),e)),i=0}if(0===r||r>t){a.enqueue(zd);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),i=tu();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then((t=>{let{done:e,value:n}=t;e||(this.onPacket(n),r())})).catch((t=>{}))};r();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(s).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],i=e===t.length-1;this.writer.write(n).then((()=>{i&&ku((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends du{constructor(t){if(super(t),this.polling=!1,"undefined"!==typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=Su&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split($d),i=[];for(let r=0;r<n.length;r++){const t=Yd(n[r],e);if(i.push(t),"error"===t.type)break}return i})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach(((t,s)=>{Wd(t,!1,(t=>{i[s]=t,++r===n&&e(i.join($d))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=xu()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Cu(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},Iu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bu(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=Iu.exec(t||""),s={},o=14;for(;o--;)s[Mu[o]]=r[o]||"";return-1!=n&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||i.splice(0,1);"/"==e.slice(-1)&&i.splice(i.length-1,1);return i}(0,s.path),s.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(n[e]=i)})),n}(0,s.query),s}class Fu extends ru{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"===typeof t&&(e=t,t=null),t?(t=Bu(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Bu(e.host).host),cu(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let t=n[i].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Ru[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Fu.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(Gm){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;Fu.priorWebsocketSuccess=!1;const i=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Fu.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function r(){n||(n=!0,c(),e.close(),e=null)}const s=t=>{const n=new Error("probe error: "+t);n.transport=e.name,r(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(t){e&&t.name!==e.name&&r()}const c=()=>{e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};e.once("open",i),e.once("error",s),e.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",Fu.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+="string"===typeof(e=i)?function(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,i){if("function"===typeof e&&(i=e,e=void 0),"function"===typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Fu.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Fu.protocol=4;Fu.protocol;const Du="function"===typeof ArrayBuffer,ju=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ou=Object.prototype.toString,Lu="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Ou.call(Blob),zu="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Ou.call(File);function Nu(t){return Du&&(t instanceof ArrayBuffer||ju(t))||Lu&&t instanceof Blob||zu&&t instanceof File}function Uu(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(Uu(t[e]))return!0;return!1}if(Nu(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return Uu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Uu(t[n]))return!0;return!1}function Hu(t){const e=[],n=t.data,i=t;return i.data=Wu(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Wu(t,e){if(!t)return t;if(Nu(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Wu(t[i],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Wu(t[i],e));return n}return t}function Vu(t,e){return t.data=Gu(t.data,e),delete t.attachments,t}function Gu(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"===typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Gu(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Gu(t[n],e));return t}const qu=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xu=5;var Qu;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Qu||(Qu={}));class Ku{constructor(t){this.replacer=t}encode(t){return t.type!==Qu.EVENT&&t.type!==Qu.ACK||!Uu(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Qu.EVENT?Qu.BINARY_EVENT:Qu.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Qu.BINARY_EVENT&&t.type!==Qu.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Hu(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}function Yu(t){return"[object Object]"===Object.prototype.toString.call(t)}class Zu extends ru{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Qu.BINARY_EVENT;n||e.type===Qu.BINARY_ACK?(e.type=n?Qu.EVENT:Qu.ACK,this.reconstructor=new Ju(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Nu(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Qu[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Qu.BINARY_EVENT||n.type===Qu.BINARY_ACK){const i=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(i,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const i=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(i,e)}else n.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const i=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(!Zu.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(Gm){return!1}}static isPayloadValid(t,e){switch(t){case Qu.CONNECT:return Yu(e);case Qu.DISCONNECT:return void 0===e;case Qu.CONNECT_ERROR:return"string"===typeof e||Yu(e);case Qu.EVENT:case Qu.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===qu.indexOf(e[0]));case Qu.ACK:case Qu.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ju{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Vu(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $u(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ep extends ru{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$u(t,"open",this.onopen.bind(this)),$u(t,"packet",this.onpacket.bind(this)),$u(t,"error",this.onerror.bind(this)),$u(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}emit(t){if(tp.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Qu.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const t=this.ids++,e=n.pop();this._registerAckCallback(t,e),r.id=t}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var n,i=this;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const s=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r),o=function(){i.io.clearTimeoutFn(s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(i,n)};o.withError=!0,this.acks[t]=o}emitWithAck(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise(((e,i)=>{const r=(t,n)=>t?i(t):e(n);r.withError=!0,n.push(r),this.emit(t,...n)}))}_addToQueue(t){var e=this;let n;"function"===typeof t[t.length-1]&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((function(t){if(i!==e._queue[0])return;if(null!==t)i.tryCount>e._opts.retries&&(e._queue.shift(),n&&n(t));else if(e._queue.shift(),n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];n(null,...s)}return i.pending=!1,e._drainQueue()})),this._queue.push(i),this._drainQueue()}_drainQueue(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qu.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qu.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qu.EVENT:case Qu.BINARY_EVENT:this.onevent(t);break;case Qu.ACK:case Qu.BINARY_ACK:this.onack(t);break;case Qu.DISCONNECT:this.ondisconnect();break;case Qu.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];e.packet({type:Qu.ACK,id:t,data:r})}}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qu.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function np(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}np.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},np.prototype.reset=function(){this.attempts=0},np.prototype.setMin=function(t){this.ms=t},np.prototype.setMax=function(t){this.max=t},np.prototype.setJitter=function(t){this.jitter=t};class ip extends ru{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,cu(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=n.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new np({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||e;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Fu(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=$u(e,"open",(function(){n.onopen(),t&&t()})),r=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},s=$u(e,"error",r);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{i(),r(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($u(t,"ping",this.onping.bind(this)),$u(t,"data",this.ondata.bind(this)),$u(t,"error",this.onerror.bind(this)),$u(t,"close",this.onclose.bind(this)),$u(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(Gm){this.onclose("parse error",Gm)}}ondecoded(t){ku((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new ep(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){if(this.nsps[n].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const rp={};function sp(t,e){"object"===typeof t&&(e=t,t=void 0);const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),i=Bu(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(t,(e=e||{}).path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=rp[r]&&s in rp[r].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new ip(i,e):(rp[r]||(rp[r]=new ip(i,e)),a=rp[r]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(sp,{Manager:ip,Socket:ep,io:sp,connect:sp});const op={QUEUE_UP:"QUEUE_UP",MY_SCORE_CHANGE:"MY_SCORE_CHANGE",LEAVE_QUEUE:"LEAVE_QUEUE",MATCH_FOUND:"MATCH_FOUND",OPPONENT_SCORE_CHANGE:"OPPONENT_SCORE_CHANGE",ERROR:"ERROR"},ap=n.p+"static/media/loading.429b286567e28c6071bb.gif",lp={color:"black",bgcolor:"white",":hover":{bgcolor:"#e5e5e5"}},cp={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",boxShadow:24,p:3},hp=sp.connect(pn);function dp(){const t=et(),{auth:e}=(0,r.useContext)(Pn),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{hp.on(op.MATCH_FOUND,(()=>{hp.off(op.MATCH_FOUND),t("/game")}))}),[]),(0,mn.jsxs)("div",{id:"home-screen",children:[(0,mn.jsxs)(ai,{sx:{height:"90%",minWidth:"400px",width:"40%",display:"flex",flexDirection:"column",paddingLeft:"2%",paddingTop:"2%",backgroundColor:"white",position:"absolute",left:"5%",bottom:"0%",boxShadow:"10"},children:[(0,mn.jsx)(yi,{variant:"h2",color:"red",gutterBottom:!0,children:"Medical Mayhem"}),(0,mn.jsxs)(Bi,{container:!0,spacing:4,children:[(0,mn.jsx)(up,{xs:12,id:"play-button",gridSx:{textAlign:"center"},buttonSx:[lp,{fontSize:"24pt",marginLeft:"-10%"}],onClick:function(){l(!0),hp.emit(op.QUEUE_UP)},text:"Play"}),(0,mn.jsx)(up,{gridSx:{textAlign:"center"},id:"map-search-button",onClick:()=>t("/mapsearch"),text:"Map Search"}),(0,mn.jsx)(up,{id:"map-builder-button",onClick:()=>t("/mapbuilder"),backgroundColor:"transparent",buttonSx:{color:e.role===kn.GUEST?"grey.300":"black"},text:"Character Builder",disable:e.role===kn.GUEST}),(0,mn.jsx)(up,{gridSx:{textAlign:"center"},id:"social-button",onClick:()=>t("/social"),buttonSx:{color:e.role===kn.GUEST?"grey.300":"black"},text:"Social",disable:e.role===kn.GUEST}),(0,mn.jsx)(up,{id:"forums-button",onClick:()=>t("/forum"),text:"Forums"}),(0,mn.jsx)(up,{gridSx:{textAlign:"center"},id:"profile-button",onClick:()=>t("/profile"),buttonSx:{color:e.role===kn.GUEST?"grey.300":"black"},text:"Profile",disable:e.role===kn.GUEST}),(0,mn.jsx)(up,{id:"settings-button",onClick:()=>t("/settings"),text:"Settings"}),(0,mn.jsx)(up,{gridSx:{textAlign:"center"},id:"about-button",onClick:()=>t("/about"),text:"About"}),(0,mn.jsx)(up,{id:"leaderboard-button",onClick:()=>t("/leaderboard"),text:"Leaderboard"}),(0,mn.jsx)(up,{id:"map-search-button",onClick:function(){i(!0)},buttonSx:[Wm,{color:"white",width:"25%"}],text:"Invite"}),(0,mn.jsx)(up,{onClick:()=>t("/reports"),buttonSx:[Wm,{color:"white"}],text:"Reports"})]})]}),(0,mn.jsx)(jd,{}),(0,mn.jsx)(fh,{}),a&&(0,mn.jsx)(pp,{queuingUp:a,setQueueingUp:l}),(0,mn.jsx)(mh,{open:n,onClose:()=>i(!1)}),(0,mn.jsx)(ph,{open:s,onClose:()=>o(!1)})]})}function up(t){return(0,mn.jsx)(Bi,{item:!0,xs:t.xs,sx:t.gridSx,children:(0,mn.jsx)(Pr,{id:t.id,onClick:t.onClick,sx:t.buttonSx,disabled:t.disable,children:t.text})})}function pp(t){return(0,mn.jsx)(Ts,{open:t.queuingUp,"aria-labelledby":"modal-find-game",id:"queue-modal",children:(0,mn.jsxs)(ai,{sx:cp,children:[(0,mn.jsx)(Pr,{sx:{color:"black",":hover":{bgcolor:"#f1f9f4"}},onClick:function(){t.setQueueingUp(!1),hp.emit(op.LEAVE_QUEUE)},children:"X"}),(0,mn.jsx)("br",{}),(0,mn.jsx)(yi,{id:"modal-find-game",variant:"h6",component:"h2",children:"Waiting for another player..."}),(0,mn.jsx)("img",{src:ap,alt:"loading-gif",className:"image"})]})})}function fp(){return(0,mn.jsxs)("div",{id:"about-screen",children:[(0,mn.jsx)(fh,{}),(0,mn.jsx)(ai,{sx:{height:"90%",width:"45%",flexDirection:"column",backgroundColor:"#fffbc3",position:"absolute",left:"27.5%",top:"3%",textAlign:"center",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"85%",width:"40%",flexDirection:"column",backgroundColor:"white",position:"absolute",left:"30%",top:"5%",textAlign:"center",p:2,boxShadow:10},children:[(0,mn.jsx)(yi,{variant:"h4",gutterBottom:!0,children:"About Screen"}),(0,mn.jsx)(uh,{}),(0,mn.jsx)("p",{children:"Medical Mayhem is a top down 2-D multiplayer game created by:"}),(0,mn.jsxs)("p",{children:["Thomas Aloi",(0,mn.jsx)("br",{}),"Torin McNally",(0,mn.jsx)("br",{}),"Isabella Misanes",(0,mn.jsx)("br",{}),"Jared Tjahjadi",(0,mn.jsx)("br",{})]})]}),(0,mn.jsx)(Qc,{})]})}function gp(t){return(0,ui.Ay)("MuiLinearProgress",t)}up.defaultProps={xs:6,buttonSx:lp};(0,ii.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var mp,vp,yp,xp,_p,bp;const wp=["className","color","value","valueBuffer","variant"];let Ap,Sp,Cp,Ep,kp,Tp;const Pp=(0,Yi.i7)(Ap||(Ap=mp||(mp=Ni(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Rp=(0,Yi.i7)(Sp||(Sp=vp||(vp=Ni(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),Ip=(0,Yi.i7)(Cp||(Cp=yp||(yp=Ni(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),Mp=(t,e)=>"inherit"===e?"currentColor":t.vars?t.vars.palette.LinearProgress["".concat(e,"Bg")]:"light"===t.palette.mode?(0,Di.a)(t.palette[e].main,.62):(0,Di.e$)(t.palette[e].main,.5),Bp=(0,ci.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e["color".concat((0,di.A)(n.color))],e[n.variant]]}})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Mp(n,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"})})),Fp=(0,ci.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e["dashedColor".concat((0,di.A)(n.color))]]}})((t=>{let{ownerState:e,theme:n}=t;const i=Mp(n,e.color);return(0,qn.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,Yi.AH)(Ep||(Ep=xp||(xp=Ni(["\n    animation: "," 3s infinite linear;\n  "]))),Ip)),Dp=(0,ci.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e["barColor".concat((0,di.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&e.bar1Indeterminate,"determinate"===n.variant&&e.bar1Determinate,"buffer"===n.variant&&e.bar1Buffer]}})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(n.vars||n).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===e.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(t=>{let{ownerState:e}=t;return("indeterminate"===e.variant||"query"===e.variant)&&(0,Yi.AH)(kp||(kp=_p||(_p=Ni(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),Pp)})),jp=(0,ci.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e["barColor".concat((0,di.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&e.bar2Indeterminate,"buffer"===n.variant&&e.bar2Buffer]}})((t=>{let{ownerState:e,theme:n}=t;return(0,qn.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(n.vars||n).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:Mp(n,e.color),transition:"transform .".concat(4,"s linear")})}),(t=>{let{ownerState:e}=t;return("indeterminate"===e.variant||"query"===e.variant)&&(0,Yi.AH)(Tp||(Tp=bp||(bp=Ni(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Rp)})),Op=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiLinearProgress"}),{className:i,color:r="primary",value:s,valueBuffer:o,variant:a="indeterminate"}=n,l=(0,Xn.A)(n,wp),c=(0,qn.A)({},n,{color:r,variant:a}),h=(t=>{const{classes:e,variant:n,color:i}=t,r={root:["root","color".concat((0,di.A)(i)),n],dashed:["dashed","dashedColor".concat((0,di.A)(i))],bar1:["bar","barColor".concat((0,di.A)(i)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,di.A)(i)),"buffer"===n&&"color".concat((0,di.A)(i)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,li.A)(r,gp,e)})(c),d=ml(),u={},p={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==s){u["aria-valuenow"]=Math.round(s),u["aria-valuemin"]=0,u["aria-valuemax"]=100;let t=s-100;d&&(t=-t),p.bar1.transform="translateX(".concat(t,"%)")}else 0;if("buffer"===a)if(void 0!==o){let t=(o||0)-100;d&&(t=-t),p.bar2.transform="translateX(".concat(t,"%)")}else 0;return(0,mn.jsxs)(Bp,(0,qn.A)({className:(0,Qn.A)(h.root,i),ownerState:c,role:"progressbar"},u,{ref:e},l,{children:["buffer"===a?(0,mn.jsx)(Fp,{className:h.dashed,ownerState:c}):null,(0,mn.jsx)(Dp,{className:h.bar1,ownerState:c,style:p.bar1}),"determinate"===a?null:(0,mn.jsx)(jp,{className:h.bar2,ownerState:c,style:p.bar2})]}))})),Lp=Op;var zp=n(7040);function Np(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,zp.A)(t,e,n)}function Up(t){if(t.type)return t;if("#"===t.charAt(0))return Up(function(t){t=t.slice(1);const e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", "),")"):""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,$o.A)(9,t));let i,r=t.substring(e+1,t.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,$o.A)(10,i))}else r=r.split(",");return r=r.map((t=>parseFloat(t))),{type:n,values:r,colorSpace:i}}function Hp(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return-1!==e.indexOf("rgb")?i=i.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==e.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(e,"(").concat(i,")")}function Wp(t,e){return t=Up(t),e=Np(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,Hp(t)}function Vp(t){return(0,ui.Ay)("MuiToggleButton",t)}const Gp=(0,ii.A)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]);const qp=r.createContext({});const Xp=r.createContext(void 0);function Qp(t,e){return void 0!==e&&void 0!==t&&(Array.isArray(e)?e.indexOf(t)>=0:t===e)}const Kp=["value"],Yp=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Zp=(0,ci.Ay)(xr,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e["size".concat((0,di.A)(n.size))]]}})((t=>{let e,{theme:n,ownerState:i}=t,r="standard"===i.color?n.palette.text.primary:n.palette[i.color].main;return n.vars&&(r="standard"===i.color?n.vars.palette.text.primary:n.vars.palette[i.color].main,e="standard"===i.color?n.vars.palette.text.primaryChannel:n.vars.palette[i.color].mainChannel),(0,qn.A)({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:"1px solid ".concat((n.vars||n).palette.divider),color:(n.vars||n).palette.action.active},i.fullWidth&&{width:"100%"},{["&.".concat(Gp.disabled)]:{color:(n.vars||n).palette.action.disabled,border:"1px solid ".concat((n.vars||n).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):Wp(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Gp.selected)]:{color:r,backgroundColor:n.vars?"rgba(".concat(e," / ").concat(n.vars.palette.action.selectedOpacity,")"):Wp(r,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(e," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):Wp(r,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(e," / ").concat(n.vars.palette.action.selectedOpacity,")"):Wp(r,n.palette.action.selectedOpacity)}}}},"small"===i.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===i.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),Jp=r.forwardRef((function(t,e){const n=r.useContext(qp),{value:i}=n,s=(0,Xn.A)(n,Kp),o=r.useContext(Xp),a=(0,Fi.A)((0,qn.A)({},s,{selected:Qp(t.value,i)}),t),l=(0,hi.A)({props:a,name:"MuiToggleButton"}),{children:c,className:h,color:d="standard",disabled:u=!1,disableFocusRipple:p=!1,fullWidth:f=!1,onChange:g,onClick:m,selected:v,size:y="medium",value:x}=l,_=(0,Xn.A)(l,Yp),b=(0,qn.A)({},l,{color:d,disabled:u,disableFocusRipple:p,fullWidth:f,size:y}),w=(t=>{const{classes:e,fullWidth:n,selected:i,disabled:r,size:s,color:o}=t,a={root:["root",i&&"selected",r&&"disabled",n&&"fullWidth","size".concat((0,di.A)(s)),o]};return(0,li.A)(a,Vp,e)})(b),A=o||"";return(0,mn.jsx)(Zp,(0,qn.A)({className:(0,Qn.A)(s.className,w.root,h,A),disabled:u,focusRipple:!p,ref:e,onClick:t=>{m&&(m(t,x),t.defaultPrevented)||g&&g(t,x)},onChange:g,value:x,ownerState:b,"aria-pressed":v},_,{children:c}))})),$p=Jp;function tf(t){return(0,ui.Ay)("PrivateSwitchBase",t)}(0,ii.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ef=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],nf=(0,ci.Ay)(xr)((t=>{let{ownerState:e}=t;return(0,qn.A)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})})),rf=(0,ci.Ay)("input",{shouldForwardProp:ji.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),sf=r.forwardRef((function(t,e){const{autoFocus:n,checked:i,checkedIcon:r,className:s,defaultChecked:o,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:h,id:d,inputProps:u,inputRef:p,name:f,onBlur:g,onChange:m,onFocus:v,readOnly:y,required:x=!1,tabIndex:_,type:b,value:w}=t,A=(0,Xn.A)(t,ef),[S,C]=(0,uc.A)({controlled:i,default:Boolean(o),name:"SwitchBase",state:"checked"}),E=aa();let k=a;E&&"undefined"===typeof k&&(k=E.disabled);const T="checkbox"===b||"radio"===b,P=(0,qn.A)({},t,{checked:S,disabled:k,disableFocusRipple:l,edge:c}),R=(t=>{const{classes:e,checked:n,disabled:i,edge:r}=t,s={root:["root",n&&"checked",i&&"disabled",r&&"edge".concat((0,di.A)(r))],input:["input"]};return(0,li.A)(s,tf,e)})(P);return(0,mn.jsxs)(nf,(0,qn.A)({component:"span",className:(0,Qn.A)(R.root,s),centerRipple:!0,focusRipple:!l,disabled:k,tabIndex:null,role:void 0,onFocus:t=>{v&&v(t),E&&E.onFocus&&E.onFocus(t)},onBlur:t=>{g&&g(t),E&&E.onBlur&&E.onBlur(t)},ownerState:P,ref:e},A,{children:[(0,mn.jsx)(rf,(0,qn.A)({autoFocus:n,checked:i,defaultChecked:o,className:R.input,disabled:k,id:T?d:void 0,name:f,onChange:t=>{if(t.nativeEvent.defaultPrevented)return;const e=t.target.checked;C(e),m&&m(t,e)},readOnly:y,ref:p,required:x,ownerState:P,tabIndex:_,type:b},"checkbox"===b&&void 0===w?{}:{value:w},u)),S?r:h]}))})),of=sf,af=(0,mo.A)((0,mn.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),lf=(0,mo.A)((0,mn.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),cf=(0,mo.A)((0,mn.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function hf(t){return(0,ui.Ay)("MuiCheckbox",t)}const df=(0,ii.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),uf=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],pf=(0,ci.Ay)(of,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e["size".concat((0,di.A)(n.size))],"default"!==n.color&&e["color".concat((0,di.A)(n.color))]]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({color:(e.vars||e).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?"rgba(".concat("default"===n.color?e.vars.palette.action.activeChannel:e.vars.palette[n.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Di.X4)("default"===n.color?e.palette.action.active:e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(df.checked,", &.").concat(df.indeterminate)]:{color:(e.vars||e).palette[n.color].main},["&.".concat(df.disabled)]:{color:(e.vars||e).palette.action.disabled}})})),ff=(0,mn.jsx)(lf,{}),gf=(0,mn.jsx)(af,{}),mf=(0,mn.jsx)(cf,{}),vf=r.forwardRef((function(t,e){var n,i;const s=(0,hi.A)({props:t,name:"MuiCheckbox"}),{checkedIcon:o=ff,color:a="primary",icon:l=gf,indeterminate:c=!1,indeterminateIcon:h=mf,inputProps:d,size:u="medium",className:p}=s,f=(0,Xn.A)(s,uf),g=c?h:l,m=c?h:o,v=(0,qn.A)({},s,{color:a,indeterminate:c,size:u}),y=(t=>{const{classes:e,indeterminate:n,color:i,size:r}=t,s={root:["root",n&&"indeterminate","color".concat((0,di.A)(i)),"size".concat((0,di.A)(r))]},o=(0,li.A)(s,hf,e);return(0,qn.A)({},e,o)})(v);return(0,mn.jsx)(pf,(0,qn.A)({type:"checkbox",inputProps:(0,qn.A)({"data-indeterminate":c},d),icon:r.cloneElement(g,{fontSize:null!=(n=g.props.fontSize)?n:u}),checkedIcon:r.cloneElement(m,{fontSize:null!=(i=m.props.fontSize)?i:u}),ownerState:v,ref:e,className:(0,Qn.A)(y.root,p)},f,{classes:y}))}));function yf(){const{store:t}=(0,r.useContext)(Gn),{auth:e}=(0,r.useContext)(Pn),n=et(),i={mt:1,mb:2,bgcolor:"red",color:"white",":hover":{bgcolor:"#c20900"}},s={mt:1,mb:2,bgcolor:"green",color:"white",":hover":{bgcolor:"#2d7044"}};return(0,mn.jsxs)("div",{id:"settings-screen",children:[(0,mn.jsx)(ai,{sx:{height:"90%",width:"45%",flexDirection:"column",backgroundColor:"#fffbc3",position:"absolute",left:"27.5%",top:"3%",textAlign:"center",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"85%",width:"40%",flexDirection:"column",backgroundColor:"white",position:"absolute",left:"30%",top:"5%",textAlign:"center",p:2,boxShadow:10},children:[(0,mn.jsx)(yi,{variant:"h4",gutterBottom:!0,children:(0,mn.jsx)("strong",{children:"Settings"})}),(0,mn.jsx)(uh,{}),(0,mn.jsx)("h4",{children:"Audio"}),(0,mn.jsxs)(Bi,{container:!0,spacing:1,sx:{width:"80%",ml:"10%",alignItems:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:3,children:"Master"}),(0,mn.jsx)(Bi,{item:!0,xs:7,children:(0,mn.jsx)(Lp,{variant:"determinate",value:56})}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"56"}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:"Music"}),(0,mn.jsx)(Bi,{item:!0,xs:7,children:(0,mn.jsx)(Lp,{variant:"determinate",value:15})}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"15"}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:"SFX"}),(0,mn.jsx)(Bi,{item:!0,xs:7,children:(0,mn.jsx)(Lp,{variant:"determinate",value:90})}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"90"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{onClick:()=>{console.log("Reset Audio in Settings.")},sx:i,children:"Reset"})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{onClick:()=>{console.log("Confirm Audio in Settings.")},sx:s,children:"Confirm"})})]}),(0,mn.jsx)(uh,{}),(0,mn.jsx)("h4",{children:"Controls"}),(0,mn.jsxs)(Bi,{container:!0,spacing:1,sx:{width:"80%",ml:"10%",alignItems:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:6,children:"Move Up"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"W"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"Move Down"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"S"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"Move Left"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"A"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"Move Right"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"D"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"Interact"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:"E"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{onClick:()=>{console.log("Reset controls in Settings.")},sx:i,children:"Reset"})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(Pr,{onClick:()=>{console.log("Confirm Controls in Settings")},sx:s,children:"Confirm"})})]}),(0,mn.jsx)(uh,{}),e.role===kn.USER&&(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsxs)(ai,{display:"flex",justifyContent:"space-evenly",spacing:1,paddingTop:2,children:[(0,mn.jsxs)($p,{size:"small",children:["Private Profile",(0,mn.jsx)(vf,{})]}),(0,mn.jsxs)($p,{size:"small",children:["Messages",(0,mn.jsx)(vf,{})]}),(0,mn.jsxs)($p,{size:"small",children:["Party",(0,mn.jsx)(vf,{})]})]})}),(0,mn.jsx)(ai,{display:"flex",justifyContent:"center",gap:5,children:e.role===kn.USER?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Pr,{id:"log-out",onClick:()=>{t.reset(),e.logoutUser()},sx:[s,{color:"white",mt:2}],children:"Log Out"}),(0,mn.jsx)(Pr,{id:"delete-account",onClick:()=>{t.reset(),e.deleteUser(),e.logoutUser()},sx:[i,{color:"white",mt:2}],children:"Delete Account"})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Pr,{id:"login",onClick:()=>{n("/login")},sx:[Wm,{color:"white",mt:2}],children:"Log In"}),(0,mn.jsx)(Pr,{id:"register",onClick:()=>{n("/register")},sx:[Wm,{color:"white",mt:2}],children:"Register"})]})})]}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}var xf=n(4992);function _f(t){const e=t.friend.username,n=t.friend.onlineStatus,i=""!==t.friend.profilePicture?function(t){var e=t.split(","),n=atob(e[e.length-1]);return"data:"+e[0].match(/:(.*?);/)[1]+";base64,"+btoa(n)}(t.friend.profilePicture):"";return(0,mn.jsxs)(ai,{onClick:t.onClick,sx:{width:"15%",height:"30%",bgcolor:"yellow",position:"absolute",top:t.top,left:t.left,boxShadow:5,cursor:"pointer"},children:[(0,mn.jsx)(Zo,{src:i,sx:{width:150,height:150,margin:"auto",marginTop:"5px"}}),(0,mn.jsxs)(Bi,{container:!0,direction:"row",alignItems:"center",children:[(0,mn.jsx)(Bi,{item:!0,children:(0,mn.jsx)(xf.A,{sx:{color:n?"lime":"lightgray",marginLeft:"10px"}})}),(0,mn.jsx)(Bi,{item:!0,children:(0,mn.jsx)("h3",{style:{marginLeft:"5px"},children:e})})]})]})}function bf(){const{store:t}=(0,r.useContext)(Gn),[e,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(0),[o,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),h=Boolean(l),[d,u]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[g,m]=(0,r.useState)("");const[v,y]=(0,r.useState)("");function x(){n(!1)}(0,r.useEffect)((()=>{switch(i){case 0:t.viewFriends(),y("friends");break;case 1:t.showRecentPlayers(),y("recent-players");break;case 2:t.showSentRequests(),y("sent-requests");break;case 3:t.showReceivedRequests(),y("received-requests")}}),[i]),(0,r.useEffect)((()=>{a(t.profileInfo.players?t.profileInfo.players:[])}),[t.profileInfo]);const _=(t,e)=>(0,mn.jsx)(Pr,{id:e.toLowerCase().replace(/\s+/g,"-")+"-button",onClick:()=>{s(t)},sx:{color:i===t?"red":"black"},children:e}),b=t=>{c(t.currentTarget)},w=()=>{c(null)};const A=(0,mn.jsx)(sh,{onClick:()=>(t.acceptFriendRequest(p),void w()),children:"Accept Friend Request"}),S=(0,mn.jsxs)(nc,{anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:w,children:[(0,mn.jsx)(sh,{onClick:e=>{!function(e){t.openPrivateMessaging(e),w()}(e)},children:"Private Message"}),3===i&&A,(0,mn.jsx)(sh,{onClick:()=>{0===i?(t.removeFriend(p),w()):1===i?w():2===i?(t.cancelFriendRequest(p),w()):(t.ignoreFriendRequest(p),w())},children:0===i?"Remove Friend":2===i?"Cancel Friend Request":"Ignore Friend Request"}),(0,mn.jsx)(sh,{onClick:t=>{u(!0),w()},children:"Report Player"})]});let C=""!==t.errorMessage?(0,mn.jsx)(Do,{id:"error",store:t}):"";return(0,mn.jsxs)("div",{id:"social-screen",children:[(0,mn.jsx)(ai,{sx:{height:"85%",width:"85%",flexDirection:"column",backgroundColor:"#626262",position:"absolute",textAlign:"center",top:"5%",left:"2.5%",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"80%",width:"82.5%",flexDirection:"column",backgroundColor:"#BA7943",position:"absolute",textAlign:"center",top:"7.5%",left:"3.75%",p:2,marginRight:"10%"},children:[(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:2,sx:{bgcolor:"white",m:2,pr:2,width:"fit-content",height:"fit-content",boxShadow:5},children:(0,mn.jsx)(yi,{variant:"h4",gutterBottom:!0,children:"Social"})}),(0,mn.jsx)(Bi,{item:!0,xs:2,sx:{mt:2},children:(0,mn.jsx)(Pr,{id:"add-friend",variant:"contained",sx:Wm,onClick:function(){n(!0)},children:"Add Friend"})}),(0,mn.jsx)(Bi,{item:!0,xs:4}),(0,mn.jsxs)(Bi,{item:!0,xs:3,children:[(0,mn.jsxs)(ai,{sx:{bgcolor:"white",mt:2,mb:2,ml:14,textAlign:"center",boxShadow:5,width:"fit-content",position:"absolute"},children:[_(0,"Friends"),"/",_(1,"Recent Players")]}),(0,mn.jsx)("br",{}),(0,mn.jsxs)(ai,{sx:{bgcolor:"white",mt:6,mb:2,ml:23,textAlign:"center",boxShadow:5,width:"fit-content",position:"absolute",fontSize:"12px"},children:[_(2,"Sent"),"/",_(3,"Received")]})]})]}),(0,mn.jsx)(ai,{id:v,sx:{height:100},children:(()=>{const t=[];let e="No ";if(e+=0===i?"Friends":1===i?"Recent Players":2===i?"Sent Friend Requests":"Received Friend Requests",0!==o.length)for(let n=0;n<o.length;n++)t.push((0,mn.jsx)(_f,{top:"".concat(25+32.5*Math.floor(n/5),"%"),left:"".concat(5+n%5*17.5,"%"),friend:o[n],onClick:t=>{b(t),f(o[n])}},n));else t.push((0,mn.jsx)(ai,{id:e.toLowerCase().replace(/\s+/g,"-"),sx:{width:"90%",height:"40%",bgcolor:"white",position:"absolute",top:"30%",left:"5%",boxShadow:5},children:(0,mn.jsx)("h1",{children:e})},"no-players"));return t})()}),(0,mn.jsx)(Qc,{}),(0,mn.jsx)(Ts,{id:"add-friend-modal",open:e,onClose:x,children:(0,mn.jsxs)(ai,{sx:{width:"30%",height:"27%",bgcolor:"#2d7044",border:1,borderColor:"white",top:"20%",left:"30%",position:"absolute",boxShadow:5,textAlign:"center"},children:[(0,mn.jsx)("h1",{children:"Add Friend"}),(0,mn.jsx)(uh,{}),(0,mn.jsxs)(ai,{component:"form",noValidate:!0,onSubmit:e=>{e.preventDefault(),t.sendFriend(g,x)},children:[(0,mn.jsx)(Lc,{id:"username",size:"small",fullWidth:!0,label:"Enter Username",variant:"filled",sx:{bgcolor:"#e3e3e3",width:"90%",mt:"5%"},onChange:t=>{t.preventDefault(),m(t.target.value)}}),(0,mn.jsx)(Pr,{id:"add-friend-submit",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"50%"},children:"Add Friend"})]}),C]})}),S,(0,mn.jsx)(ph,{open:d,onClose:()=>u(!1)})]}),(0,mn.jsx)(fh,{})]})}function wf(t){return(0,ui.Ay)("MuiTableContainer",t)}(0,ii.A)("MuiTableContainer",["root"]);const Af=["className","component"],Sf=(0,ci.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Cf=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTableContainer"}),{className:i,component:r="div"}=n,s=(0,Xn.A)(n,Af),o=(0,qn.A)({},n,{component:r}),a=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},wf,e)})(o);return(0,mn.jsx)(Sf,(0,qn.A)({ref:e,as:r,className:(0,Qn.A)(a.root,i),ownerState:o},s))}));const Ef=r.createContext();function kf(t){return(0,ui.Ay)("MuiTable",t)}(0,ii.A)("MuiTable",["root","stickyHeader"]);const Tf=["className","component","padding","size","stickyHeader"],Pf=(0,ci.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,qn.A)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Rf="table",If=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTable"}),{className:i,component:s=Rf,padding:o="normal",size:a="medium",stickyHeader:l=!1}=n,c=(0,Xn.A)(n,Tf),h=(0,qn.A)({},n,{component:s,padding:o,size:a,stickyHeader:l}),d=(t=>{const{classes:e,stickyHeader:n}=t,i={root:["root",n&&"stickyHeader"]};return(0,li.A)(i,kf,e)})(h),u=r.useMemo((()=>({padding:o,size:a,stickyHeader:l})),[o,a,l]);return(0,mn.jsx)(Ef.Provider,{value:u,children:(0,mn.jsx)(Pf,(0,qn.A)({as:s,role:s===Rf?null:"table",ref:e,className:(0,Qn.A)(d.root,i),ownerState:h},c))})}));const Mf=r.createContext();function Bf(t){return(0,ui.Ay)("MuiTableHead",t)}(0,ii.A)("MuiTableHead",["root"]);const Ff=["className","component"],Df=(0,ci.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),jf={variant:"head"},Of="thead",Lf=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTableHead"}),{className:i,component:r=Of}=n,s=(0,Xn.A)(n,Ff),o=(0,qn.A)({},n,{component:r}),a=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},Bf,e)})(o);return(0,mn.jsx)(Mf.Provider,{value:jf,children:(0,mn.jsx)(Df,(0,qn.A)({as:r,className:(0,Qn.A)(a.root,i),ref:e,role:r===Of?null:"rowgroup",ownerState:o},s))})}));function zf(t){return(0,ui.Ay)("MuiTableRow",t)}const Nf=(0,ii.A)("MuiTableRow",["root","selected","hover","head","footer"]),Uf=["className","component","hover","selected"],Hf=(0,ci.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})((t=>{let{theme:e}=t;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(Nf.hover,":hover")]:{backgroundColor:(e.vars||e).palette.action.hover},["&.".concat(Nf.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}})),Wf="tr",Vf=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTableRow"}),{className:i,component:s=Wf,hover:o=!1,selected:a=!1}=n,l=(0,Xn.A)(n,Uf),c=r.useContext(Mf),h=(0,qn.A)({},n,{component:s,hover:o,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(t=>{const{classes:e,selected:n,hover:i,head:r,footer:s}=t,o={root:["root",n&&"selected",i&&"hover",r&&"head",s&&"footer"]};return(0,li.A)(o,zf,e)})(h);return(0,mn.jsx)(Hf,(0,qn.A)({as:s,ref:e,className:(0,Qn.A)(d.root,i),role:s===Wf?null:"row",ownerState:h},l))})),Gf=Vf;function qf(t){return(0,ui.Ay)("MuiTableCell",t)}const Xf=(0,ii.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Qf=["align","className","component","padding","scope","size","sortDirection","variant"],Kf=(0,ci.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e["size".concat((0,di.A)(n.size))],"normal"!==n.padding&&e["padding".concat((0,di.A)(n.padding))],"inherit"!==n.align&&e["align".concat((0,di.A)(n.align))],n.stickyHeader&&e.stickyHeader]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?"1px solid ".concat(e.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===e.palette.mode?(0,Di.a)((0,Di.X4)(e.palette.divider,1),.88):(0,Di.e$)((0,Di.X4)(e.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===n.variant&&{color:(e.vars||e).palette.text.primary},"footer"===n.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",["&.".concat(Xf.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})})),Yf=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:h,variant:d}=n,u=(0,Xn.A)(n,Qf),p=r.useContext(Ef),f=r.useContext(Mf),g=f&&"head"===f.variant;let m;m=o||(g?"th":"td");let v=l;"td"===m?v=void 0:!v&&g&&(v="col");const y=d||f&&f.variant,x=(0,qn.A)({},n,{align:i,component:m,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:h,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y}),_=(t=>{const{classes:e,variant:n,align:i,padding:r,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader","inherit"!==i&&"align".concat((0,di.A)(i)),"normal"!==r&&"padding".concat((0,di.A)(r)),"size".concat((0,di.A)(s))]};return(0,li.A)(a,qf,e)})(x);let b=null;return h&&(b="asc"===h?"ascending":"descending"),(0,mn.jsx)(Kf,(0,qn.A)({as:m,ref:e,className:(0,Qn.A)(_.root,s),"aria-sort":b,scope:v,ownerState:x},u))})),Zf=Yf;function Jf(t){return(0,ui.Ay)("MuiTableBody",t)}(0,ii.A)("MuiTableBody",["root"]);const $f=["className","component"],tg=(0,ci.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),eg={variant:"body"},ng="tbody",ig=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiTableBody"}),{className:i,component:r=ng}=n,s=(0,Xn.A)(n,$f),o=(0,qn.A)({},n,{component:r}),a=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},Jf,e)})(o);return(0,mn.jsx)(Mf.Provider,{value:eg,children:(0,mn.jsx)(tg,(0,qn.A)({className:(0,Qn.A)(a.root,i),as:r,ref:e,role:r===ng?null:"rowgroup",ownerState:o},s))})}));var rg=n(8864);function sg(){const{store:t}=(0,r.useContext)(Gn),[e,n]=(0,r.useState)(null),i=Boolean(e),s=()=>{n(null)};const o=(0,mn.jsxs)(nc,{anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:s,children:[(0,mn.jsx)(sh,{onClick:e=>{!function(e){t.sortHighestScore(e),s()}(e)},children:"Highest Score"}),(0,mn.jsx)(sh,{onClick:e=>{!function(e){t.sortTotalScore(e),s()}(e)},children:"Total Score"}),(0,mn.jsx)(sh,{onClick:e=>{!function(e){t.sortGamesPlayed(e),s()}(e)},children:"Games Played"}),(0,mn.jsx)(sh,{onClick:e=>{!function(e){t.sortMinigamesPlayed(e),s()}(e)},children:"Minigames Played"})]});return(0,mn.jsxs)("div",{className:"App",children:[(0,mn.jsxs)(ai,{id:"box-root",sx:{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column",textAlign:"center"},children:[(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{width:"85%",ml:"7.5%",alignItems:"center",pt:2},children:[(0,mn.jsx)(Bi,{item:!0,xs:6,sx:{fontSize:"24px"},children:(0,mn.jsx)("strong",{children:"Leaderboard"})}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsxs)(Pr,{variant:"contained",onClick:t=>(t=>{n(t.currentTarget)})(t),sx:[Wm,{color:"white"}],children:["Sort",(0,mn.jsx)(rg.A,{})]})})]}),(0,mn.jsx)(ai,{sx:{flexGrow:1,width:"100%",position:"absolute"}}),(0,mn.jsx)(ai,{sx:{margin:"auto",height:"85%",display:"flex",flexDirection:"column",textAlign:"center",minHeight:"85%",maxHeight:"85%"},children:(0,mn.jsxs)(Cf,{sx:{boxShadow:4,width:"fit-content"},children:[(0,mn.jsx)(If,{sx:{bgcolor:"background.paper",position:"relative",maxHeight:"100%"}}),(0,mn.jsx)(Lf,{sx:{bgcolor:"#34732F",position:"sticky",top:0,zIndex:1},children:(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Username"}),(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Highest Score"}),(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Total Score"}),(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Games Played"}),(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Minigames Played"}),(0,mn.jsx)(Zf,{sx:{color:"white"},children:"Favorite Minigame"})]})}),(0,mn.jsxs)(ig,{sx:{bgcolor:"#E7E7E7"},children:[(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"McKillaGorilla"}),(0,mn.jsx)(Zf,{children:"189,213"}),(0,mn.jsx)(Zf,{children:"1,988,031"}),(0,mn.jsx)(Zf,{children:"47"}),(0,mn.jsx)(Zf,{children:"438"}),(0,mn.jsx)(Zf,{children:"Medicine Matching"})]}),(0,mn.jsxs)(Gf,{children:[(0,mn.jsx)(Zf,{children:"Player1"}),(0,mn.jsx)(Zf,{children:"999,999"}),(0,mn.jsx)(Zf,{children:"999,999,999"}),(0,mn.jsx)(Zf,{children:"99"}),(0,mn.jsx)(Zf,{children:"999"}),(0,mn.jsx)(Zf,{children:"Heart Beat"})]})]})]})})]}),o,(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}const og=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],ag=(0,ci.Ay)(xr,{shouldForwardProp:t=>(0,ji.A)(t)||"classes"===t,name:"MuiListItemButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,"flex-start"===n.alignItems&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]}})((t=>{let{theme:e,ownerState:n}=t;return(0,qn.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(zh.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(zh.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat(zh.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Di.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},["&.".concat(zh.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat(zh.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),lg=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:h=!1,focusVisibleClassName:d,selected:u=!1,className:p}=n,f=(0,Xn.A)(n,og),g=r.useContext(vl),m=r.useMemo((()=>({dense:l||g.dense||!1,alignItems:i,disableGutters:c})),[i,g.dense,l,c]),v=r.useRef(null);(0,la.A)((()=>{s&&v.current&&v.current.focus()}),[s]);const y=(0,qn.A)({},n,{alignItems:i,dense:m.dense,disableGutters:c,divider:h,selected:u}),x=(t=>{const{alignItems:e,classes:n,dense:i,disabled:r,disableGutters:s,divider:o,selected:a}=t,l={root:["root",i&&"dense",!s&&"gutters",o&&"divider",r&&"disabled","flex-start"===e&&"alignItemsFlexStart",a&&"selected"]},c=(0,li.A)(l,Lh,n);return(0,qn.A)({},n,c)})(y),_=(0,Oi.A)(v,e);return(0,mn.jsx)(vl.Provider,{value:m,children:(0,mn.jsx)(ag,(0,qn.A)({ref:_,href:f.href||f.to,component:(f.href||f.to)&&"div"===o?"button":o,focusVisibleClassName:(0,Qn.A)(x.focusVisible,d),ownerState:y,className:(0,Qn.A)(x.root,p)},f,{classes:x,children:a}))})}));function cg(){const t=et(),{store:e}=(0,r.useContext)(Gn),{auth:n}=(0,r.useContext)(Pn);function i(t){e.openThread(t)}return(0,mn.jsxs)("div",{id:"forum-screen",children:[(0,mn.jsx)(ai,{sx:{height:"90%",width:"45%",flexDirection:"column",backgroundColor:"#fffbc3",position:"absolute",left:"27.5%",top:"3%",textAlign:"center",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"85%",width:"40%",flexDirection:"column",backgroundColor:"white",position:"absolute",left:"30%",top:"5%",textAlign:"center",p:2,boxShadow:10},children:[(0,mn.jsx)("h3",{children:"Forums"}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:4,children:n.role===kn.USER&&(0,mn.jsx)(Pr,{variant:"contained",sx:[Wm,{left:"2%",mb:1,fontSize:"12px"}],onClick:()=>{t("/newthread")},children:"Start New Thread"})}),(0,mn.jsx)(Bi,{item:!0,xs:4}),(0,mn.jsxs)(Bi,{item:!0,xs:4,children:[(0,mn.jsx)(Lc,{label:"Search",size:"small"}),(0,mn.jsx)(Pr,{variant:"outlined",sx:{mt:1,mb:1,fontSize:"10px",borderColor:"black",borderRadius:0,color:"black"},children:"Newest"}),(0,mn.jsx)(Pr,{variant:"outlined",sx:{mt:1,mb:1,fontSize:"10px",borderColor:"black",borderRadius:0,color:"black"},children:"Top"})]})]}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{fontSize:"14px",alignItems:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:8,sx:{textAlign:"left",ml:3},children:"Search Results"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"Author"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"Replies"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"Views"}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(uh,{})}),(0,mn.jsxs)(bl,{sx:{width:"100%",ml:2},children:[(0,mn.jsx)(Kh,{sx:{bgcolor:"white"},children:(0,mn.jsxs)(lg,{onClick:t=>{i(t)},children:[(0,mn.jsxs)(Bi,{item:!0,xs:9,sx:{textAlign:"left"},children:[(0,mn.jsx)("p",{children:(0,mn.jsx)("strong",{children:"Does anyone know how this game works?"})}),(0,mn.jsx)(yi,{sx:{fontSize:"10px"},children:"Q&A"})]}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"User1"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"2"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"188"})]})}),(0,mn.jsx)(uh,{}),(0,mn.jsx)(Kh,{sx:{bgcolor:"white"},children:(0,mn.jsxs)(lg,{onClick:t=>{i(t)},children:[(0,mn.jsxs)(Bi,{item:!0,xs:9,sx:{textAlign:"left"},children:[(0,mn.jsx)("p",{children:(0,mn.jsx)("strong",{children:"What are the rules of the game?"})}),(0,mn.jsx)(yi,{sx:{fontSize:"10px"},children:"Support"})]}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"User2"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"20"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"100"})]})}),(0,mn.jsx)(uh,{})]})]})]}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}function hg(t){let{setCurrScreen:e}=t;const n=et();return(0,mn.jsxs)("div",{id:"post-screen",children:[(0,mn.jsx)(fh,{}),(0,mn.jsxs)(ai,{sx:{height:"90%",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"white",position:"absolute",left:"25%"},children:[(0,mn.jsx)(yi,{variant:"h2",gutterBottom:!0,children:"Medical Mayhem"}),(0,mn.jsx)(yi,{variant:"h4",gutterBottom:!0,children:"Post Screen"})]}),(0,mn.jsx)(Pr,{variant:"contained",sx:[Wm,{left:"2%",bottom:"2%",position:"absolute"}],onClick:()=>{n("/forum")},children:"Back"})]})}function dg(){const{store:t}=(0,r.useContext)(Gn);return(0,mn.jsxs)("div",{id:"new-thread-screen",children:[(0,mn.jsx)(ai,{sx:{height:"90%",width:"45%",flexDirection:"column",backgroundColor:"#fffbc3",position:"absolute",left:"27.5%",top:"3%",textAlign:"center",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"85%",width:"40%",flexDirection:"column",backgroundColor:"white",position:"absolute",left:"30%",top:"5%",textAlign:"center",p:2,boxShadow:10},children:[(0,mn.jsx)("h3",{children:"Forums"}),(0,mn.jsx)(ai,{sx:{},children:(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)("h4",{children:"Create Post"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{label:"Title (100 characters or less)",fullWidth:!0,variant:"outlined"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{id:"filled-multiline-static",multiline:!0,fullWidth:!0,rows:4,variant:"outlined",label:"text"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{label:"Tags",fullWidth:!0,variant:"outlined"})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Pr,{onClick:e=>{!function(e){t.postThread(e)}(e)},sx:[Wm,{color:"white"}],children:"Post Thread"})})]})})]}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}function ug(t){return(0,ui.Ay)("MuiCard",t)}(0,ii.A)("MuiCard",["root"]);const pg=["className","raised"],fg=(0,ci.Ay)(ao,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({overflow:"hidden"}))),gg=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiCard"}),{className:i,raised:r=!1}=n,s=(0,Xn.A)(n,pg),o=(0,qn.A)({},n,{raised:r}),a=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"]},ug,e)})(o);return(0,mn.jsx)(fg,(0,qn.A)({className:(0,Qn.A)(a.root,i),elevation:r?8:void 0,ref:e,ownerState:o},s))}));function mg(t){return(0,ui.Ay)("MuiCardActionArea",t)}const vg=(0,ii.A)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),yg=["children","className","focusVisibleClassName"],xg=(0,ci.Ay)(xr,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})((t=>{let{theme:e}=t;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",["&:hover .".concat(vg.focusHighlight)]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(vg.focusVisible," .").concat(vg.focusHighlight)]:{opacity:(e.vars||e).palette.action.focusOpacity}}})),_g=(0,ci.Ay)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})((t=>{let{theme:e}=t;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}})),bg=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiCardActionArea"}),{children:i,className:r,focusVisibleClassName:s}=n,o=(0,Xn.A)(n,yg),a=n,l=(t=>{const{classes:e}=t;return(0,li.A)({root:["root"],focusHighlight:["focusHighlight"]},mg,e)})(a);return(0,mn.jsxs)(xg,(0,qn.A)({className:(0,Qn.A)(l.root,r),focusVisibleClassName:(0,Qn.A)(s,l.focusVisible),ref:e,ownerState:a},o,{children:[i,(0,mn.jsx)(_g,{className:l.focusHighlight,ownerState:a})]}))}));function wg(t){return(0,ui.Ay)("MuiCardActions",t)}(0,ii.A)("MuiCardActions",["root","spacing"]);const Ag=["disableSpacing","className"],Sg=(0,ci.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Cg=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:r}=n,s=(0,Xn.A)(n,Ag),o=(0,qn.A)({},n,{disableSpacing:i}),a=(t=>{const{classes:e,disableSpacing:n}=t,i={root:["root",!n&&"spacing"]};return(0,li.A)(i,wg,e)})(o);return(0,mn.jsx)(Sg,(0,qn.A)({className:(0,Qn.A)(a.root,r),ownerState:o,ref:e},s))}));function Eg(t){return(0,ui.Ay)("MuiCardMedia",t)}(0,ii.A)("MuiCardMedia",["root","media","img"]);const kg=["children","className","component","image","src","style"],Tg=(0,ci.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:i,isImageComponent:r}=n;return[e.root,i&&e.media,r&&e.img]}})((t=>{let{ownerState:e}=t;return(0,qn.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})})),Pg=["video","audio","picture","iframe","img"],Rg=["picture","img"],Ig=r.forwardRef((function(t,e){const n=(0,hi.A)({props:t,name:"MuiCardMedia"}),{children:i,className:r,component:s="div",image:o,src:a,style:l}=n,c=(0,Xn.A)(n,kg),h=-1!==Pg.indexOf(s),d=!h&&o?(0,qn.A)({backgroundImage:'url("'.concat(o,'")')},l):l,u=(0,qn.A)({},n,{component:s,isMediaComponent:h,isImageComponent:-1!==Rg.indexOf(s)}),p=(t=>{const{classes:e,isMediaComponent:n,isImageComponent:i}=t,r={root:["root",n&&"media",i&&"img"]};return(0,li.A)(r,Eg,e)})(u);return(0,mn.jsx)(Tg,(0,qn.A)({className:(0,Qn.A)(p.root,r),as:s,role:!h&&o?"img":void 0,ref:e,style:d,ownerState:u,src:h?o||a:void 0},c,{children:i}))})),Mg=Ig;var Bg=n(5540);function Fg(){const{store:t}=(0,r.useContext)(Gn),{auth:e}=(0,r.useContext)(Pn),[n,i]=(0,r.useState)(!0),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),p=()=>{i(!n)};async function f(t){const e=t.target.files[0];if(e){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{e(i.result)}}))}(e);u(t)}}(0,r.useEffect)((()=>{t.getProfile()}),[]),(0,r.useEffect)((()=>{l(e.username),h(t.profileInfo.bio),u(t.profileInfo.pfp)}),[e,t.profileInfo]),console.log("editEnabled: "+s);const g=(0,mn.jsxs)(gg,{sx:{bgcolor:"#4D9147",top:"20%",left:"25%",position:"absolute",boxShadow:10,textAlign:"center",borderRadius:"16px",color:"white"},children:[(0,mn.jsxs)(bg,{children:[(0,mn.jsx)(uh,{}),(0,mn.jsx)(ai,{sx:{bgcolor:"#e3e3e3",width:"100%",height:"70%",color:"black"},children:(0,mn.jsxs)(Bi,{container:!0,spacing:4,sx:{textAlign:"left"},children:[(0,mn.jsx)(Bi,{item:!0,xs:12,onClick:p,sx:{bgcolor:"#4D9147",color:"white",textAlign:"center"},children:(0,mn.jsx)("h1",{children:"Mayhem Hospital"})}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:4,children:(0,mn.jsx)(ai,{sx:{width:"140px",height:"140px",border:2,borderColor:"black",ml:2},children:(0,mn.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[(0,mn.jsx)("label",{htmlFor:"file-upload",children:(0,mn.jsx)("img",{src:d||"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQACWAJYAAD/2wCEAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDIBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/CABEIAMgAyAMBIgACEQEDEQH/xAAvAAEAAgMBAQAAAAAAAAAAAAAABgcCBAUBAwEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAC3BvIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PfhD4kWfvVBkXIhE2PQAAAAAAAAIRLalMRcgJfEMpbkau0oAAAAAAAEbr2fwAC5ACWwpJGJOoAAAAAAAHErS46kNcXIA2ZbC7eGagAAAAAAAOD3hTvztuPJBUw2iE2J09tQAAAAAAAADRiBPNKrvgWl96mJcvtQSJZ60d4AAAAAAARbCCmeAyFAAZzuApbmROWKAAAAA5XVrQ4vggWAAAAe2hV3blssKAAABpVNYFfoFgAAAAAS2zuxmTKAAABDYWIFgAAAAAE0mRNAAf/xAA9EAACAQICBAoIBAYDAAAAAAABAgMEEQUGACExURIiMEBBUmFxobETICMyM4GR0RAUFnIVNWJjssFCcHP/2gAIAQEAAT8A/wCoamspaNeFU1EUI/uOBp+pcG4Vv4jD428tKaspaxeFTVEUw/tuDzVmVFLMQFAuSTYAaY3nGR2anwtuAg1Gotrb9u4dukkjyyGSR2dztZjcn5/hHI8UgkjdkcbGU2I+emCZykRlp8UbhodQqLa1/dvHborK6hlIKkXBBuCOZ5xxwvKcLp2si/HYH3j1e4dPb62TsbKSjC6hrxt8Bj/xPV7j0dvfzLEqwYfhtRVm3skJAPSegfW2ju0kjO7FnYksT0k7fWR2jkV0Yq6kFSOgjZphtYMQw2nqxb2qAkDoPSPrfmOdpTHgSoD8SZQe4An/AEOQyTKZMCaMn4czAdgIB/3zHPK3weBt04/xPIZGW2DztvnP+I5jm2nM+XZyBcxFZfodfgTyGUqcwZdgJFjKWk+p1eAHMZokngkhkF0kUqw7CLaV9HJh9dNSSjjxta+8dB+Y9ago5MQroaSIceVrX3DpPyGkMSQQRwxiyRqFUdgFuZZky+MXhE0HBWsjFlvqDjqk+R0mhlp5mhmjaORTZlYWI9SGCWomWGGNpJGNlVRcnTLeXxhEJmn4LVkgs1tYQdUHzPNK/C6LE0C1dOkltjbGHcRr0qMiUjsTT1k0Q6rqHH11HT9BSX/mKW/8T99KfIlKjA1FZNKOqihB9dZ0oMLosMQrSU6R32ttY95OvmpIVeESAN51DSXGcMgNpcQplO70gPlp+pMGv/MYPH7aRYxhk5AixCmYno9IB56Ahl4QII3jWOZ4ji9FhUfDq5gpPuoNbN3DTEM7VkxK0Ma06dduM/2GlTW1VY/CqaiWY/1sT4abNn4bdulNW1VG3CpqiWE/0OR4aYfnashIWujWoTrrxX+x0w7F6LFY+HSTBiPeQ6mXvHMMwZrSiL0lAVkqBqeTasfYN58BpNNLUTNNNI0kjG7MxuTyEM0tPMs0MjRyKbqymxGmX81pWlKSvKx1B1JJsWTsO4+B5bNeYjShsOo3tMR7aRT7g3Dt8uUypmI1QXDqx7zAexkY++Nx7fPlMwYsMIwxpVI9O/EhB62/uGju0js7sWZjckm5J38ojNG6ujFWU3BBsQd+mX8WGL4YsrECdOJMo62/uPJ5pxI4hjMiq14ae8UdtmrafmfLlsrYkcPxmNWa0NRaJ77BfYfkfPksXrPyGEVVUDZkjPB/cdQ8Tpr6Tc8tr6DY6YRWfn8Jpakm7PGOF+4aj4jkc7z+jwWKEHXNML9wBP25hkif0mDSxE64pjbuIB+/I5+bi0Cdsh8uYZBbi16dsZ8/V//EABQRAQAAAAAAAAAAAAAAAAAAAHD/2gAIAQIBAT8AKf/EABoRAAICAwAAAAAAAAAAAAAAAAARAVAQMED/2gAIAQMBAT8ArGPomoYx186Iz//Z",width:140,height:140,alt:""})}),(0,mn.jsx)("input",{type:"file",label:"Image",name:"myFile",id:"file-upload",accept:".jpeg, .png, .jpg",style:{display:"none"},disabled:!s,onChange:t=>f(t)})]})})}),(0,mn.jsx)(Bi,{item:!0,xs:6,sx:{fontSize:"12pt"},children:s?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Lc,{id:"username-input",size:"small",value:a,fullWidth:!0,variant:"outlined",onChange:function(t){l(t.target.value)}}),(0,mn.jsxs)("p",{children:["Last Seen: Now",(0,mn.jsx)("br",{}),"Registered Since: Jan 22, 2024"]})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("p",{id:"username-text",children:a}),(0,mn.jsxs)("p",{children:["Last Seen: Now",(0,mn.jsx)("br",{}),"Registered Since: Jan 22, 2024"]})]})}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:12})]})})]}),(0,mn.jsx)(Cg,{children:(0,mn.jsx)(ai,{sx:{width:"100%",height:"100%",bgcolor:"white"},children:(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Lc,{id:"bio",label:"Bio",multiline:!0,fullWidth:!0,rows:4,defaultValue:c,onChange:function(t){h(t.target.value)},variant:"filled",disabled:!s})}),(0,mn.jsx)(Bi,{item:!0,xs:12,sx:{bgcolor:"#4D9147"},children:(0,mn.jsx)(go,{id:"edit-button",onClick:n=>{0===a.length?(l(e.username),console.log(e.username),console.log(a),t.updateProfile(e.username,c,d)):s&&(e.updateUsername(a),t.updateProfile(a,c,d)),o(!s)},sx:{color:s?"red":"white"},children:(0,mn.jsx)(Bg.A,{})})})]})})})]}),m=(0,mn.jsx)(gg,{sx:{bgcolor:"#4D9147",top:"20%",left:"25%",position:"absolute",boxShadow:10,textAlign:"center",borderRadius:"16px",color:"white",width:"53%"},children:(0,mn.jsxs)(bg,{onClick:p,children:[(0,mn.jsx)(uh,{}),(0,mn.jsx)(ai,{sx:{bgcolor:"#e3e3e3",width:"100%",height:"70%",color:"black"},children:(0,mn.jsxs)(Bi,{container:!0,spacing:4,sx:{textAlign:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:12,sx:{bgcolor:"#4D9147",color:"white",textAlign:"center"},children:(0,mn.jsx)("h1",{children:"Mayhem Hospital"})}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:(0,mn.jsx)(ai,{sx:{width:"140px",height:"140px",ml:2},children:(0,mn.jsx)(Mg,{sx:{height:140},image:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Gold_coin_icon.png",title:"medal1"})})}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:(0,mn.jsx)(ai,{sx:{width:"140px",height:"140px",ml:2},children:(0,mn.jsx)(Mg,{sx:{height:140},image:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Gold_coin_icon.png",title:"medal2"})})}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:(0,mn.jsx)(ai,{sx:{width:"140px",height:"140px",ml:2},children:(0,mn.jsx)(Mg,{sx:{height:140},image:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Gold_coin_icon.png",title:"medal3"})})}),(0,mn.jsx)(Bi,{item:!0,xs:3,children:(0,mn.jsx)(ai,{sx:{width:"140px",height:"140px",ml:2},children:(0,mn.jsx)(Mg,{sx:{height:140},image:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Gold_coin_icon.png",title:"medal4"})})}),(0,mn.jsxs)(Bi,{item:!0,xs:3,sx:{},children:[(0,mn.jsx)(ai,{sx:{width:"80%",ml:"10%"},children:(0,mn.jsx)(Lp,{variant:"determinate",value:32})}),(0,mn.jsxs)("p",{children:["Win/Loss Ratio",(0,mn.jsx)("br",{}),"20-9",(0,mn.jsx)("br",{}),"Patients Saved",(0,mn.jsx)("br",{}),"182"]})]}),(0,mn.jsxs)(Bi,{item:!0,xs:3,sx:{},children:[(0,mn.jsx)(ai,{sx:{width:"80%",ml:"10%"},children:(0,mn.jsx)(Lp,{variant:"determinate",value:50})}),(0,mn.jsxs)("p",{children:["Minigames Completed per Game",(0,mn.jsx)("br",{}),"109",(0,mn.jsx)("br",{}),"Patient Deaths",(0,mn.jsx)("br",{}),"36"]})]}),(0,mn.jsxs)(Bi,{item:!0,xs:3,sx:{},children:[(0,mn.jsx)(ai,{sx:{width:"80%",ml:"10%"},children:(0,mn.jsx)(Lp,{variant:"determinate",value:20})}),(0,mn.jsxs)("p",{children:["Time Played",(0,mn.jsx)("br",{}),"9h 50m 2s",(0,mn.jsx)("br",{}),"Favorite Fellow Doctor",(0,mn.jsx)("br",{}),"JareBear"]})]}),(0,mn.jsxs)(Bi,{item:!0,xs:3,sx:{},children:[(0,mn.jsx)(ai,{sx:{width:"80%",ml:"10%"},children:(0,mn.jsx)(Lp,{variant:"determinate",value:100})}),(0,mn.jsxs)("p",{children:["Longest Win Streak",(0,mn.jsx)("br",{}),"3",(0,mn.jsx)("br",{}),"Most Played Map",(0,mn.jsx)("br",{}),"Healing Havoc"]})]})]})})]})});return(0,mn.jsxs)("div",{id:"profile-screen",children:[n?g:m,(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}function Dg(){const{store:t}=(0,r.useContext)(Gn);function e(e){t.openMap(e)}return(0,mn.jsxs)("div",{id:"map-search-screen",children:[(0,mn.jsx)(ai,{sx:{height:"90%",width:"45%",flexDirection:"column",backgroundColor:"#fffbc3",position:"absolute",left:"27.5%",top:"3%",textAlign:"center",p:2,boxShadow:10}}),(0,mn.jsxs)(ai,{sx:{height:"85%",width:"40%",flexDirection:"column",backgroundColor:"white",position:"absolute",left:"30%",top:"5%",textAlign:"center",p:2,boxShadow:10},children:[(0,mn.jsx)("h3",{children:"Character Search"}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:8}),(0,mn.jsxs)(Bi,{item:!0,xs:4,children:[(0,mn.jsx)(Lc,{label:"Search",size:"small"}),(0,mn.jsx)(Pr,{variant:"outlined",sx:{mt:1,mb:1,fontSize:"10px",borderColor:"black",borderRadius:0,color:"black"},children:"Newest"}),(0,mn.jsx)(Pr,{variant:"outlined",sx:{mt:1,mb:1,fontSize:"10px",borderColor:"black",borderRadius:0,color:"black"},children:"Top"})]})]}),(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{fontSize:"14px",alignItems:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:8,sx:{textAlign:"left",ml:3},children:"Search Results"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px",ml:-2},children:"Author"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"Downloads"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px",ml:1},children:"Comments"}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(uh,{})}),(0,mn.jsxs)(bl,{sx:{width:"100%",ml:2},children:[(0,mn.jsx)(Kh,{sx:{bgcolor:"white",mt:2,mb:2},children:(0,mn.jsxs)(lg,{onClick:t=>{e(t)},children:[(0,mn.jsx)(Bi,{item:!0,xs:9,sx:{textAlign:"left"},children:"Example Map"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"User1"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"2"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"188"})]})}),(0,mn.jsx)(uh,{}),(0,mn.jsx)(Kh,{sx:{bgcolor:"white",mt:2,mb:2},children:(0,mn.jsxs)(lg,{onClick:t=>{e(t)},children:[(0,mn.jsx)(Bi,{item:!0,xs:9,sx:{textAlign:"left"},children:"New Map"}),(0,mn.jsx)(Bi,{item:!0,xs:1,sx:{fontSize:"10px"},children:"User2"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"20"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"1"})]})}),(0,mn.jsx)(uh,{})]})]})]}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}var jg=n(1944),Og=n(932);const Lg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function zg(t,e){return t-e}function Ng(t,e){var n;const{index:i}=null!=(n=t.reduce(((t,n,i)=>{const r=Math.abs(e-n);return null===t||r<t.distance||r===t.distance?{distance:r,index:i}:t}),null))?n:{};return i}function Ug(t,e){if(void 0!==e.current&&t.changedTouches){const n=t;for(let t=0;t<n.changedTouches.length;t+=1){const i=n.changedTouches[t];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Hg(t,e,n){return 100*(t-e)/(n-e)}function Wg(t,e,n){const i=Math.round((t-n)/e)*e+n;return Number(i.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}function Vg(t){let{values:e,newValue:n,index:i}=t;const r=e.slice();return r[i]=n,r.sort(zg)}function Gg(t){let{sliderRef:e,activeIndex:n,setActive:i}=t;var r,s;const o=(0,zr.A)(e.current);var a;null!=(r=e.current)&&r.contains(o.activeElement)&&Number(null==o||null==(s=o.activeElement)?void 0:s.getAttribute("data-index"))===n||(null==(a=e.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());i&&i(n)}function qg(t,e){return"number"===typeof t&&"number"===typeof e?t===e:"object"===typeof t&&"object"===typeof e&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(t,e)=>t===e;return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}(t,e)}const Xg={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},Qg=t=>t;let Kg;function Yg(){return void 0===Kg&&(Kg="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Kg}function Zg(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:s=!1,isRtl:o=!1,marks:a=!1,max:l=100,min:c=0,name:h,onChange:d,onChangeCommitted:u,orientation:p="horizontal",rootRef:f,scale:g=Qg,step:m=1,shiftStep:v=10,tabIndex:y,value:x}=t,_=r.useRef(),[b,w]=r.useState(-1),[A,S]=r.useState(-1),[C,E]=r.useState(!1),k=r.useRef(0),[T,P]=(0,jg.A)({controlled:x,default:null!=n?n:c,name:"Slider"}),R=d&&((t,e,n)=>{const i=t.nativeEvent||t,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:e,name:h}}),d(r,e,n)}),I=Array.isArray(T);let M=I?T.slice().sort(zg):[T];M=M.map((t=>null==t?c:(0,zp.A)(t,c,l)));const B=!0===a&&null!==m?[...Array(Math.floor((l-c)/m)+1)].map(((t,e)=>({value:c+m*e}))):a||[],F=B.map((t=>t.value)),{isFocusVisibleRef:D,onBlur:j,onFocus:O,ref:L}=(0,Og.A)(),[z,N]=r.useState(-1),U=r.useRef(),H=(0,Rr.A)(L,U),W=(0,Rr.A)(f,H),V=t=>e=>{var n;const i=Number(e.currentTarget.getAttribute("data-index"));O(e),!0===D.current&&N(i),S(i),null==t||null==(n=t.onFocus)||n.call(t,e)},G=t=>e=>{var n;j(e),!1===D.current&&N(-1),S(-1),null==t||null==(n=t.onBlur)||n.call(t,e)},q=(t,e)=>{const n=Number(t.currentTarget.getAttribute("data-index")),i=M[n],r=F.indexOf(i);let o=e;if(B&&null==m){const t=F[F.length-1];o=o>t?t:o<F[0]?F[0]:o<i?F[r-1]:F[r+1]}if(o=(0,zp.A)(o,c,l),I){s&&(o=(0,zp.A)(o,M[n-1]||-1/0,M[n+1]||1/0));const t=o;o=Vg({values:M,newValue:o,index:n});let e=n;s||(e=o.indexOf(t)),Gg({sliderRef:U,activeIndex:e})}P(o),N(n),R&&!qg(o,T)&&R(t,o,n),u&&u(t,o)},X=t=>e=>{var n;if(null!==m){const t=Number(e.currentTarget.getAttribute("data-index")),n=M[t];let i=null;("ArrowLeft"===e.key||"ArrowDown"===e.key)&&e.shiftKey||"PageDown"===e.key?i=Math.max(n-v,c):(("ArrowRight"===e.key||"ArrowUp"===e.key)&&e.shiftKey||"PageUp"===e.key)&&(i=Math.min(n+v,l)),null!==i&&(q(e,i),e.preventDefault())}null==t||null==(n=t.onKeyDown)||n.call(t,e)};(0,es.A)((()=>{var t;i&&U.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[i]),i&&-1!==b&&w(-1),i&&-1!==z&&N(-1);const Q=r.useRef();let K=p;o&&"horizontal"===p&&(K+="-reverse");const Y=t=>{let{finger:e,move:n=!1}=t;const{current:i}=U,{width:r,height:o,bottom:a,left:h}=i.getBoundingClientRect();let d,u;if(d=0===K.indexOf("vertical")?(a-e.y)/o:(e.x-h)/r,-1!==K.indexOf("-reverse")&&(d=1-d),u=function(t,e,n){return(n-e)*t+e}(d,c,l),m)u=Wg(u,m,c);else{const t=Ng(F,u);u=F[t]}u=(0,zp.A)(u,c,l);let p=0;if(I){p=n?Q.current:Ng(M,u),s&&(u=(0,zp.A)(u,M[p-1]||-1/0,M[p+1]||1/0));const t=u;u=Vg({values:M,newValue:u,index:p}),s&&n||(p=u.indexOf(t),Q.current=p)}return{newValue:u,activeIndex:p}},Z=(0,Nr.A)((t=>{const e=Ug(t,_);if(!e)return;if(k.current+=1,"mousemove"===t.type&&0===t.buttons)return void J(t);const{newValue:n,activeIndex:i}=Y({finger:e,move:!0});Gg({sliderRef:U,activeIndex:i,setActive:w}),P(n),!C&&k.current>2&&E(!0),R&&!qg(n,T)&&R(t,n,i)})),J=(0,Nr.A)((t=>{const e=Ug(t,_);if(E(!1),!e)return;const{newValue:n}=Y({finger:e,move:!0});w(-1),"touchend"===t.type&&S(-1),u&&u(t,n),_.current=void 0,tt()})),$=(0,Nr.A)((t=>{if(i)return;Yg()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(_.current=e.identifier);const n=Ug(t,_);if(!1!==n){const{newValue:e,activeIndex:i}=Y({finger:n});Gg({sliderRef:U,activeIndex:i,setActive:w}),P(e),R&&!qg(e,T)&&R(t,e,i)}k.current=0;const r=(0,zr.A)(U.current);r.addEventListener("touchmove",Z,{passive:!0}),r.addEventListener("touchend",J,{passive:!0})})),tt=r.useCallback((()=>{const t=(0,zr.A)(U.current);t.removeEventListener("mousemove",Z),t.removeEventListener("mouseup",J),t.removeEventListener("touchmove",Z),t.removeEventListener("touchend",J)}),[J,Z]);r.useEffect((()=>{const{current:t}=U;return t.addEventListener("touchstart",$,{passive:Yg()}),()=>{t.removeEventListener("touchstart",$),tt()}}),[tt,$]),r.useEffect((()=>{i&&tt()}),[i,tt]);const et=Hg(I?M[0]:c,c,l),nt=Hg(M[M.length-1],c,l)-et,it=t=>e=>{var n;null==(n=t.onMouseLeave)||n.call(t,e),S(-1)};return{active:b,axis:K,axisProps:Xg,dragging:C,focusedThumbIndex:z,getHiddenInputProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const s=Br(n),a={onChange:(d=s||{},t=>{var e;null==(e=d.onChange)||e.call(d,t),q(t,t.target.valueAsNumber)}),onFocus:V(s||{}),onBlur:G(s||{}),onKeyDown:X(s||{})};var d;const u=(0,qn.A)({},s,a);return(0,qn.A)({tabIndex:y,"aria-labelledby":e,"aria-orientation":p,"aria-valuemax":g(l),"aria-valuemin":g(c),name:h,type:"range",min:t.min,max:t.max,step:null===t.step&&t.marks?"any":null!=(r=t.step)?r:void 0,disabled:i},n,u,{style:(0,qn.A)({},Lg,{direction:o?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Br(t),n={onMouseDown:(r=e||{},t=>{var e;if(null==(e=r.onMouseDown)||e.call(r,t),i)return;if(t.defaultPrevented)return;if(0!==t.button)return;t.preventDefault();const n=Ug(t,_);if(!1!==n){const{newValue:e,activeIndex:i}=Y({finger:n});Gg({sliderRef:U,activeIndex:i,setActive:w}),P(e),R&&!qg(e,T)&&R(t,e,i)}k.current=0;const s=(0,zr.A)(U.current);s.addEventListener("mousemove",Z,{passive:!0}),s.addEventListener("mouseup",J)})};var r;const s=(0,qn.A)({},e,n);return(0,qn.A)({},t,{ref:W},s)},getThumbProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Br(t),n={onMouseOver:(i=e||{},t=>{var e;null==(e=i.onMouseOver)||e.call(i,t);const n=Number(t.currentTarget.getAttribute("data-index"));S(n)}),onMouseLeave:it(e||{})};var i;return(0,qn.A)({},t,e,n)},marks:B,open:A,range:I,rootRef:W,trackLeap:nt,trackOffset:et,values:M,getThumbStyle:t=>({pointerEvents:-1!==b&&b!==t?"none":void 0})}}const Jg=t=>!t||!Ir(t);function $g(t){return(0,ui.Ay)("MuiSlider",t)}const tm=(0,ii.A)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const em=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],nm=Js();function im(t){return t}const rm=(0,ci.Ay)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e["color".concat((0,di.A)(n.color))],"medium"!==n.size&&e["size".concat((0,di.A)(n.size))],n.marked&&e.marked,"vertical"===n.orientation&&e.vertical,"inverted"===n.track&&e.trackInverted,!1===n.track&&e.trackFalse]}})((t=>{let{theme:e}=t;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(tm.disabled)]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},["&.".concat(tm.dragging)]:{["& .".concat(tm.thumb,", & .").concat(tm.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=e.vars)?n:e).palette).filter((t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main})).map((t=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),sm=(0,ci.Ay)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),om=(0,ci.Ay)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})((t=>{let{theme:e}=t;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=e.vars)?n:e).palette).filter((t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main})).map((t=>({props:{color:t,track:"inverted"},style:(0,qn.A)({},e.vars?{backgroundColor:e.vars.palette.Slider["".concat(t,"Track")],borderColor:e.vars.palette.Slider["".concat(t,"Track")]}:(0,qn.A)({backgroundColor:(0,Di.a)(e.palette[t].main,.62),borderColor:(0,Di.a)(e.palette[t].main,.62)},e.applyStyles("dark",{backgroundColor:(0,Di.e$)(e.palette[t].main,.5)}),e.applyStyles("dark",{borderColor:(0,Di.e$)(e.palette[t].main,.5)})))})))]}})),am=(0,ci.Ay)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e["thumbColor".concat((0,di.A)(n.color))],"medium"!==n.size&&e["thumbSize".concat((0,di.A)(n.size))]]}})((t=>{let{theme:e}=t;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(tm.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys((null!=(n=e.vars)?n:e).palette).filter((t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main})).map((t=>({props:{color:t},style:{["&:hover, &.".concat(tm.focusVisible)]:(0,qn.A)({},e.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(e.vars.palette[t].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,Di.X4)(e.palette[t].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(tm.active)]:(0,qn.A)({},e.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(e.vars.palette[t].mainChannel," / 0.16)}")}:{boxShadow:"0px 0px 0px 14px ".concat((0,Di.X4)(e.palette[t].main,.16))})}}))),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}})),lm=(0,ci.Ay)((function(t){const{children:e,className:n,value:i}=t,s=(t=>{const{open:e}=t;return{offset:(0,Qn.A)(e&&tm.valueLabelOpen),circle:tm.valueLabelCircle,label:tm.valueLabelLabel}})(t);return e?r.cloneElement(e,{className:(0,Qn.A)(e.props.className)},(0,mn.jsxs)(r.Fragment,{children:[e.props.children,(0,mn.jsx)("span",{className:(0,Qn.A)(s.offset,n),"aria-hidden":!0,children:(0,mn.jsx)("span",{className:s.circle,children:(0,mn.jsx)("span",{className:s.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})((t=>{let{theme:e}=t;return(0,qn.A)({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(tm.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(tm.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),cm=(0,ci.Ay)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>(0,dc.A)(t)&&"markActive"!==t,overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})((t=>{let{theme:e}=t;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}})),hm=(0,ci.Ay)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>(0,dc.A)(t)&&"markLabelActive"!==t,overridesResolver:(t,e)=>e.markLabel})((t=>{let{theme:e}=t;return(0,qn.A)({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]})})),dm=t=>{let{children:e}=t;return e},um=r.forwardRef((function(t,e){var n,i,s,o,a,l,c,h,d,u,p,f,g,m,v,y,x,_,b,w,A,S,C,E;const k=nm({props:t,name:"MuiSlider"}),T=ml(),{"aria-label":P,"aria-valuetext":R,"aria-labelledby":I,component:M="span",components:B={},componentsProps:F={},color:D="primary",classes:j,className:O,disableSwap:L=!1,disabled:z=!1,getAriaLabel:N,getAriaValueText:U,marks:H=!1,max:W=100,min:V=0,orientation:G="horizontal",shiftStep:q=10,size:X="medium",step:Q=1,scale:K=im,slotProps:Y,slots:Z,track:J="normal",valueLabelDisplay:$="off",valueLabelFormat:tt=im}=k,et=(0,Xn.A)(k,em),nt=(0,qn.A)({},k,{isRtl:T,max:W,min:V,classes:j,disabled:z,disableSwap:L,orientation:G,marks:H,color:D,size:X,step:Q,shiftStep:q,scale:K,track:J,valueLabelDisplay:$,valueLabelFormat:tt}),{axisProps:it,getRootProps:rt,getHiddenInputProps:st,getThumbProps:ot,open:at,active:lt,axis:ct,focusedThumbIndex:ht,range:dt,dragging:ut,marks:pt,values:ft,trackOffset:gt,trackLeap:mt,getThumbStyle:vt}=Zg((0,qn.A)({},nt,{rootRef:e}));nt.marked=pt.length>0&&pt.some((t=>t.label)),nt.dragging=ut,nt.focusedThumbIndex=ht;const yt=(t=>{const{disabled:e,dragging:n,marked:i,orientation:r,track:s,classes:o,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",i&&"marked","vertical"===r&&"vertical","inverted"===s&&"trackInverted",!1===s&&"trackFalse",a&&"color".concat((0,di.A)(a)),l&&"size".concat((0,di.A)(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat((0,di.A)(l)),a&&"thumbColor".concat((0,di.A)(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,li.A)(c,$g,o)})(nt),xt=null!=(n=null!=(i=null==Z?void 0:Z.root)?i:B.Root)?n:rm,_t=null!=(s=null!=(o=null==Z?void 0:Z.rail)?o:B.Rail)?s:sm,bt=null!=(a=null!=(l=null==Z?void 0:Z.track)?l:B.Track)?a:om,wt=null!=(c=null!=(h=null==Z?void 0:Z.thumb)?h:B.Thumb)?c:am,At=null!=(d=null!=(u=null==Z?void 0:Z.valueLabel)?u:B.ValueLabel)?d:lm,St=null!=(p=null!=(f=null==Z?void 0:Z.mark)?f:B.Mark)?p:cm,Ct=null!=(g=null!=(m=null==Z?void 0:Z.markLabel)?m:B.MarkLabel)?g:hm,Et=null!=(v=null!=(y=null==Z?void 0:Z.input)?y:B.Input)?v:"input",kt=null!=(x=null==Y?void 0:Y.root)?x:F.root,Tt=null!=(_=null==Y?void 0:Y.rail)?_:F.rail,Pt=null!=(b=null==Y?void 0:Y.track)?b:F.track,Rt=null!=(w=null==Y?void 0:Y.thumb)?w:F.thumb,It=null!=(A=null==Y?void 0:Y.valueLabel)?A:F.valueLabel,Mt=null!=(S=null==Y?void 0:Y.mark)?S:F.mark,Bt=null!=(C=null==Y?void 0:Y.markLabel)?C:F.markLabel,Ft=null!=(E=null==Y?void 0:Y.input)?E:F.input,Dt=Lr({elementType:xt,getSlotProps:rt,externalSlotProps:kt,externalForwardedProps:et,additionalProps:(0,qn.A)({},Jg(xt)&&{as:M}),ownerState:(0,qn.A)({},nt,null==kt?void 0:kt.ownerState),className:[yt.root,O]}),jt=Lr({elementType:_t,externalSlotProps:Tt,ownerState:nt,className:yt.rail}),Ot=Lr({elementType:bt,externalSlotProps:Pt,additionalProps:{style:(0,qn.A)({},it[ct].offset(gt),it[ct].leap(mt))},ownerState:(0,qn.A)({},nt,null==Pt?void 0:Pt.ownerState),className:yt.track}),Lt=Lr({elementType:wt,getSlotProps:ot,externalSlotProps:Rt,ownerState:(0,qn.A)({},nt,null==Rt?void 0:Rt.ownerState),className:yt.thumb}),zt=Lr({elementType:At,externalSlotProps:It,ownerState:(0,qn.A)({},nt,null==It?void 0:It.ownerState),className:yt.valueLabel}),Nt=Lr({elementType:St,externalSlotProps:Mt,ownerState:nt,className:yt.mark}),Ut=Lr({elementType:Ct,externalSlotProps:Bt,ownerState:nt,className:yt.markLabel}),Ht=Lr({elementType:Et,getSlotProps:st,externalSlotProps:Ft,ownerState:nt});return(0,mn.jsxs)(xt,(0,qn.A)({},Dt,{children:[(0,mn.jsx)(_t,(0,qn.A)({},jt)),(0,mn.jsx)(bt,(0,qn.A)({},Ot)),pt.filter((t=>t.value>=V&&t.value<=W)).map(((t,e)=>{const n=Hg(t.value,V,W),i=it[ct].offset(n);let s;return s=!1===J?-1!==ft.indexOf(t.value):"normal"===J&&(dt?t.value>=ft[0]&&t.value<=ft[ft.length-1]:t.value<=ft[0])||"inverted"===J&&(dt?t.value<=ft[0]||t.value>=ft[ft.length-1]:t.value>=ft[0]),(0,mn.jsxs)(r.Fragment,{children:[(0,mn.jsx)(St,(0,qn.A)({"data-index":e},Nt,!Ir(St)&&{markActive:s},{style:(0,qn.A)({},i,Nt.style),className:(0,Qn.A)(Nt.className,s&&yt.markActive)})),null!=t.label?(0,mn.jsx)(Ct,(0,qn.A)({"aria-hidden":!0,"data-index":e},Ut,!Ir(Ct)&&{markLabelActive:s},{style:(0,qn.A)({},i,Ut.style),className:(0,Qn.A)(yt.markLabel,Ut.className,s&&yt.markLabelActive),children:t.label})):null]},e)})),ft.map(((t,e)=>{const n=Hg(t,V,W),i=it[ct].offset(n),r="off"===$?dm:At;return(0,mn.jsx)(r,(0,qn.A)({},!Ir(r)&&{valueLabelFormat:tt,valueLabelDisplay:$,value:"function"===typeof tt?tt(K(t),e):tt,index:e,open:at===e||lt===e||"on"===$,disabled:z},zt,{children:(0,mn.jsx)(wt,(0,qn.A)({"data-index":e},Lt,{className:(0,Qn.A)(yt.thumb,Lt.className,lt===e&&yt.active,ht===e&&yt.focusVisible),style:(0,qn.A)({},i,vt(e),Lt.style),children:(0,mn.jsx)(Et,(0,qn.A)({"data-index":e,"aria-label":N?N(e):P,"aria-valuenow":K(t),"aria-labelledby":I,"aria-valuetext":U?U(K(t),e):R,value:ft[e]},Ht))}))}),e)}))]}))})),pm=um,fm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABXVJREFUeF7tnb2OVEcQhWfewJKFTeyAkJWI8aa8ACACEljLMryBQTKyJfAbGIRYSAiQ7Rdwih0jQUjg2GBZ4g3GGrEL7KV7OXWrq+7fR1w/3adPnaruHWbWq5H+e/T3L5uRLq3Xsq58dX3dyzHYaZSL2u4ZAgSf/EF4CJCD8woFMAKNAhgB62mOAvQEzuqGAhgRQwGMgPU0H1wB1IP+69nTnlscxu3smV0p8dDKAAGkY7IbQQARMxRg2PcBFEAkqtUMBeggpla6Fei52mfNBmkKAAFsVIUANrxmZw0BZnektg1BABtes7OGALM7UtuGIICI19AvhOp1T9zOOzMIICIGAUSgKmaTvwZCAAjgQ8DpTQsQAYx6CEIBxAOgBfiAqnmjACKuVgVQK/vcy8/EFcSY/XHqjRTYSpTF3wIgQM6fiUd7C4AAEECSVlqABFPVKE0B9n6/ZPqfPurBnvzyCx8CTu9/Xr2WIqizwmGw/fNPUs4mJcl2UxBAGxYhwAECKAAKIEkrLUCCiRnAB1PdmxlARJYZYOEzwGazKd4Cfvv5WpFCqrTv7v1U9H+6/4NITc3Mm6emFBe+v1tcwHq9ThnQU5JsdwgBytdFCIACoAAlBGgBtACpOXt7s5RktVp58zADMAQWubb4GeDPh7fUIizaeStTTR6V5+urPy57BoAAEEAtQhTAhVTZefB3ABRg4QpQI7VKjKje3F2XN0+t19f2v5iXQAhQkealPAVDAAhQRIAWsJCXQBQABUABCgjMbgj89c53xc8D1J5CA668owxZ+zzExRv3Uq7oKUm2yEOAMv8gQOUTMaMs14BFQQAIUKQVLSCg2sYYEgVAAZahALXqu/3fv6b/MzjGKvas6ebnJ9IG8dI6B02+XRAEgAAogEdCnL4ogBNAr/viW4B3Nnjx/Ln3DFz+p3d2JP+hD7q2yMEVAAJI/AkzggBOaFEAJ4AoQBCAYlgUQASqZoYCOAFEAYIAFMOOVgG665/ag9FYp/4urhBArBSrGQSwIvYJexSgMaAH4VCAGFxXKEBjYFGAxoCiADGAHkZFATr4Wn8voHs86reHxx6rHt36+wDdyIv/vQAIsPCvi4cAEOAIB2gBevuxWIZdA70937KJJdhGzQQQYCLsgQATOaioZUKAKGQnEhcCTOSgopYJAaKQnUjc2RJAvd55X9as5+xdl9c/62Vw8FtAa6CsB12z967L6w8BOgigADEvgyhARQK8Fez1RwFQgCMIMASe2W3V3qU43gr2+k9eAWo/EtXdmPp1aNl/W/AeoFqxrXGS2P2BUdgM0HpjECDmm0MhQNAQiAJUfiOIFnAUgdZKObkWUFtwdzbIbgFWID81tKkHreLhXd+h/+AtQN0wBJjpDAABtFpWb0tatPdWKIAVMdG+OwTSAkTg3vWmzk+m0AJoAZP6OjkUYOLXQKNgfWTOOwAEkOYrdTaY7RCobmzqM0BNUSCA+Pt4EGCmQyAKsJGGWxUn6+wi9Slr0K19a2lDASamAH1Ic5zPg8f3pUppnbdvvG8ufxtWXH3XVPKbxCK3C4cALY894Sm49XIhQGtE38ZDAWJwXdECGgPrVQDrgWTnawyXHG4xCgABypyAAJVaQQFkEckxzD6Q7Hw5KH6cBQVAAYbini1vdkVm57Oh0c4aBUAB2rEpMlJ2RWbni8TuuNgoAAowFPdsebMrMjufDY121igACtCOTZGRsisyO18kdrOYAbafMXGCZFW77HzO7fVzt4LSL0sbr+wDyc7XBiVjFAhQBwwCGMkUbZ59INn5ovErxkcBUIBBiNcnaXZFZufrg4nbBwVAAdwkygqQXZHZ+bJwPJIHBUABBiFen6TZFZmdrw8mbp//AbyWCr1vYSgWAAAAAElFTkSuQmCC",gm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABXVJREFUeF7tnc2qVUcQhc95hYgEgiMfQOGOw80rGHCg4ESUDJJAMow4DnGooA5EcSLo4IJ5hUjGAfMAGYVAkPgKRza5Vz3bbl21q6v23+e4frpXr1pV3fd4znYz0X+P/7q/m+jSBi3r6tlvt4Mcg50muahuzxAg+OSPw0OAHJw3KIARaBTACNhAcxRgIHBWNxTAiBgKYARsoPnoCqAe9O9/vBi4xXHcvjw4lBKPrQwQQDomuxEEEDFDAcZ9H0ABRKJazVCAHmJqpVuBXqp91myQpgAQwEZVCGDDa3HWEGBxR2rbEASw4bU4awiwuCO1bQgCiHiN/UKoXvfE7bw1gwAiYhBABKpiNvtrIASAAD4EnN60ABHAqIcgFEA8AFqAD6iaNwog4mpVALWyTx/9I64gxuzVxS+kwFairP4WAAFy/kw82VsABIAAkrTSAiSYqkZpCnDt6JLpf/qoB3vm8898CDi9//73tRRBnRVOgj26+CzlbFKSdJuCANqwCAGOEUABUABJWmkBEkzMAD6Y6t7MACKyzAArnwF2u13xFnDj8ldFCqnS/v2dX4v+d3+4IFJTM/PmqSnFL09/Ky5gu92mDOgpSbodQoDydRECoAAoQAkBWgAtQGrO3t4sJdlsNt48zAAMgUWurX4GuPfj12oRFu28lakmj8rz3e3n654BIAAEUIsQBXAhVXYe/R0ABVi5AtRIrRIjqjf31+XNU+v1tf2v5iUQAlSkeS1PwRAAAhQRoAWs5CUQBUABUIACAosbAn+6dFj8PEDtKTTgyjvJkLXPQ9x69iLlip6SpEMeApT5BwEqn4iZZLkGLAoCQIAirWgBAdU2xZAoAAqwDgWoVd/P/70y/Z/BKVaxZ003T51OG8RL6xw1ebcgCAABUACPhDh9UQAngF731bcA72zw58uX3jNw+Z87f17yH/uga4scXQEggMSfMCMI4IQWBXACiAIEASiGRQFEoGpmKIATQBQgCEAx7GQVoL/+uT0YTXXq7+MKAcRKsZpBACtin7BHARoDehwOBYjBdYMCNAYWBWgMKAoQA+hJVBSgh6/19wL6x6N+e3jsserRrb8P0I+8+t8LgAAr/7p4CAAB9jhAC9Dbj8Uy7Bro7fmWTazBNmomgAAzYQ8EmMlBRS0TAkQhO5O4EGAmBxW1TAgQhexM4i6WAOr1zvuyZj1n77q8/lkvg6PfAloDZT3omr13XV5/CNBDAAWIeRlEASoS4K1grz8KgALsIcAQeHDYqr1LcbwV7PWfvQLUfiSqvzH169Cy/7bgPUC1YlvjJLH7PaOwGaD1xiBAzDeHQoCgIRAFqPxGEC1gH4HWSjm7FlBbcH82yG4BViA/NbSpB63i4V3fif/oLUDdMARY6AwAAbRaVm9LWrR3ViiAFTHRvj8E0gJE4N72pt5PptACaAGz+jo5FGDm10CjYH1gzjsABJDmK3U2WOwQqG5s7jNATVEggPj7eBBgoUMgCrCThlsVJ+vsIvUpa9DOvrW0oQAzU4AhpPmYz8MnD6RKaZ13aLzrV74JK66hayr5zWKR3cIhQMtjT3gKbr1cCNAa0f/joQAxuG5oAY2B9SqA9UCy8zWGSw63GgWAAGVOQIBKraAAsojkGGYfSHa+HBQ/zIICoABjcc+WN7sis/PZ0GhnjQKgAO3YFBkpuyKz80Vi97HYKAAKMBb3bHmzKzI7nw2NdtYoAArQjk2RkbIrMjtfJHaLmAG6z5g4QbKqXXY+5/aGuVtBGZaljVf2gWTna4OSMQoEqAMGAYxkijbPPpDsfNH4FeOjACjAKMQbkjS7IrPzDcHE7YMCoABuEmUFyK7I7HxZOO7lQQFQgFGINyRpdkVm5xuCidvnDeWaCr13QwFlAAAAAElFTkSuQmCC",mm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABXlJREFUeF7tnb2PlVUQxu+tsTNsY6P+AW6yBTSGHmoLCxMkkC1soSOBYEKHrQXBqAkFBbX2xEYLk+UPUBuaJXZSX3LD7sq+nMM+886Zeb9+1PNxznOeeWbO2cu969VI//341/ebkS6t17KuffrNupdjsNMoF7XdMwQIPvmj8BAgB+cVCmAEGgUwAtbTHAXoCZzVDQUwIoYCGAHraT64AqgH/dufz3pucRi3z/cuSYmHVgYIIB2T3QgCiJihAMO+D6AAIlGtZihABzG10q1Az9U+azZIUwAIYKMqBLDhNTtrCDC7I7VtCALY8JqdNQSY3ZHaNgQBRLyGfiFUr3vidk7MIICIGAQQgaqYTf4aCAEggA8BpzctQAQw6iEIBRAPgBbgA6rmjQKIuFoVQK3s/f8+ElcQY/bwgxdSYCtRFn8LgAA5fyYe7S0AAkAASVppARJMVaM0Bbj+9EvT//RRD3Zn55wPAaf34eErKYI6KxwH++GLJylnk5JkuykIoA2LEOAIARQABZCklRYgwcQM4IOp7s0MICLLDLDwGWCz2RRvAX/8fKtIIVXaP7nybdH/71/uiNTUzLx5akpx4eqD4gLW63XKgJ6SZLtDCFC+LkIAFAAFKCFAC6AFSM3Z25ulJKvVypuHGYAhsMi1xc8A//x6Vy3Cop23MtXkUXk+vnxv2TMABIAAahGiAC6kys6DvwOgAAtXgBqpVWJE9ebuurx5ar2+tv/FvARCgIo0L+UpGAJAgCICtICFvASiACgAClBAYHZD4O8/3Sx+HqD2FBpw5R1lyNrnIS5+/V3KFT0lyRZ5CFDmHwSofCJmlOUasCgIAAGKtKIFBFTbGEOiACjAMhSgVn33/31p+j+DY6xiz5puf3g+bRAvrXPQ5NsFQQAIgAJ4JMTpiwI4AfS6L74FeGeD5wcH3jNw+X+2uyv5D33QtUUOrgAQQOJPmBEEcEKLAjgBRAGCABTDogAiUDUzFMAJIAoQBKAYdrQK0F3/1B6Mxjr1d3GFAGKlWM0ggBWxM+xRgMaAHoVDAWJwXaEAjYFFARoDigLEAHocFQXo4Gv9vYDu8ajfHh57rHp06+8DdCMv/vcCIMDCvy4eAkCAUxygBejtx2IZdg309nzLJpZgGzUTQICJsAcCTOSgopYJAaKQnUhcCDCRg4paJgSIQnYicWdLAPV6531Zs56zd11e/6yXwcFvAa2Bsh50zd67Lq8/BOgggALEvAyiABUJ8Faw1x8FQAFOIcAQuHepVXuX4ngr2Os/eQWo/UhUd2Pq16Fl/23Be4BqxbbGSWL3W0ZhM0DrjUGAmG8OhQBBQyAKUPmNIFrAaQRaK+XkWkBtwd3ZILsFWIE8a2hTD1rFw7u+Y//BW4C6YQgw0xkAAmi1rN6WtGj/W6EAVsRE++4QSAsQgTvpTZ2fTKEF0AIm9XVyKMDEr4FGwXrHnHcACCDNV+psMNshUN3Y1GeAmqJAAPH38SDATIdAFGAjDbcqTtbZRepT1qBb+9bShgJMTAH6kOZ9Po8eP5QqpXXevvFufLUfVlx911Tym8QitwuHAC2PPeEpuPVyIUBrRN/EQwFicF3RAhoD61UA64Fk52sMlxxuMQoAAcqcgACVWkEBZBHJMcw+kOx8OSi+mwUFQAGG4p4tb3ZFZuezodHOGgVAAdqxKTJSdkVm54vE7n2xUQAUYCju2fJmV2R2Phsa7axRABSgHZsiI2VXZHa+SOxmMQNsP2PiBMmqdtn5nNvr524FpV+WNl7ZB5Kdrw1KxigQoA4YBDCSKdo8+0Cy80XjV4yPAqAAgxCvT9LsiszO1wcTtw8KgAK4SZQVILsis/Nl4XgqDwqAAgxCvD5JsysyO18fTNw+rwFD4Qq9qwILHwAAAABJRU5ErkJgggAA",vm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABXdJREFUeF7tnb9unUUQxe99AZrgEgpTEmHJNbKCBHkCCoo0IVEKXiEFSpFXoIhwaCgo8gQJUiKUOpIjKElBSocmL3DRFbbBn3ftM9/szPfvl3r+7J49c2Z2fXPvejXSfz+9+WEz0qX1Wtbt3e/WvRyDnUa5qO2eIUDwyZ+EhwA5OK9QACPQKIARsJ7mKEBP4KxuKIARMRTACFhP88EVQD3ol69+67nFYdw+3z+QEg+tDBBAOia7EQQQMUMBhn0fQAFEolrNUIAOYmqlW4Geq33WbJCmABDARlUIYMNrdtYQYHZHatsQBLDhNTtrCDC7I7VtCAKIeA39Qqhe98TtnJlBABExCCACVTGb/DUQAkAAHwJOb1qACGDUQxAKIB4ALcAHVM0bBRBxtSqAWtl/ff+ruIIYs48ffCkFthJl8bcACJDzZ+LR3gIgAASQpJUWIMFUNUpTgDtPvjH9Tx/1YD/a+cCHgNP77fF7KYI6K5wGO/z6l5SzSUmy3RQE0IZFCHCCAAqAAkjSSguQYGIG8MFU92YGEJFlBlj4DLDZbIq3gJvXd4oUUqX98Ys3Rf9vb+yK1NTMvHlqSvH09+PiAtbrdcqAnpJku0MIUL4uQgAUAAUoIUALoAVIzdnbm6Ukq9XKm4cZgCGwyLXFzwB3vvhELcKinbcy1eRReQ6f/7nsGQACQAC1CFEAF1Jl58HfAVCAhStAjdQqMaJ6c3dd3jy1Xl/b/2JeAiFARZqX8hQMASBAEQFawEJeAlEAFAAFKCAwuyHwq08/LH4eoPYUGnDlHWXI2uchnv3xLuWKnpJkizwEKPMPAlQ+ETPKcg1YFASAAEVa0QICqm2MIVEAFGAZClCrvod/H5v+z+AYq9izpvvXdtIG8dI6B02+XRAEgAAogEdCnL4ogBNAr/viW4B3Nnh9dOQ9A5f/Z3t7kv/QB11b5OAKAAEk/oQZQQAntCiAE0AUIAhAMSwKIAJVM0MBnACiAEEAimFHqwDd9U/twWisU38XVwggVorVDAJYEbvCHgVoDOhJOBQgBtcVCtAYWBSgMaAoQAygp1FRgA6+1t8L6B6P+u3hsceqR7f+PkA38uJ/LwACLPzr4iEABDjHAVqA3n4slmHXQG/Pt2xiCbZRMwEEmAh7IMBEDipqmRAgCtmJxIUAEzmoqGVCgChkJxJ3tgRQr3felzXrOXvX5fXPehkc/BbQGijrQdfsvevy+kOADgIoQMzLIApQkQBvBXv9UQAU4BwCDIH7B63auxTHW8Fe/8krQO1HorobU78OLftvC94DVCu2NU4Su/9nFDYDtN4YBIj55lAIEDQEogCV3wiiBZxHoLVSTq4F1BbcnQ2yW4AVyKuGNvWgVTy86zv1H7wFqBuGADOdASCAVsvqbUmL9p8VCmBFTLTvDoG0ABG4s97U+ckUWgAtYFJfJ4cCTPwaaBSsC+a8A0AAab5SZ4PZDoHqxqY+A9QUBQKIv48HAWY6BKIAG2m4VXGyzi5Sn7IG3dq3ljYUYGIK0Ic0l/n8+PMjqVJa5+0b7+6te2HF1XdNJb9JLHK7cAjQ8tgTnoJbLxcCtEb033goQAyuK1pAY2C9CmA9kOx8jeGSwy1GASBAmRMQoFIrKIAsIjmG2QeSnS8HxYtZUAAUYCju2fJmV2R2Phsa7axRABSgHZsiI2VXZHa+SOwui40CoABDcc+WN7sis/PZ0GhnjQKgAO3YFBkpuyKz80ViN4sZYPsZEydIVrXLzufcXj93Kyj9srTxyj6Q7HxtUDJGgQB1wCCAkUzR5tkHkp0vGr9ifBQABRiEeH2SZldkdr4+mLh9UAAUwE2irADZFZmdLwvHc3lQABRgEOL1SZpdkdn5+mDi9vkHyd4KvbjPtmwAAAAASUVORK5CYIIA",ym="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABYJJREFUeF7tnb2OHUUQhec+AYGFZNIltbBlicxyAn4DBw5ILGwHPALE+BEIwMiJAwe8AZBYZEjIRqRsakuIgCe4aIR/2Nnuvae6uqtvz3xOXdXVferUqZqfvbObjvTf49Nv9ke6taJt3T35Ylfk2NjpKDc1nxkCNM786+UhQAzOEwpgBBoFMAJWaI4CFAJndUMBjIihAEbACs27K4Ca6F9+e1Z4xD5uN67flAL3VgYIIKXJbgQBRMxQgL73B1AAkahWMxRggZha6Vag12ofNRuEKQAEsFEVAtjwWp01BFhdSm0HggA2vFZnDQFWl1LbgSCAiFfvO4Tq5Z54nLdmEEBEDAKIQGXMhr8MhAAQwIeA05sWIALY6kYQCiAmgBbgAyrnjQKIuFoVQK3sL9/7RNxBG7OH//wsLWwlyuavAiBAzGPio70KgAAQQJJWWoAEU9YoTAE+/+GO6S991MSeXPnYh4DT+/SPX6UV1FnhzWLf334akpuQIPOhIIA2LEKA1wigACiAJK20AAkmZgAfTHlvZgARWWaAjc8A+/0+eRVw+tOjJIVUad99cC3pv3/5XKSmZuaNk1OKk0/vJTew2+1CBvSQIPMJIUD6chECoAAoQAoBWgAtQGrO3t4sBZmmyRuHGYAhMD3sbn0InF69UIsw3SsHuQrIHvLy1W3PABAAAqAACQQ2cx8ABdi6AuTqX5wNvNO5Kj/uOJlen4u/HQWAABsfAiEABEgiQAsIeU4TEuSih0HZHgwBQnITEgQCTNO09SHwzx+/S74PkHscqk7no9vl3of48Nb9kOIMCTInCQKkqQoBMg9DRq9sdf8QAAIkuUILUEtocDsUAAXYhgLkCvXrv/8y/c3g4AV/bvtfXXo/bBBPYdc1+LwhCAABUICOsoYCdAR/Dr35FuCdDX5/4Xun0Jv/j66mX+hYrts70dn3DrwAtPJXZwMI4MtA9xaAAvgS6PWGAE4EaQFOAFGARgCKy6IAIlA5MxTACaDqrg6F6nqt7Y516l+e+2gVYLlRCNCGshCgDa7db/Cox4IAKlJGO1qAEbBD5rSAQwiV/T8KUIbbQS8UYAGR9XsBS4TVXw8/mJkgA+v3AZbb2vz3AiDAxn8uHgJAgDMcoAW06V3NhkBvz29z3HFXbTUTQIBBOAEBBklUq21CgFbIDrIuBBgkUa22CQFaITvIuqslgHp5572zZs2zd19e/6g7g92vAmoDZU10zt67L68/BFgggAK0uTOIAmQkwFvBXn8UAAU4gwBD4PWbtdq7tI63gr3+wytA7iNRy4Opv4kb/WzBm0C1YmvjJLH7f0bNZoDaB4MAbb4hBAEaDYEoQOYbQbSAswjUVsrhWkBuw8vZILoFWIE8NLSpiVbx8O7vjX/3FqAeGAKsdAaAAFotq1dL2mrvrFAAK2Ki/XIIpAWIwL3tTYuvZ9MCaAFD/ZwcCjD4ZaBRsM6Zcx8AAkjzlTobrHYIVA82+gyQUxQIsBj2ckBBgJUOgSjAXhpuVZyss4vUp6yLzva1pQ0FGEwBSkhzkc+jJ99KlVI7bul69z570Ky4SveU8htik/PGIUDNtAfcCq69XQhQG9H/1kMB2uA60QIqA+tVAGtCouNVhktebjMKAAHSnIAAmVpBAWQRiTGMTkh0vBgUz0dBAVCAXtyzxY2uyOh4NjTqWaMAKEA9NrVcKboio+O1xO6itVEAFKAX92xxoysyOp4NjXrWKAAKUI9NLVeKrsjoeC2xW8UMML9j4gTJqnbR8ZzHK3O3glIWpY5XdEKi49VBybgKBMgDBgGMZGptHp2Q6Hit8UuujwKgAF2IVxI0uiKj45Vg4vZBAVAAN4miFoiuyOh4UTieiYMCoABdiFcSNLoio+OVYOL2+RcZKQC9El5+3wAAAABJRU5ErkJgggAA",xm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABX5JREFUeF7tnT/PVUUQxs9N7C0IrYUWUElCpDN8ChMpaAxGjL2N1NDYGyUQGwpI+BTGTmKClRRQ2BoLe5NLTvjne97d9z6zszt795wfLTM7u88888zsufe9Zzcd6b+fX/ywP9KtFW3riw+/2RU5NnY6yk3NZ4YAjTP/enkIEIPzhAIYgUYBjIAVmqMAhcBZ3VAAI2IogBGwQvPuCqAm+tfffyk8Yh+3Ty9flQL3VgYIIKXJbgQBRMxQgL7PB1AAkahWMxRggZha6Vag12ofNRuEKQAEsFEVAtjwWp01BFhdSm0HggA2vFZnDQFWl1LbgSCAiFfvJ4TqdU88zlszCCAiBgFEoDJmw18DIQAE8CHg9KYFiAC2ehCEAogJoAX4gMp5owAirlYFUCv72//eF3fQxuz79/6VFrYSZfO3AAgQ8zHx0d4CIAAEkKSVFiDBlDUKU4Abj6+Z/tJHTeyFjz7wIeD0fvb8L2kFdVZ4s9j9zx6G5CYkyHwoCKANixDgNQIoAAogSSstQIKJGcAHU96bGUBElhlg4zPAfr9P3gKePfo6SSFV2ndXbiX997/dFqmpmXnj5JTiwuc/Jjew2+1CBvSQIPMJIUD6uggBUAAUIIUALYAWIDVnb2+WgkzT5I3DDMAQmB52tz4ETk/uqEWY7pWD3AKyh/zku23PABAAAqAACQQ28xwABdi6AuTqX5wNvNO5Kj/uOJlen4u/HQWAABsfAiEABEgiQAsI+ZwmJMhZHwZlezAECMlNSBAIME3T1ofAPx/eTH4fIPdxqDqdj26X+z7ExWs/hRRnSJA5SRAgTVUIkPkwZPTKVvcPASBAkiu0ALWEBrdDAVCAbShArlBv//O36W8GBy/4U9u/de582CCewq5r8HlDEAACoAAdZQ0F6Aj+HHrzLcA7G/zx9GnXFH586ZIUv3eis987kHbfwUidDSCALzndWwAK4Eug1xsCOBGkBTgBRAEaASguiwKIQOXMUAAngKq7OhSq67W2O9apf3nuo1WA5UYhQBvKQoA2uHZ/wKMeCwKoSBntaAFGwA6Z0wIOIVT2/yhAGW4HvVCABUTW9wUsEVZ/PfxgZoIMrO8HWG5r8+8LgAAb/7l4CAABTnCAFtCmdzUbAr09v81xx1211UwAAQbhBAQYJFGttgkBWiE7yLoQYJBEtdomBGiF7CDrrpYA6vXO+2TNmmfvvrz+UU8Gu98CagNlTXTO3rsvrz8EWCCAArR5MogCZCTAW8FefxQABTiBAEPg5au12ru0jreCvf7DK0DuJVHLg6m/iRv92YI3gWrF1sZJYvf/jJrNALUPBgHavEMIAjQaAlGAzDuCaAEnEaitlMO1gNyGl7NBdAuwAnloaFMTreLh3d8b/+4tQD0wBFjpDAABtFpWb0vaau+sUAArYqL9cgikBYjAve1Ni7dn0wJoAUP9nBwKMPg10ChYp8x5DgABpPlKnQ1WOwSqBxt9BsgpCgRYDHs5oCDASodAFGAvDbcqTtbZRepT1kVn+9rShgIMpgAlpDnL596Du1Kl1I5but6X179qVlyle0r5DbHJeeMQoGbaAx4F194uBKiN6Kv1UIA2uE60gMrAehXAmpDoeJXhkpfbjAJAgDQnIECmVlAAWURiDKMTEh0vBsXTUVAAFKAX92xxoysyOp4NjXrWKAAKUI9NLVeKrsjoeC2xO2ttFAAF6MU9W9zoioyOZ0OjnjUKgALUY1PLlaIrMjpeS+xWMQPM3zFxgmRVu+h4zuOVuVtBKYtSxys6IdHx6qBkXAUC5AGDAEYytTaPTkh0vNb4JddHAVCALsQrCRpdkdHxSjBx+6AAKICbRFELRFdkdLwoHE/EQQFQgC7EKwkaXZHR8Uowcfu8BJ9aAL2oy5XEAAAAAElFTkSuQmCC";function _m(){const{store:t}=(0,r.useContext)(Gn),[e,n]=(0,r.useState)(0),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(0),[h,d]=(0,r.useState)(0),[u,p]=(0,r.useState)(0),[f,g]=(0,r.useState)(""),m=[fm,gm,mm,vm,ym,xm];function v(t){return"".concat(t,"\xb0C")}async function y(t){const e=t.target.files[0];if(e){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{e(i.result)}}))}(e);a(t),n(6),s(t)}}function x(t){switch(t){case 0:s(fm);break;case 1:s(gm);break;case 2:s(mm);break;case 3:s(vm);break;case 4:s(ym);break;case 5:s(xm);break;case 6:s(o)}n(t)}return(0,r.useEffect)((()=>{t.getAvatar(),console.log(t.avatar)}),[]),(0,r.useEffect)((()=>{s(t.avatar.pic),a(t.avatar.pic),c(t.avatar.speed),d(t.avatar.strength),p(t.avatar.defense),g(t.avatar.favoredMinigame)}),[t.avatar]),(0,mn.jsxs)("div",{id:"map-builder-screen",children:[(0,mn.jsxs)(Bi,{container:!0,spacing:2,children:[(0,mn.jsx)(Bi,{item:!0,xs:11,sx:{bgcolor:"#3A9158",color:"white"},children:(0,mn.jsx)("h1",{children:"Build your character!"})}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:(0,mn.jsx)(fh,{})}),(0,mn.jsx)(Bi,{item:!0,xs:4,children:(0,mn.jsxs)(Bi,{container:!0,spacing:3,children:[(0,mn.jsx)(Bi,{item:!0,xs:12,sx:{textAlign:"center",ml:3},children:(0,mn.jsx)("strong",{children:"Select a premade character or upload your own sprite!"})}),m.map(((t,n)=>(0,mn.jsx)(Bi,{item:!0,xs:4,children:(0,mn.jsx)(ao,{elevation:3,id:"character-"+n,sx:{height:"100%",width:"100%",mb:2,ml:3,backgroundColor:e===n?"lightblue":"white",border:e===n?1:0},onClick:()=>x(n),children:(0,mn.jsx)("img",{src:t,alt:"".concat(n+1),style:{width:"100%",height:"100%",objectFit:"cover"}})})},n))),(0,mn.jsx)(Bi,{item:!0,xs:4,children:(0,mn.jsx)(ao,{elevation:3,id:"character-6",sx:{height:"100%",width:"100%",maxHeight:"50vh",mb:2,ml:3,alignContent:"center",backgroundColor:6===e?"lightblue":"#ffffff",border:6===e?1:0},onClick:()=>{x(6)},children:(0,mn.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[(0,mn.jsx)("label",{htmlFor:"file-upload",children:(0,mn.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAqhJREFUeF7t3eFNW1EQRGFTFE2kBApMCTSRoh4SUiQgAf+yj/Xmo4Fd7xzundkrw9NxHMfFz+wEngAwq/37BwfAtv4AGNcfAABgAqcZ4AGm5WcCx+UHAADsAbYZ4AG29RcDx/UHAADsAaYZ4AGm5RcDx+UHAADsAbYZ4AG29RcDx/UHAADsAaYZ4AGm5RcDx+UHAADsAbYZ4AG29RcDx/UHAADsAaYZ4AGm5RcDx+UfBODX7+cfRX99+TMFxdwVAIDPfAPgy++7E+DkB6ATwAnAA3yYgCvAFbD1V8JcAa4AV4Ar4HsGpAAp4OQTcAW4AlwBroC/ExADxUAx8CMDTODJLZA9ABPIBDKBTCAT+A0DPAAPcPIJ8AA8AA/AA/AAPMD7BGwCbQJtAm0Ch3yvTaAUIAVIAVKAFCAFPEYKuHYnn92e1KvnPAYCoP0yKgDiI8YJcOXr2rE+Ny8PAADcHLKfCrgC0vFfLk4AJ0CKoBMgHb8T4O7jvxY76yP53gPJT4B7f2AAeAzyGOQxyGOQxyCPQY/xGMQD3HsCPAAPwAPwADwAD8AD/I8Bi6DWk9y8ukUQE8gEMoFMIBPIBDKBTKAvh/7DgBRwcx/eFpACpAApQAqQAqQAKUAKkAKkACngGPvn0VKAFCAFSAFSgBQgBUgBUoAUIAWspYD2JeLxqs99N/DxJGg7AkA7/7w6AHIJ2gYA0M4/rw6AXIK2AQC088+rAyCXoG0AAO388+oAyCVoGwBAO/+8OgByCdoGANDOP68OgFyCtgEAtPPPqwMgl6BtAADt/PPqAMglaBsAQDv/vDoAcgnaBgDQzj+vDoBcgrYBALTzz6sDIJegbQAA7fzz6gDIJWgbAEA7/7w6AHIJ2gYA0M4/rw6AXIK2AQC088+rAyCXoG3gDW1Xvp/kdJmPAAAAAElFTkSuQmCC",alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,mn.jsx)("input",{type:"file",label:"Image",name:"myFile",id:"file-upload",accept:".jpeg, .png, .jpg",style:{display:"none"},onChange:t=>y(t)})]})})})]})}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{alignItems:"center",backgroundColor:"white",p:2,mt:1,boxShadow:4},children:[(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)("img",{src:i,alt:"",style:{maxWidth:"40vw",maxHeight:"30vh",objectFit:"cover"}})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)("h3",{children:"Character Stats"})}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"Speed"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"0"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(pm,{id:"slider-speed",value:l,getAriaValueText:v,valueLabelDisplay:"auto",shiftStep:3,step:1,marks:!0,min:0,max:3,onChange:t=>{c(t.target.value)},sx:{width:"80%","& .MuiSlider-thumb":{backgroundColor:"#3A915"}}})}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"3"}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"Strength"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"0"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(pm,{id:"slider-strength",value:h,getAriaValueText:v,valueLabelDisplay:"auto",shiftStep:3,step:1,marks:!0,min:0,max:3,onChange:t=>{d(t.target.value)},sx:{width:"80%"}})}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"3"}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:2,children:"Defense"}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"0"}),(0,mn.jsx)(Bi,{item:!0,xs:6,children:(0,mn.jsx)(pm,{id:"slider-defense",value:u,getAriaValueText:v,valueLabelDisplay:"auto",shiftStep:3,step:1,marks:!0,min:0,max:3,onChange:t=>{p(t.target.value)},sx:{width:"80%"}})}),(0,mn.jsx)(Bi,{item:!0,xs:1,children:"3"}),(0,mn.jsx)(Bi,{item:!0,xs:1}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsxs)(al,{fullWidth:!0,children:[(0,mn.jsx)(nl,{id:"favorite-minigame",children:"Favorite Minigame"}),(0,mn.jsxs)(Mc,{value:f,label:"Favorite Minigame",onChange:t=>{g(t.target.value)},children:[(0,mn.jsx)(sh,{id:"select-medication-matching",value:"Medication Matching",children:"Medication Matching"}),(0,mn.jsx)(sh,{id:"select-heartbeat-rhythm",value:"Heartbeat Rhythm",children:"Heartbeat Rhythm"})]})]})}),(0,mn.jsx)(Bi,{item:!0,xs:12,children:(0,mn.jsx)(Pr,{id:"confirm-changes",sx:[Wm,{color:"white"}],onClick:()=>{console.log(i),t.updateAvatar(i,l,h,u,f)},children:"Confirm Changes"})})]})})]}),(0,mn.jsx)(Qc,{})]})}function bm(){const{store:t}=(0,r.useContext)(Gn);return(0,mn.jsxs)("div",{id:"about-screen",children:[(0,mn.jsxs)(ai,{sx:{height:"90%",width:"90%",display:"flex",flexDirection:"column",position:"absolute",m:5},children:[(0,mn.jsx)(yi,{variant:"h4",gutterBottom:!0,children:"Reports"}),(0,mn.jsx)(ai,{sx:{overflow:"scroll",overflowX:"hidden",width:"95%",height:"80%"},children:(0,mn.jsx)(bl,{sx:{},children:(0,mn.jsx)(Kh,{disablePadding:!0,sx:{bgcolor:"white",mb:2},children:(0,mn.jsxs)(Bi,{container:!0,spacing:2,sx:{alignItems:"center"},children:[(0,mn.jsx)(Bi,{item:!0,xs:10,children:(0,mn.jsx)(yi,{sx:{ml:2},children:(0,mn.jsxs)("p",{children:[(0,mn.jsx)("strong",{children:"Report Against McKillaGorilla"}),(0,mn.jsx)("br",{}),"by Joji John",(0,mn.jsx)("br",{}),(0,mn.jsx)("br",{}),"He plays too much"]})})}),(0,mn.jsxs)(Bi,{item:!0,xs:2,children:[(0,mn.jsx)(Pr,{onClick:e=>{!function(e){t.ignoreReport(e)}(e)},sx:{bgcolor:"red",color:"black",m:1},children:"Ignore"}),(0,mn.jsx)(Pr,{onClick:e=>{!function(e){t.completeReport(e)}(e)},sx:[Wm,{color:"white",m:1}],children:"More Actions"})]})]})})})})]}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}var wm={8851:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(2001),r=n.n(i),s=n(935),o=n.n(s)()(r());o.push([t.id,"/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  white-space: nowrap;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://./Director/Loader.css"],names:[],mappings:"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,8DAA8D;EAC9D,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:["/* Buttons styles start */\r\n\r\nbutton#excalibur-play {\r\n  display: inline-block;\r\n  position: relative;\r\n  z-index: 999;\r\n  border-radius: 6px;\r\n  border: none;\r\n  /*border: 3px solid;\r\n    border-color: white;\r\n    box-shadow: 0 0 10px #ccc;*/\r\n  padding: 1rem 1.5rem 1rem 4rem;\r\n  margin: 0;\r\n  text-decoration: none;\r\n  background: #00b233;\r\n  color: #ffffff;\r\n  font-family: sans-serif;\r\n  font-size: 2rem;\r\n  white-space: nowrap;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  transition: background 250ms ease-in-out, transform 150ms ease;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n\r\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\r\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\r\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\r\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\r\n  animation: excalibur-button-fadein 200ms;\r\n}\r\n\r\n/*\r\nbutton#excalibur-play {\r\n  display: none;\r\n}*/\r\n\r\nbutton#excalibur-play:after {\r\n  position: absolute;\r\n  content: '';\r\n  border: 8px solid;\r\n  border-color: transparent transparent transparent white;\r\n  left: 35px;\r\n  top: 24px;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\nbutton#excalibur-play:before {\r\n  position: absolute;\r\n  content: '';\r\n  border: 3px solid;\r\n  left: 19px;\r\n  top: 14px;\r\n  border-radius: 20px;\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\nbutton#excalibur-play:hover,\r\nbutton#excalibur-play:focus {\r\n  background: #00982c;\r\n}\r\n\r\nbutton#excalibur-play:focus {\r\n  outline: 1px solid #fff;\r\n  outline-offset: -4px;\r\n}\r\n\r\nbutton#excalibur-play:active {\r\n  transform: scale(0.99);\r\n}\r\n\r\n@keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Firefox < 16 */\r\n@-moz-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Safari, Chrome and Opera > 12.1 */\r\n@-webkit-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Internet Explorer */\r\n@-ms-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Opera < 12.1 */\r\n@-o-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const a=o},4296:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(2001),r=n.n(i),s=n(935),o=n.n(s)()(r());o.push([t.id,"\n#ex-toast-container {\n  position: absolute;\n  height: 0;\n  min-width: 50%;\n  left: 50%;\n  top: 0;\n}\n\n.ex-toast-message {\n  left: -50%;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n\n\n  padding: 10px;\n  margin-top: 5px;\n  font-size: 18px;\n  font-family: sans-serif;\n  border-radius: 6px;\n  border: 3px solid #b7b779;\n  background-color: rgb(253, 253, 192);\n}\n\n\n.ex-toast-message button {\n  align-self: flex-start;\n}","",{version:3,sources:["webpack://./Util/Toaster.css"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,SAAS;EACT,cAAc;EACd,SAAS;EACT,MAAM;AACR;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,aAAa;EACb,8BAA8B;;;EAG9B,aAAa;EACb,eAAe;EACf,eAAe;EACf,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,oCAAoC;AACtC;;;AAGA;EACE,sBAAsB;AACxB",sourcesContent:["\r\n#ex-toast-container {\r\n  position: absolute;\r\n  height: 0;\r\n  min-width: 50%;\r\n  left: 50%;\r\n  top: 0;\r\n}\r\n\r\n.ex-toast-message {\r\n  left: -50%;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n\r\n  padding: 10px;\r\n  margin-top: 5px;\r\n  font-size: 18px;\r\n  font-family: sans-serif;\r\n  border-radius: 6px;\r\n  border: 3px solid #b7b779;\r\n  background-color: rgb(253, 253, 192);\r\n}\r\n\r\n\r\n.ex-toast-message button {\r\n  align-self: flex-start;\r\n}"],sourceRoot:""}]);const a=o},935:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i="undefined"!==typeof e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"===typeof t&&(t=[[null,t,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);i&&o[h[0]]||("undefined"!==typeof s&&("undefined"===typeof h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),e.push(h))}},e}},2001:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"===typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(r," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},9493:(t,e,n)=>{n(3975);var i=n(2564);t.exports=i("Array","sort")},311:(t,e,n)=>{n(8291);var i=n(9120);t.exports=i.Object.keys},4977:(t,e,n)=>{var i=n(4188),r=n(3174),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not a function")}},3770:(t,e,n)=>{var i=n(831),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not an object")}},1458:(t,e,n)=>{var i=n(380),r=n(675),s=n(9389),o=function(t){return function(e,n,o){var a=i(e),l=s(a);if(0===l)return!t&&-1;var c,h=r(o,l);if(t&&n!==n){for(;l>h;)if((c=a[h++])!==c)return!0}else for(;l>h;h++)if((t||h in a)&&a[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},5397:(t,e,n)=>{var i=n(5234);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},7825:(t,e,n)=>{var i=n(6881);t.exports=i([].slice)},9295:(t,e,n)=>{var i=n(7825),r=Math.floor,s=function(t,e){var n=t.length;if(n<8)for(var o,a,l=1;l<n;){for(a=l,o=t[l];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==l++&&(t[a]=o)}else for(var c=r(n/2),h=s(i(t,0,c),e),d=s(i(t,c),e),u=h.length,p=d.length,f=0,g=0;f<u||g<p;)t[f+g]=f<u&&g<p?e(h[f],d[g])<=0?h[f++]:d[g++]:f<u?h[f++]:d[g++];return t};t.exports=s},8689:(t,e,n)=>{var i=n(6881),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},5438:(t,e,n)=>{var i=n(9345),r=n(4188),s=n(8689),o=n(4282)("toStringTag"),a=Object,l="Arguments"===s(function(){return arguments}());t.exports=i?s:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=a(t),o))?n:l?s(e):"Object"===(i=s(e))&&r(e.callee)?"Arguments":i}},8657:(t,e,n)=>{var i=n(4418),r=n(3168),s=n(9304),o=n(4466);t.exports=function(t,e,n){for(var a=r(e),l=o.f,c=s.f,h=0;h<a.length;h++){var d=a[h];i(t,d)||n&&i(n,d)||l(t,d,c(e,d))}}},8088:(t,e,n)=>{var i=n(6893),r=n(4466),s=n(9123);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9123:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7509:(t,e,n)=>{var i=n(4188),r=n(4466),s=n(4530),o=n(4798);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&s(n,c,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(h){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},4798:(t,e,n)=>{var i=n(1488),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},1305:(t,e,n)=>{var i=n(3174),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw new r("Cannot delete property "+i(e)+" of "+i(t))}},6893:(t,e,n)=>{var i=n(5234);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},5926:(t,e,n)=>{var i=n(1488),r=n(831),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},8807:(t,e,n)=>{var i=n(4109).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},5661:(t,e,n)=>{var i=n(4109);t.exports=/MSIE|Trident/.test(i)},4109:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3749:(t,e,n)=>{var i,r,s=n(1488),o=n(4109),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,h=c&&c.v8;h&&(r=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},3589:(t,e,n)=>{var i=n(4109).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},2564:(t,e,n)=>{var i=n(1488),r=n(6881);t.exports=function(t,e){return r(i[t].prototype[e])}},1274:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5613:(t,e,n)=>{var i=n(1488),r=n(9304).f,s=n(8088),o=n(7509),a=n(4798),l=n(8657),c=n(8489);t.exports=function(t,e){var n,h,d,u,p,f=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[f]||a(f,{}):i[f]&&i[f].prototype)for(h in e){if(u=e[h],d=t.dontCallGetSet?(p=r(n,h))&&p.value:n[h],!c(g?h:f+(m?".":"#")+h,t.forced)&&void 0!==d){if(typeof u==typeof d)continue;l(u,d)}(t.sham||d&&d.sham)&&s(u,"sham",!0),o(n,h,u,t)}}},5234:t=>{t.exports=function(t){try{return!!t()}catch(e){return!0}}},9055:(t,e,n)=>{var i=n(5234);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9944:(t,e,n)=>{var i=n(9055),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},2735:(t,e,n)=>{var i=n(6893),r=n(4418),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},6881:(t,e,n)=>{var i=n(9055),r=Function.prototype,s=r.call,o=i&&r.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},5604:(t,e,n)=>{var i=n(1488),r=n(4188);t.exports=function(t,e){return arguments.length<2?(n=i[t],r(n)?n:void 0):i[t]&&i[t][e];var n}},2913:(t,e,n)=>{var i=n(4977),r=n(4318);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},1488:function(t,e,n){var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4418:(t,e,n)=>{var i=n(6881),r=n(3628),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},7588:t=>{t.exports={}},9622:(t,e,n)=>{var i=n(6893),r=n(5234),s=n(5926);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7568:(t,e,n)=>{var i=n(6881),r=n(5234),s=n(8689),o=Object,a=i("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},3029:(t,e,n)=>{var i=n(6881),r=n(4188),s=n(2694),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},3086:(t,e,n)=>{var i,r,s,o=n(5945),a=n(1488),l=n(831),c=n(8088),h=n(4418),d=n(2694),u=n(168),p=n(7588),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(o||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,i=function(t,e){if(v.has(t))throw new g(f);return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var y=u("state");p[y]=!0,i=function(t,e){if(h(t,y))throw new g(f);return e.facade=t,c(t,y,e),e},r=function(t){return h(t,y)?t[y]:{}},s=function(t){return h(t,y)}}t.exports={set:i,get:r,has:s,enforce:function(t){return s(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},4188:t=>{var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},8489:(t,e,n)=>{var i=n(5234),r=n(4188),s=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n===h||n!==c&&(r(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},4318:t=>{t.exports=function(t){return null===t||void 0===t}},831:(t,e,n)=>{var i=n(4188);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1942:t=>{t.exports=!1},6032:(t,e,n)=>{var i=n(5604),r=n(4188),s=n(4578),o=n(9809),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,a(t))}},9389:(t,e,n)=>{var i=n(7611);t.exports=function(t){return i(t.length)}},4530:(t,e,n)=>{var i=n(6881),r=n(5234),s=n(4188),o=n(4418),a=n(6893),l=n(2735).CONFIGURABLE,c=n(3029),h=n(3086),d=h.enforce,u=h.get,p=String,f=Object.defineProperty,g=i("".slice),m=i("".replace),v=i([].join),y=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),x=String(String).split("String"),_=t.exports=function(t,e,n){"Symbol("===g(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&o(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=d(t);return o(i,"source")||(i.source=v(x,"string"==typeof e?e:"")),t};Function.prototype.toString=_((function(){return s(this)&&u(this).source||c(this)}),"toString")},142:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},4466:(t,e,n)=>{var i=n(6893),r=n(9622),s=n(3315),o=n(3770),a=n(2344),l=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",u="configurable",p="writable";e.f=i?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var i=h(t,e);i&&i[p]&&(t[e]=n.value,n={configurable:u in n?n[u]:i[u],enumerable:d in n?n[d]:i[d],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(o(t),e=a(e),o(n),r)try{return c(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},9304:(t,e,n)=>{var i=n(6893),r=n(9944),s=n(4416),o=n(9123),a=n(380),l=n(2344),c=n(4418),h=n(9622),d=Object.getOwnPropertyDescriptor;e.f=i?d:function(t,e){if(t=a(t),e=l(e),h)try{return d(t,e)}catch(n){}if(c(t,e))return o(!r(s.f,t,e),t[e])}},5629:(t,e,n)=>{var i=n(1843),r=n(1274).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},156:(t,e)=>{e.f=Object.getOwnPropertySymbols},4578:(t,e,n)=>{var i=n(6881);t.exports=i({}.isPrototypeOf)},1843:(t,e,n)=>{var i=n(6881),r=n(4418),s=n(380),o=n(1458).indexOf,a=n(7588),l=i([].push);t.exports=function(t,e){var n,i=s(t),c=0,h=[];for(n in i)!r(a,n)&&r(i,n)&&l(h,n);for(;e.length>c;)r(i,n=e[c++])&&(~o(h,n)||l(h,n));return h}},7137:(t,e,n)=>{var i=n(1843),r=n(1274);t.exports=Object.keys||function(t){return i(t,r)}},4416:(t,e)=>{var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},2287:(t,e,n)=>{var i=n(9944),r=n(4188),s=n(831),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!s(a=i(n,t)))return a;if(r(n=t.valueOf)&&!s(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!s(a=i(n,t)))return a;throw new o("Can't convert object to primitive value")}},3168:(t,e,n)=>{var i=n(5604),r=n(6881),s=n(5629),o=n(156),a=n(3770),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?l(e,n(t)):e}},9120:(t,e,n)=>{var i=n(1488);t.exports=i},9509:(t,e,n)=>{var i=n(4318),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},168:(t,e,n)=>{var i=n(746),r=n(6209),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},2694:(t,e,n)=>{var i=n(1942),r=n(1488),s=n(4798),o="__core-js_shared__",a=t.exports=r[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.36.1",mode:i?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},746:(t,e,n)=>{var i=n(2694);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},8944:(t,e,n)=>{var i=n(3749),r=n(5234),s=n(1488).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},675:(t,e,n)=>{var i=n(6744),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},380:(t,e,n)=>{var i=n(7568),r=n(9509);t.exports=function(t){return i(r(t))}},6744:(t,e,n)=>{var i=n(142);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},7611:(t,e,n)=>{var i=n(6744),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},3628:(t,e,n)=>{var i=n(9509),r=Object;t.exports=function(t){return r(i(t))}},290:(t,e,n)=>{var i=n(9944),r=n(831),s=n(6032),o=n(2913),a=n(2287),l=n(4282),c=TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,l=o(t,h);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||s(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2344:(t,e,n)=>{var i=n(290),r=n(6032);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},9345:(t,e,n)=>{var i={};i[n(4282)("toStringTag")]="z",t.exports="[object z]"===String(i)},2618:(t,e,n)=>{var i=n(5438),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},3174:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},6209:(t,e,n)=>{var i=n(6881),r=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},9809:(t,e,n)=>{var i=n(8944);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3315:(t,e,n)=>{var i=n(6893),r=n(5234);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5945:(t,e,n)=>{var i=n(1488),r=n(4188),s=i.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},4282:(t,e,n)=>{var i=n(1488),r=n(746),s=n(4418),o=n(6209),a=n(8944),l=n(9809),c=i.Symbol,h=r("wks"),d=l?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(c,t)?c[t]:d("Symbol."+t)),h[t]}},3975:(t,e,n)=>{var i=n(5613),r=n(6881),s=n(4977),o=n(3628),a=n(9389),l=n(1305),c=n(2618),h=n(5234),d=n(9295),u=n(5397),p=n(8807),f=n(5661),g=n(3749),m=n(3589),v=[],y=r(v.sort),x=r(v.push),_=h((function(){v.sort(void 0)})),b=h((function(){v.sort(null)})),w=u("sort"),A=!h((function(){if(g)return g<70;if(!(p&&p>3)){if(f)return!0;if(m)return m<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)v.push({k:e+i,v:n})}for(v.sort((function(t,e){return e.v-t.v})),i=0;i<v.length;i++)e=v[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:_||!b||!w||!A},{sort:function(t){void 0!==t&&s(t);var e=o(this);if(A)return void 0===t?y(e):y(e,t);var n,i,r=[],h=a(e);for(i=0;i<h;i++)i in e&&x(r,e[i]);for(d(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=a(r),i=0;i<n;)e[i]=r[i++];for(;i<h;)l(e,i++);return e}})},8291:(t,e,n)=>{var i=n(5613),r=n(3628),s=n(7137);i({target:"Object",stat:!0,forced:n(5234)((function(){s(1)}))},{keys:function(t){return s(r(t))}})}},Am={};function Sm(t){var e=Am[t];if(void 0!==e)return e.exports;var n=Am[t]={id:t,exports:{}};return wm[t].call(n.exports,n,n.exports,Sm),n.exports}Sm.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Sm.d(e,{a:e}),e},Sm.d=(t,e)=>{for(var n in e)Sm.o(e,n)&&!Sm.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Sm.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Gm){if("object"===typeof window)return window}}(),Sm.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Sm.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var Cm={};(()=>{Sm.d(Cm,{eKr:()=>Me,yVm:()=>Pi,a7j:()=>si,U_w:()=>Ts,JF2:()=>Ie,htg:()=>Ri,HXL:()=>Tr,mcg:()=>Ce,Agj:()=>Di,u6S:()=>Hn,x7M:()=>H,X55:()=>Zn,m3M:()=>Qn,aE5:()=>Yn,YJU:()=>Kn,eZi:()=>mr,GNv:()=>Nt,Y56:()=>jr,_0v:()=>Gi,vhs:()=>pi,Z8b:()=>Ai,Yfw:()=>Un,IcQ:()=>B,Rl2:()=>tn,kgJ:()=>cs,GTT:()=>hs,ypY:()=>Dr,i7d:()=>Ji,fQ3:()=>Zi,HlI:()=>Wt,jlt:()=>ni,VQc:()=>In,zD7:()=>fs,I0I:()=>Pn,AUF:()=>Rn,JoF:()=>_n,MlA:()=>zn,PZh:()=>Mn,qA:()=>Ae,CrD:()=>pn,dQK:()=>un,D3r:()=>Fn,Qpo:()=>be,D9n:()=>_e,b6v:()=>we,mvh:()=>xr,Bpo:()=>Ze,Q1f:()=>C,IKv:()=>ss,fcV:()=>ns,Glf:()=>rs,uAl:()=>ln,ElT:()=>kn,MPu:()=>_r,Z8r:()=>I,QSL:()=>vr,sPV:()=>xe,nAn:()=>nn,zCU:()=>ye,QrV:()=>Je,fF9:()=>Ys,xI8:()=>Ee,yar:()=>jn,SP7:()=>os,oRy:()=>Ni,f5X:()=>Er,V1c:()=>at,Mlx:()=>ds,ZCo:()=>Ue,Vy3:()=>Cn,J5p:()=>us,mL_:()=>Nn,Guw:()=>Ci,VKx:()=>En,N5j:()=>Ye,pgY:()=>Ei,OP3:()=>gi,rl5:()=>_s,eod:()=>xs,q5Z:()=>jt,YUC:()=>vn,saR:()=>xn,hvr:()=>oo,Qol:()=>wi,Wf4:()=>bi,JCs:()=>ri,gJV:()=>Dn,fWD:()=>Qi,Va_:()=>rr,N$8:()=>As,_jQ:()=>bs,rxj:()=>Pe,rhv:()=>Te,wCu:()=>Xn,HAp:()=>qn,Zy1:()=>ar,Qev:()=>Ss,bkB:()=>h,wfL:()=>Xt,sVA:()=>e,$Gs:()=>Vt,CJ0:()=>Dt,NWh:()=>Mt,tWi:()=>Re,xAj:()=>ke,zWh:()=>Si,i_4:()=>Ks,iIx:()=>a,c9e:()=>ki,KQV:()=>Bi,weH:()=>Mi,jXp:()=>Vs,zzY:()=>fi,yRQ:()=>di,MtE:()=>ps,rPj:()=>as,KLc:()=>c,Fir:()=>Qt,V5f:()=>Jt,Xj7:()=>$t,Wud:()=>Fr,FVg:()=>pe,g5Y:()=>ue,YQB:()=>he,KPb:()=>de,nHK:()=>Br,TX_:()=>zs,r3n:()=>Hr,vYh:()=>Y,hnk:()=>ti,D2R:()=>Jn,n1o:()=>Cr,RLG:()=>ge,fBU:()=>An,Adb:()=>J,bEs:()=>rt,wCy:()=>it,CbD:()=>$,x_C:()=>Se,pde:()=>i,pGf:()=>Zr,ibQ:()=>Lr,QlN:()=>en,shR:()=>Pr,Yjk:()=>Rr,_u1:()=>ks,OBI:()=>Es,klh:()=>Nr,s3S:()=>Ur,D$R:()=>Or,xth:()=>Kt,JU7:()=>Cs,h9x:()=>Yi,N1A:()=>Zs,e_k:()=>Tn,aHM:()=>Qe,tlv:()=>ze,Vi9:()=>Xi,ieR:()=>qi,$bb:()=>k,VyI:()=>R,imn:()=>Tt,uqu:()=>U,QnL:()=>P,vnc:()=>Be,wk_:()=>Ti,GH0:()=>dn,_1r:()=>gr,l0X:()=>li,HHX:()=>ci,tjk:()=>Xr,rWe:()=>Fe,j9l:()=>De,NVp:()=>Sn,cPK:()=>cn,XoL:()=>Ir,RmF:()=>fn,DXI:()=>zi,tCD:()=>Ps,oGn:()=>Ws,J3D:()=>wr,vCJ:()=>Ar,f9l:()=>sr,AQx:()=>bn,v9m:()=>ls,yRJ:()=>Mr,EU6:()=>Gr,m3O:()=>Qr,Ryz:()=>ii,OxP:()=>Wr,LEs:()=>Yr,Ec:()=>s,Pi5:()=>kr,gmH:()=>Kr,tS:()=>Js,XxX:()=>On,bCz:()=>Et,nYS:()=>ve,yiT:()=>se,NHl:()=>ee,mO8:()=>ce,PXI:()=>Zt,bn5:()=>ie,Ywr:()=>ae,cMd:()=>me,Bs6:()=>re,G0k:()=>te,pyn:()=>le,QeM:()=>Yt,aPX:()=>Jr,ITP:()=>ne,BY0:()=>oe,MFw:()=>gn,sBn:()=>wt,S3L:()=>Rs,XKQ:()=>lr,ESI:()=>hr,uxz:()=>Ki,o8N:()=>u,u_r:()=>Ht,RlV:()=>yn,gVA:()=>yr,M_G:()=>ei,GRB:()=>Vn,kM6:()=>oi,dO8:()=>ai,jgM:()=>Ot,FWq:()=>q,s3j:()=>G,hlw:()=>vi,B7e:()=>mi,H_X:()=>hi,S_d:()=>xi,U7E:()=>yi,Z58:()=>es,yh2:()=>$r,ff$:()=>zt,cWi:()=>M,NBt:()=>Oi,oNz:()=>Lt,QlU:()=>is,Xey:()=>ws,jft:()=>so,Mtr:()=>gt,ypk:()=>Ln,mnM:()=>T,bAZ:()=>$e,ABN:()=>Le,VK6:()=>Oe,kxk:()=>Z,DT1:()=>st,FLG:()=>ot,qN_:()=>gs,Z37:()=>Gt,FtL:()=>Vi,Z6X:()=>Hs,iQT:()=>or,ziO:()=>ur,OEF:()=>nr,uuE:()=>ir,tiv:()=>cr,T$Y:()=>ms,EYj:()=>Fi,nOB:()=>ui,Tap:()=>nt,FAs:()=>Wi,B_P:()=>Hi,aA5:()=>Ui,M4G:()=>Li,l$l:()=>ys,dLy:()=>on,WZP:()=>hn,eB6:()=>Qs,nFK:()=>mn,l9z:()=>er,YOF:()=>$i,yhB:()=>p,J0N:()=>r,Miz:()=>A,Bj4:()=>rn,Rcs:()=>mt,vJ4:()=>vt,TqC:()=>wn,nM0:()=>fe,X1u:()=>Ut,SpZ:()=>qt,DX8:()=>qr,Yx$:()=>Vr,HK4:()=>pr,SE$:()=>v,qE8:()=>m,Pz7:()=>Xs,sX_:()=>l,JuI:()=>f,Nl$:()=>$n,OwT:()=>Ms,P$G:()=>js,mHV:()=>Fs,Fx_:()=>Ls,WFC:()=>Os,aDq:()=>Is,jIg:()=>Ds,UH3:()=>Bs,K6X:()=>Wn,C1Y:()=>an,Aw1:()=>Ne,A8$:()=>Gn,hsx:()=>ts,l9E:()=>ji,aSf:()=>dr,Zex:()=>$s,mXP:()=>io,vt$:()=>tt,hCA:()=>et,pjR:()=>Rt,U43:()=>b,pSZ:()=>w,y17:()=>_,jVr:()=>eo,_SZ:()=>g,xWn:()=>y,ehJ:()=>x,t6s:()=>S,Eyn:()=>t});var t={};Sm.r(t),Sm.d(t,{getAttributeComponentSize:()=>pt,getAttributePointerType:()=>ft,getGLTypeFromSource:()=>ut,getGlTypeSizeBytes:()=>ht,isAttributeInSource:()=>dt});var e={};Sm.r(e),Sm.d(e,{ActionCompleteEvent:()=>Me,ActionStartEvent:()=>Ie,ActivateEvent:()=>Ce,CollisionEndEvent:()=>Ae,CollisionPostSolveEvent:()=>be,CollisionPreSolveEvent:()=>_e,CollisionStartEvent:()=>we,ContactEndEvent:()=>xe,ContactStartEvent:()=>ye,DeactivateEvent:()=>Ee,EnterTriggerEvent:()=>Pe,EnterViewPortEvent:()=>Te,EventTypes:()=>Xt,ExitTriggerEvent:()=>Re,ExitViewPortEvent:()=>ke,GameEvent:()=>Qt,GameStartEvent:()=>Jt,GameStopEvent:()=>$t,GamepadAxisEvent:()=>pe,GamepadButtonEvent:()=>ue,GamepadConnectEvent:()=>he,GamepadDisconnectEvent:()=>de,HiddenEvent:()=>ge,InitializeEvent:()=>Se,KillEvent:()=>Kt,PostCollisionEvent:()=>ve,PostDebugDrawEvent:()=>se,PostDrawEvent:()=>ee,PostFrameEvent:()=>ce,PostKillEvent:()=>Zt,PostTransformDrawEvent:()=>ie,PostUpdateEvent:()=>ae,PreCollisionEvent:()=>me,PreDebugDrawEvent:()=>re,PreDrawEvent:()=>te,PreFrameEvent:()=>le,PreKillEvent:()=>Yt,PreTransformDrawEvent:()=>ne,PreUpdateEvent:()=>oe,VisibleEvent:()=>fe});var n={};Sm.r(n),Sm.d(n,{circle:()=>qe,line:()=>He,point:()=>We,roundRect:()=>Ge,vector:()=>Ve});var i={};Sm.r(i),Sm.d(i,{Axes:()=>jr,Buttons:()=>Dr,Gamepad:()=>Fr,Gamepads:()=>Br,KeyEvent:()=>Nr,Keyboard:()=>Ur,Keys:()=>Or,NativePointerButton:()=>Xr,PointerButton:()=>Qr,PointerComponent:()=>ii,PointerEvent:()=>Wr,PointerEventReceiver:()=>Yr,PointerScope:()=>s,PointerSystem:()=>kr,PointerType:()=>Kr,WheelDeltaMode:()=>qr,WheelEvent:()=>Vr});var r={};Sm.r(r),Sm.d(r,{ConsoleAppender:()=>I,DrawUtil:()=>n,EasingFunctions:()=>ri,LogLevel:()=>k,Logger:()=>R,Observable:()=>cn,ScreenAppender:()=>M,addItemToArray:()=>D,contains:()=>O,delay:()=>z,fail:()=>L,getPosition:()=>F,omit:()=>N,removeItemFromArray:()=>j});var s;Sm(9493),Sm(311);function o(){if("undefined"===typeof window&&(window={audioContext:function(){}}),"undefined"===typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setInterval(t,1e3/60)}),"undefined"===typeof window||window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){}),"undefined"!==typeof window&&!window.AudioContext){if(window.webkitAudioContext){const t=window.webkitAudioContext.prototype.decodeAudioData;window.webkitAudioContext.prototype.decodeAudioData=function(e){return new Promise(((n,i)=>{t.call(this,e,n,i)}))}}window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext}"undefined"===typeof window||window.devicePixelRatio||(window.devicePixelRatio=window.devicePixelRatio||1)}class a{static useCanvasGraphicsContext(){a.enable("use-canvas-context")}static freeze(){a._FROZEN=!0}static _reset(){a._FROZEN=!1,a._FLAGS={}}static enable(t){if(this._FROZEN)throw Error("Feature flags can only be enabled before Engine constructor time");a._FLAGS[t]=!0}static disable(t){if(this._FROZEN)throw Error("Feature flags can only be disabled before Engine constructor time");a._FLAGS[t]=!1}static isEnabled(t){return!!a._FLAGS[t]}static show(){return Object.keys(a._FLAGS)}}function l(t,e){return{type:t,value:e}}a._FROZEN=!1,a._FLAGS={};class c{constructor(){this._isCompleted=!1,this.promise=new Promise(((t,e)=>{this._resolver=t,this._rejecter=e}))}get isCompleted(){return this._isCompleted}resolve(t){this._isCompleted||(this._isCompleted=!0,this._resolver(t))}reject(t){this._isCompleted||(this._isCompleted=!0,this._rejecter(t))}}class h{constructor(){this._paused=!1,this._listeners={},this._listenersOnce={},this._pipes=[]}clear(){this._listeners={},this._listenersOnce={},this._pipes.length=0}on(t,e){var n;return this._listeners[t]=null!==(n=this._listeners[t])&&void 0!==n?n:[],this._listeners[t].push(e),{close:()=>this.off(t,e)}}once(t,e){var n;return this._listenersOnce[t]=null!==(n=this._listenersOnce[t])&&void 0!==n?n:[],this._listenersOnce[t].push(e),{close:()=>this.off(t,e)}}off(t,e){var n,i;if(e){const r=null===(n=this._listeners[t])||void 0===n?void 0:n.filter((t=>t!==e));this._listeners[t]=r;const s=null===(i=this._listenersOnce[t])||void 0===i?void 0:i.filter((t=>t!==e));this._listenersOnce[t]=s}else delete this._listeners[t]}emit(t,e){var n;if(this._paused)return;null===(n=this._listeners[t])||void 0===n||n.forEach((t=>t(e)));const i=this._listenersOnce[t];this._listenersOnce[t]=[],i&&i.forEach((t=>t(e))),this._pipes.forEach((n=>{n.emit(t,e)}))}pipe(t){if(this===t)throw Error("Cannot pipe to self");return this._pipes.push(t),{close:()=>{const e=this._pipes.indexOf(t);e>-1&&this._pipes.splice(e,1)}}}unpipe(t){const e=this._pipes.indexOf(t);e>-1&&this._pipes.splice(e,1)}pause(){this._paused=!0}unpause(){this._paused=!1}}!function(t){t.Canvas="Canvas",t.Document="Document"}(s||(s={}));const d=4294967295;class u{constructor(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(let e=1;e<this._n;e++){const t=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&t)>>>16)<<16)+this._f*(65535&t)+e>>>0}this._index=this._n}_twist(){const t=[0,this._a];let e=0,n=0;for(;n<this._n-this._m;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+this._m]^e>>>1^t[1&e]&d;for(;n<this._n-1;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+(this._m-this._n)]^e>>>1^t[1&e]&d;e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^t[1&e]&d,this._index=0}nextInt(){this._index>=this._n&&this._twist();let t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,t^=t>>>this._l,t>>>0}next(){return this.nextInt()*(1/4294967296)}floating(t,e){return(e-t)*this.next()+t}integer(t,e){return Math.floor((e-t+1)*this.next()+t)}bool(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return this.next()<=t}pickOne(t){return t[this.integer(0,t.length-1)]}pickSet(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)}_pickSetWithoutDuplicates(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;const n=new Array(e);let i=0;const r=t.slice(0);for(;i<e;){const t=this.integer(0,r.length-1);n[i++]=r[t],r.splice(t,1)}return n}_pickSetWithDuplicates(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");const n=new Array(e);for(let i=0;i<e;i++)n[i]=this.pickOne(t);return n}shuffle(t){const e=t.slice(0);let n=null;for(let i=0;i<e.length-2;i++){const t=this.integer(i,e.length-1);n=e[i],e[i]=e[t],e[t]=n}return e}range(t,e,n){const i=new Array(t);for(let r=0;r<t;r++)i[r]=this.integer(e,n);return i}d4(){return this.integer(1,4)}d6(){return this.integer(1,6)}d8(){return this.integer(1,8)}d10(){return this.integer(1,10)}d12(){return this.integer(1,12)}d20(){return this.integer(1,20)}}const p=2*Math.PI;function f(t){return t>=0?t-Math.floor(t):t-Math.ceil(t)}function g(t){return 0===t?0:t<0?-1:1}function m(t,e,n){return Math.min(Math.max(e,t),n)}function v(t){let e=t;if(t>p)for(;e>p;)e-=p;if(t<0)for(;e<0;)e+=p;return e}function y(t){return 180/Math.PI*t}function x(t){return t/180*Math.PI}const _=(t,e)=>Array.from(new Array(e-t+1),((e,n)=>n+t));function b(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u;return n?n.floating(t,e):t+Math.random()*(e-t)}function w(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u;return n?n.integer(t,e):Math.round(b(t,e))}class A{static get Zero(){return new A(0,0)}static get One(){return new A(1,1)}static get Half(){return new A(.5,.5)}static get Up(){return new A(0,-1)}static get Down(){return new A(0,1)}static get Left(){return new A(-1,0)}static get Right(){return new A(1,0)}static fromAngle(t){return new A(Math.cos(t),Math.sin(t))}static isValid(t){return null!==t&&void 0!==t&&(!isNaN(t.x)&&!isNaN(t.y)&&(t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0))}static distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}static min(t,e){return new A(Math.min(t.x,e.x),Math.min(t.y,e.y))}static max(t,e){return new A(Math.max(t.x,e.x),Math.max(t.y,e.y))}constructor(t,e){this._x=0,this._y=0,this._x=t,this._y=e}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}setTo(t,e){this.x=t,this.y=e}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.EQUALS_EPSILON;return Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e}distance(t){if(!t)return Math.sqrt(this.x*this.x+this.y*this.y);const e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}squareDistance(t){t||(t=A.Zero);const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}clampMagnitude(t){const e=m(this.size,0,t);return this.size=e,this}get size(){return this.distance()}set size(t){const e=this.normalize().scale(t);this.setTo(e.x,e.y)}normalize(){const t=this.distance();return t>0?new A(this.x/t,this.y/t):new A(0,1)}average(t){return this.add(t).scale(.5)}scale(t,e){const n=e||new A(0,0);return t instanceof A?(n.x=this.x*t.x,n.y=this.y*t.y):(n.x=this.x*t,n.y=this.y*t),n}add(t,e){return e?(e.x=this.x+t.x,e.y=this.y+t.y,e):new A(this.x+t.x,this.y+t.y)}sub(t){return new A(this.x-t.x,this.y-t.y)}addEqual(t){return this.setTo(this.x+t.x,this.y+t.y),this}subEqual(t){return this.setTo(this.x-t.x,this.y-t.y),this}scaleEqual(t){return this.setTo(this.x*t,this.y*t),this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return t instanceof A?this.x*t.y-this.y*t.x:"number"===typeof t?new A(t*this.y,-t*this.x):void 0}static cross(t,e){return new A(-t*e.y,t*e.x)}perpendicular(){return new A(this.y,-this.x)}normal(){return this.perpendicular().normalize()}negate(){return this.scale(-1)}toAngle(){return Math.atan2(this.y,this.x)}rotate(t,e){e||(e=new A(0,0));const n=Math.sin(t),i=Math.cos(t),r=i*(this.x-e.x)-n*(this.y-e.y)+e.x,s=n*(this.x-e.x)+i*(this.y-e.y)+e.y;return new A(r,s)}clone(t){const e=null!==t&&void 0!==t?t:new A(0,0);return e.x=this.x,e.y=this.y,e}toString(t){return t?"(".concat(this.x.toFixed(t),", ").concat(this.y.toFixed(t),")"):"(".concat(this.x,", ").concat(this.y,")")}}function S(t,e){return new A(t,e)}A.EQUALS_EPSILON=.001;class C{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=null!=i?i:1}static fromRGB(t,e,n,i){return new C(t,e,n,i)}static fromRGBString(t){let e=null;if(e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)/i)){const t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10);let r=1;return e[4]&&(r=parseFloat(e[4])),new C(t,n,i,r)}throw new Error("Invalid rgb/a string: "+t)}static fromHex(t){let e=null;if(e=t.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){const t=parseInt(e[1],16),n=parseInt(e[2],16),i=parseInt(e[3],16);let r=1;return e[4]&&(r=parseInt(e[4],16)/255),new C(t,n,i,r)}throw new Error("Invalid hex string: "+t)}static fromHSL(t,e,n){return new E(t,e,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1).toRGBA()}lighten(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;const e=E.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=(1-e.l)*t,e.toRGBA()}darken(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;const e=E.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()}saturate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;const e=E.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()}desaturate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;const e=E.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()}multiply(t){const e=t.r/255*this.r/255*255,n=t.g/255*this.g/255*255,i=t.b/255*this.b/255*255,r=t.a*this.a;return new C(e,n,i,r)}screen(t){const e=t.invert(),n=t.invert();return e.multiply(n).invert()}invert(){return new C(255-this.r,255-this.g,255-this.b,1-this.a)}average(t){const e=(t.r+this.r)/2,n=(t.g+this.g)/2,i=(t.b+this.b)/2,r=(t.a+this.a)/2;return new C(e,n,i,r)}equal(t){return this.toString()===t.toString()}toString(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb"){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}}_componentToHex(t){const e=Math.max(Math.round(t),0).toString(16);return 1===e.length?"0"+e:e}toHex(){let t="#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b);return 1!==this.a&&(t+=this._componentToHex(255*this.a)),t}toRGBA(){const t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"}toHSLA(){return E.fromRGBA(this.r,this.g,this.b,this.a).toString()}fillStyle(){return this.toString()}clone(){return new C(this.r,this.g,this.b,this.a)}static get Black(){return C.fromHex("#000000")}static get White(){return C.fromHex("#FFFFFF")}static get Gray(){return C.fromHex("#808080")}static get LightGray(){return C.fromHex("#D3D3D3")}static get DarkGray(){return C.fromHex("#A9A9A9")}static get Yellow(){return C.fromHex("#FFFF00")}static get Orange(){return C.fromHex("#FFA500")}static get Red(){return C.fromHex("#FF0000")}static get Vermilion(){return C.fromHex("#FF5B31")}static get Rose(){return C.fromHex("#FF007F")}static get Magenta(){return C.fromHex("#FF00FF")}static get Violet(){return C.fromHex("#7F00FF")}static get Blue(){return C.fromHex("#0000FF")}static get Azure(){return C.fromHex("#007FFF")}static get Cyan(){return C.fromHex("#00FFFF")}static get Viridian(){return C.fromHex("#59978F")}static get Green(){return C.fromHex("#00FF00")}static get Chartreuse(){return C.fromHex("#7FFF00")}static get Transparent(){return C.fromHex("#FFFFFF00")}static get ExcaliburBlue(){return C.fromHex("#176BAA")}}class E{constructor(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i}static hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static fromRGBA(t,e,n,i){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),s=Math.min(t,e,n);let o,a;const l=(r+s)/2;if(r===s)o=a=0;else{const i=r-s;switch(a=l>.5?i/(2-r-s):i/(r+s),r){case t:o=(e-n)/i+(e<n?6:0);break;case e:o=(n-t)/i+2;break;case n:o=(t-e)/i+4}o/=6}return new E(o,a,l,i)}toRGBA(){let t,e,n;if(0===this.s)t=e=n=this.l;else{const i=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,r=2*this.l-i;t=E.hue2rgb(r,i,this.h+1/3),e=E.hue2rgb(r,i,this.h),n=E.hue2rgb(r,i,this.h-1/3)}return new C(255*t,255*e,255*n,this.a)}toString(){const t=this.h.toFixed(0),e=this.s.toFixed(0),n=this.l.toFixed(0),i=this.a.toFixed(0);return"hsla(".concat(t,", ").concat(e,", ").concat(n,", ").concat(i,")")}}var k,T,P;!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(k||(k={}));class R{constructor(){if(this._appenders=[],this.defaultLevel=k.Info,this._logOnceSet=new Set,R._INSTANCE)throw new Error("Logger is a singleton");return R._INSTANCE=this,R._INSTANCE.addAppender(new I),R._INSTANCE}static getInstance(){return null==R._INSTANCE&&(R._INSTANCE=new R),R._INSTANCE}addAppender(t){this._appenders.push(t)}clearAppenders(){this._appenders.length=0}_log(t,e){null==t&&(t=this.defaultLevel);const n=this._appenders.length;for(let i=0;i<n;i++)t>=this.defaultLevel&&this._appenders[i].log(t,e)}_logOnce(t,e){const n=t+e.join("+");this._logOnceSet.has(n)||(this._logOnceSet.add(n),this._log(t,e))}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._log(k.Debug,e)}debugOnce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logOnce(k.Debug,e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._log(k.Info,e)}infoOnce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logOnce(k.Info,e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._log(k.Warn,e)}warnOnce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logOnce(k.Warn,e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._log(k.Error,e)}errorOnce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logOnce(k.Error,e)}fatal(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._log(k.Fatal,e)}fatalOnce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._logOnce(k.Fatal,e)}}R._INSTANCE=null;class I{log(t,e){if(!console&&!console.log&&console.warn&&console.error)return;const n=[];n.unshift.apply(n,e),n.unshift("["+k[t]+"] : "),t<k.Warn?console.log.apply?console.log.apply(console,n):console.log(n.join(" ")):t<k.Error?console.warn.apply?console.warn.apply(console,n):console.warn(n.join(" ")):console.error.apply?console.error.apply(console,n):console.error(n.join(" "))}}class M{constructor(t){var e,n;this._messages=[],this._pos=10,this._color=C.Black,this._options=t,this.canvas=document.createElement("canvas"),this._ctx=this.canvas.getContext("2d"),this.canvas.style.position="absolute",this.canvas.style.zIndex=null!==(n=null===(e=t.zIndex)||void 0===e?void 0:e.toString())&&void 0!==n?n:"99",document.body.appendChild(this.canvas),this._positionScreenAppenderCanvas(),t.engine.screen.events.on("resize",(()=>{this._positionScreenAppenderCanvas()}))}_positionScreenAppenderCanvas(){var t,e,n,i;const r=this._options;this.canvas.width=null!==(t=r.width)&&void 0!==t?t:r.engine.screen.resolution.width,this.canvas.height=null!==(e=r.height)&&void 0!==e?e:r.engine.screen.resolution.height,this.canvas.style.position="absolute";const s=r.engine.screen.screenToPageCoordinates(S(0,0));this.canvas.style.left=s.x+"px",this.canvas.style.top=s.y+"px",this._pos=null!==(n=r.xPos)&&void 0!==n?n:this._pos,this._color=null!==(i=r.color)&&void 0!==i?i:this._color}log(t,e){const n=e.join(",");this._ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._messages.unshift("["+k[t]+"] : "+n);let i=10;this._messages=this._messages.slice(0,1e3);for(let r=0;r<this._messages.length;r++)this._ctx.fillStyle=this._color.toRGBA(),this._ctx.fillText(this._messages[r],this._pos,i),i+=10}}!function(t){t.None="None",t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right"}(T||(T={})),function(t){t.getOpposite=function(e){return e===t.Top?t.Bottom:e===t.Bottom?t.Top:e===t.Left?t.Right:e===t.Right?t.Left:t.None},t.fromDirection=function(e){const n=[A.Left,A.Right,A.Up,A.Down],i=[t.Left,t.Right,t.Top,t.Bottom];let r=-Number.MAX_VALUE,s=-1;for(let t=0;t<n.length;t++)n[t].dot(e)>r&&(r=n[t].dot(e),s=t);return i[s]}}(T||(T={}));class B{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._points=[],"object"===typeof t?(this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom):"number"===typeof t&&(this.left=t,this.top=e,this.right=n,this.bottom=i)}clone(){return new B(this.left,this.top,this.right,this.bottom)}static getSideFromIntersection(t){return t&&t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?T.Right:T.Left:t.y<0?T.Bottom:T.Top:T.None}static fromPoints(t){let e=1/0,n=1/0,i=-1/0,r=-1/0;for(let s=0;s<t.length;s++)t[s].x<e&&(e=t[s].x),t[s].x>i&&(i=t[s].x),t[s].y<n&&(n=t[s].y),t[s].y>r&&(r=t[s].y);return new B(e,n,i,r)}static fromDimension(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Half,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A.Zero;return new B(-t*n.x+i.x,-e*n.y+i.y,t-t*n.x+i.x,e-e*n.y+i.y)}get width(){return this.right-this.left}get height(){return this.bottom-this.top}hasZeroDimensions(){return 0===this.width||0===this.height}get center(){return new A((this.left+this.right)/2,(this.top+this.bottom)/2)}get topLeft(){return new A(this.left,this.top)}get bottomRight(){return new A(this.right,this.bottom)}get topRight(){return new A(this.right,this.top)}get bottomLeft(){return new A(this.left,this.bottom)}translate(t){return new B(this.left+t.x,this.top+t.y,this.right+t.x,this.bottom+t.y)}rotate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;const n=this.getPoints().map((n=>n.rotate(t,e)));return B.fromPoints(n)}scale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;const n=this.translate(e);return new B(n.left*t.x,n.top*t.y,n.right*t.x,n.bottom*t.y)}transform(t){const e=t.data[0]*this.left,n=t.data[1]*this.left,i=t.data[0]*this.right,r=t.data[1]*this.right,s=t.data[2]*this.top,o=t.data[3]*this.top,a=t.data[2]*this.bottom,l=t.data[3]*this.bottom,c=t.getPosition(),h=Math.min(e,i)+Math.min(s,a)+c.x,d=Math.min(n,r)+Math.min(o,l)+c.y,u=Math.max(e,i)+Math.max(s,a)+c.x,p=Math.max(n,r)+Math.max(o,l)+c.y;return new B({left:h,top:d,right:u,bottom:p})}getPerimeter(){return 2*(this.width+this.height)}getPoints(){return this._left===this.left&&this._right===this.right&&this._top===this.top&&this._bottom===this.bottom||(this._points.length=0,this._points.push(new A(this.left,this.top)),this._points.push(new A(this.right,this.top)),this._points.push(new A(this.right,this.bottom)),this._points.push(new A(this.left,this.bottom)),this._left=this.left,this._right=this.right,this._top=this.top,this._bottom=this.bottom),this._points}rayCast(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=-1/0,i=1/0;const r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,s=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,o=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(o,a),i=Math.max(o,a);const l=(this.top-t.pos.y)*s,c=(this.bottom-t.pos.y)*s;return n=Math.max(n,Math.min(l,c)),i=Math.min(i,Math.max(l,c)),i>=Math.max(0,n)&&n<e}rayCastTime(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=-1/0,i=1/0;const r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,s=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,o=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(o,a),i=Math.max(o,a);const l=(this.top-t.pos.y)*s,c=(this.bottom-t.pos.y)*s;return n=Math.max(n,Math.min(l,c)),i=Math.min(i,Math.max(l,c)),i>=Math.max(0,n)&&n<e?n:-1}contains(t){return t instanceof A?this.left<=t.x&&this.top<=t.y&&this.bottom>=t.y&&this.right>=t.x:t instanceof B&&(this.left<=t.left&&this.top<=t.top&&t.bottom<=this.bottom&&t.right<=this.right)}combine(t){return new B(Math.min(this.left,t.left),Math.min(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom))}get dimensions(){return new A(this.width,this.height)}overlaps(t,e){const n=e||0;if(t.hasZeroDimensions())return this.contains(t);if(this.hasZeroDimensions())return t.contains(this);const i=this.combine(t);return i.width+n<t.width+this.width&&i.height+n<t.height+this.height}intersect(t){const e=this.combine(t);if(e.width<t.width+this.width&&e.height<t.height+this.height&&!e.dimensions.equals(t.dimensions)&&!e.dimensions.equals(this.dimensions)){let e=0;e=this.right>=t.left&&this.right<=t.right?t.left-this.right:t.right-this.left;let n=0;return n=this.top<=t.bottom&&this.top>=t.top?t.bottom-this.top:t.top-this.bottom,Math.abs(e)<Math.abs(n)?new A(e,0):new A(0,n)}if(e.dimensions.equals(t.dimensions)||e.dimensions.equals(this.dimensions)){let e=0;e=this.width-t.width>=0?this.right-t.right<=t.left-this.left?t.left-this.right:t.right-this.left:t.right-this.right<=this.left-t.left?this.left-t.right:this.right-t.left;let n=0;return n=this.height-t.height>=0?this.bottom-t.bottom<=t.top-this.top?t.top-this.bottom:t.bottom-this.top:t.bottom-this.bottom<=this.top-t.top?this.top-t.bottom:this.bottom-t.top,Math.abs(e)<Math.abs(n)?new A(e,0):new A(0,n)}return null}intersectWithSide(t){const e=this.intersect(t);return B.getSideFromIntersection(e)}draw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Yellow;t.debug.drawRect(this.left,this.top,this.width,this.height,{color:e})}}function F(t){if(t){const e=t.getBoundingClientRect();return S(e.x+window.scrollX,e.y+window.scrollY)}return A.Zero}function D(t,e){return-1===e.indexOf(t)&&(e.push(t),!0)}function j(t,e){let n=-1;return(n=e.indexOf(t))>-1&&(e.splice(n,1),!0)}function O(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function L(t){throw new Error(t)}function z(t,e){var n;const i=new c;return(null!==(n=null===e||void 0===e?void 0:e.schedule.bind(e))&&void 0!==n?n:setTimeout)((()=>{i.resolve()}),t),i.promise}function N(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}!function(t){t[t.X=12]="X",t[t.Y=13]="Y"}(P||(P={}));class U{constructor(){this.data=new Float32Array(16),this._scaleX=1,this._scaleSignX=1,this._scaleY=1,this._scaleSignY=1}static ortho(t,e,n,i,r,s){const o=new U;return o.data[0]=2/(e-t),o.data[1]=0,o.data[2]=0,o.data[3]=0,o.data[4]=0,o.data[5]=2/(i-n),o.data[6]=0,o.data[7]=0,o.data[8]=0,o.data[9]=0,o.data[10]=-2/(s-r),o.data[11]=0,o.data[12]=-(e+t)/(e-t),o.data[13]=-(i+n)/(i-n),o.data[14]=-(s+r)/(s-r),o.data[15]=1,o}clone(t){const e=t||new U;return e.data[0]=this.data[0],e.data[1]=this.data[1],e.data[2]=this.data[2],e.data[3]=this.data[3],e.data[4]=this.data[4],e.data[5]=this.data[5],e.data[6]=this.data[6],e.data[7]=this.data[7],e.data[8]=this.data[8],e.data[9]=this.data[9],e.data[10]=this.data[10],e.data[11]=this.data[11],e.data[12]=this.data[12],e.data[13]=this.data[13],e.data[14]=this.data[14],e.data[15]=this.data[15],e}toDOMMatrix(){return new DOMMatrix([...this.data])}static fromFloat32Array(t){const e=new U;return e.data=t,e}static identity(){const t=new U;return t.data[0]=1,t.data[1]=0,t.data[2]=0,t.data[3]=0,t.data[4]=0,t.data[5]=1,t.data[6]=0,t.data[7]=0,t.data[8]=0,t.data[9]=0,t.data[10]=1,t.data[11]=0,t.data[12]=0,t.data[13]=0,t.data[14]=0,t.data[15]=1,t}reset(){const t=this;return t.data[0]=1,t.data[1]=0,t.data[2]=0,t.data[3]=0,t.data[4]=0,t.data[5]=1,t.data[6]=0,t.data[7]=0,t.data[8]=0,t.data[9]=0,t.data[10]=1,t.data[11]=0,t.data[12]=0,t.data[13]=0,t.data[14]=0,t.data[15]=1,t}static translation(t,e){const n=U.identity();return n.data[12]=t,n.data[13]=e,n}static scale(t,e){const n=U.identity();return n.data[0]=t,n.data[5]=e,n.data[10]=1,n.data[15]=1,n}static rotation(t){const e=U.identity();return e.data[0]=Math.cos(t),e.data[4]=-Math.sin(t),e.data[1]=Math.sin(t),e.data[5]=Math.cos(t),e}multiply(t,e){if(t instanceof A){const n=e||new A(0,0),i=t,r=i.x*this.data[0]+i.y*this.data[4]+this.data[12],s=i.x*this.data[1]+i.y*this.data[5]+this.data[13];return n.x=r,n.y=s,n}{const n=e||new U,i=t,r=this.data[0],s=this.data[1],o=this.data[2],a=this.data[3],l=this.data[4],c=this.data[5],h=this.data[6],d=this.data[7],u=this.data[8],p=this.data[9],f=this.data[10],m=this.data[11],v=this.data[12],y=this.data[13],x=this.data[14],_=this.data[15],b=i.data[0],w=i.data[1],A=i.data[2],S=i.data[3],C=i.data[4],E=i.data[5],k=i.data[6],T=i.data[7],P=i.data[8],R=i.data[9],I=i.data[10],M=i.data[11],B=i.data[12],F=i.data[13],D=i.data[14],j=i.data[15];n.data[0]=r*b+l*w+u*A+v*S,n.data[1]=s*b+c*w+p*A+y*S,n.data[2]=o*b+h*w+f*A+x*S,n.data[3]=a*b+d*w+m*A+_*S,n.data[4]=r*C+l*E+u*k+v*T,n.data[5]=s*C+c*E+p*k+y*T,n.data[6]=o*C+h*E+f*k+x*T,n.data[7]=a*C+d*E+m*k+_*T,n.data[8]=r*P+l*R+u*I+v*M,n.data[9]=s*P+c*R+p*I+y*M,n.data[10]=o*P+h*R+f*I+x*M,n.data[11]=a*P+d*R+m*I+_*M,n.data[12]=r*B+l*F+u*D+v*j,n.data[13]=s*B+c*F+p*D+y*j,n.data[14]=o*B+h*F+f*D+x*j,n.data[15]=a*B+d*F+m*D+_*j;const O=this.getScale();return n._scaleSignX=g(O.x)*g(n._scaleSignX),n._scaleSignY=g(O.y)*g(n._scaleSignY),n}}translate(t,e){const n=this.data[0],i=this.data[1],r=this.data[2],s=this.data[3],o=this.data[4],a=this.data[5],l=this.data[6],c=this.data[7],h=this.data[8],d=this.data[9],u=this.data[10],p=this.data[11],f=this.data[12],g=this.data[13],m=this.data[14],v=this.data[15];return this.data[12]=n*t+o*e+0*h+1*f,this.data[13]=i*t+a*e+0*d+1*g,this.data[14]=r*t+l*e+0*u+1*m,this.data[15]=s*t+c*e+0*p+1*v,this}setPosition(t,e){this.data[12]=t,this.data[13]=e}getPosition(){return S(this.data[12],this.data[13])}rotate(t){const e=this.data[0],n=this.data[1],i=this.data[2],r=this.data[3],s=this.data[4],o=this.data[5],a=this.data[6],l=this.data[7],c=Math.sin(t),h=Math.cos(t);return this.data[0]=h*e+c*s,this.data[1]=h*n+c*o,this.data[2]=h*i+c*a,this.data[3]=h*r+c*l,this.data[4]=h*s-c*e,this.data[5]=h*o-c*n,this.data[6]=h*a-c*i,this.data[7]=h*l-c*r,this}scale(t,e){const n=this.data[0],i=this.data[1],r=this.data[2],s=this.data[3],o=this.data[4],a=this.data[5],l=this.data[6],c=this.data[7];return this.data[0]=n*t,this.data[1]=i*t,this.data[2]=r*t,this.data[3]=s*t,this.data[4]=o*e,this.data[5]=a*e,this.data[6]=l*e,this.data[7]=c*e,this}setRotation(t){const e=this.getScale(),n=Math.sin(t),i=Math.cos(t);this.data[0]=i*e.x,this.data[1]=n*e.y,this.data[4]=-n*e.x,this.data[5]=i*e.y}getRotation(){return v(Math.atan2(this.data[1]/this.getScaleY(),this.data[0]/this.getScaleX()))}getScaleX(){const t=S(this.data[0],this.data[4]).size;return this._scaleSignX*t}getScaleY(){const t=S(this.data[1],this.data[5]).size;return this._scaleSignY*t}getScale(){return S(this.getScaleX(),this.getScaleY())}setScaleX(t){if(this._scaleX===t)return;this._scaleSignX=g(t);const e=S(this.data[0]*this._scaleSignX,this.data[4]*this._scaleSignX).normalize();this.data[0]=e.x*t,this.data[4]=e.y*t,this._scaleX=t}setScaleY(t){if(this._scaleY===t)return;this._scaleSignY=g(t);const e=S(this.data[1]*this._scaleSignY,this.data[5]*this._scaleSignY).normalize();this.data[1]=e.x*t,this.data[5]=e.y*t,this._scaleY=t}setScale(t){this.setScaleX(t.x),this.setScaleY(t.y)}getBasisDeterminant(){return this.data[0]*this.data[5]-this.data[1]*this.data[4]}getAffineInverse(t){const e=1/this.getBasisDeterminant(),n=this.data[0],i=this.data[4],r=this.data[1],s=this.data[5],o=t||U.identity();o.data[0]=s*e,o.data[1]=-r*e,o.data[4]=-i*e,o.data[5]=n*e;const a=this.data[12],l=this.data[13];return o.data[12]=-(a*o.data[0]+l*o.data[4]),o.data[13]=-(a*o.data[1]+l*o.data[5]),o}isIdentity(){return 1===this.data[0]&&0===this.data[1]&&0===this.data[2]&&0===this.data[3]&&0===this.data[4]&&1===this.data[5]&&0===this.data[6]&&0===this.data[7]&&0===this.data[8]&&0===this.data[9]&&1===this.data[10]&&0===this.data[11]&&0===this.data[12]&&0===this.data[13]&&0===this.data[14]&&1===this.data[15]}toString(){return"\n[".concat(this.data[0]," ").concat(this.data[4]," ").concat(this.data[8]," ").concat(this.data[12],"]\n[").concat(this.data[1]," ").concat(this.data[5]," ").concat(this.data[9]," ").concat(this.data[13],"]\n[").concat(this.data[2]," ").concat(this.data[6]," ").concat(this.data[10]," ").concat(this.data[14],"]\n[").concat(this.data[3]," ").concat(this.data[7]," ").concat(this.data[11]," ").concat(this.data[15],"]\n")}}class H{constructor(){this.data=new Float64Array(6),this._scale=new Float64Array([1,1]),this._scaleSignX=1,this._scaleSignY=1}toDOMMatrix(){return new DOMMatrix([...this.data])}static identity(){const t=new H;return t.data[0]=1,t.data[1]=0,t.data[2]=0,t.data[3]=1,t.data[4]=0,t.data[5]=0,t}static translation(t,e){const n=H.identity();return n.data[4]=t,n.data[5]=e,n}static scale(t,e){const n=H.identity();return n.data[0]=t,n.data[3]=e,n._scale[0]=t,n._scale[1]=e,n}static rotation(t){const e=H.identity();return e.data[0]=Math.cos(t),e.data[1]=Math.sin(t),e.data[2]=-Math.sin(t),e.data[3]=Math.cos(t),e}setPosition(t,e){this.data[4]=t,this.data[5]=e}getPosition(){return S(this.data[4],this.data[5])}rotate(t){const e=this.data[0],n=this.data[1],i=this.data[2],r=this.data[3],s=Math.sin(t),o=Math.cos(t);return this.data[0]=o*e+s*i,this.data[1]=o*n+s*r,this.data[2]=o*i-s*e,this.data[3]=o*r-s*n,this}translate(t,e){const n=this.data[0],i=this.data[1],r=this.data[2],s=this.data[3],o=this.data[4],a=this.data[5];return this.data[4]=n*t+r*e+o,this.data[5]=i*t+s*e+a,this}scale(t,e){const n=this.data[0],i=this.data[1],r=this.data[2],s=this.data[3];return this.data[0]=n*t,this.data[1]=i*t,this.data[2]=r*e,this.data[3]=s*e,this._scale[0]=t,this._scale[1]=e,this}determinant(){return this.data[0]*this.data[3]-this.data[1]*this.data[2]}inverse(t){const e=1/this.determinant(),n=this.data[0],i=this.data[2],r=this.data[1],s=this.data[3],o=t||H.identity();o.data[0]=s*e,o.data[1]=-r*e,o.data[2]=-i*e,o.data[3]=n*e;const a=this.data[4],l=this.data[5];return o.data[4]=-(a*o.data[0]+l*o.data[2]),o.data[5]=-(a*o.data[1]+l*o.data[3]),o}multiply(t,e){if(t instanceof A){const n=e||new A(0,0),i=t,r=i.x*this.data[0]+i.y*this.data[2]+this.data[4],s=i.x*this.data[1]+i.y*this.data[3]+this.data[5];return n.x=r,n.y=s,n}{const n=e||new H,i=t,r=this.data[0],s=this.data[1],o=this.data[2],a=this.data[3],l=this.data[4],c=this.data[5],h=i.data[0],d=i.data[1],u=i.data[2],p=i.data[3],f=i.data[4],m=i.data[5];n.data[0]=r*h+o*d,n.data[1]=s*h+a*d,n.data[2]=r*u+o*p,n.data[3]=s*u+a*p,n.data[4]=r*f+o*m+l,n.data[5]=s*f+a*m+c;const v=this.getScale();return n._scaleSignX=g(v.x)*g(n._scaleSignX),n._scaleSignY=g(v.y)*g(n._scaleSignY),n}}multiplyQuadInPlace(t){const e=t[0]*this.data[0]+t[1]*this.data[2]+this.data[4],n=t[0]*this.data[1]+t[1]*this.data[3]+this.data[5];t[0]=e,t[1]=n;const i=t[2]*this.data[0]+t[3]*this.data[2]+this.data[4],r=t[2]*this.data[1]+t[3]*this.data[3]+this.data[5];t[2]=i,t[3]=r;const s=t[4]*this.data[0]+t[5]*this.data[2]+this.data[4],o=t[4]*this.data[1]+t[5]*this.data[3]+this.data[5];t[4]=s,t[5]=o;const a=t[6]*this.data[0]+t[7]*this.data[2]+this.data[4],l=t[6]*this.data[1]+t[7]*this.data[3]+this.data[5];t[6]=a,t[7]=l}to4x4(){const t=new U;return t.data[0]=this.data[0],t.data[1]=this.data[1],t.data[2]=0,t.data[3]=0,t.data[4]=this.data[2],t.data[5]=this.data[3],t.data[6]=0,t.data[7]=0,t.data[8]=0,t.data[9]=0,t.data[10]=1,t.data[11]=0,t.data[12]=this.data[4],t.data[13]=this.data[5],t.data[14]=0,t.data[15]=1,t}setRotation(t){const e=this.getScale(),n=Math.sin(t),i=Math.cos(t);this.data[0]=i*e.x,this.data[1]=n*e.y,this.data[2]=-n*e.x,this.data[3]=i*e.y}getRotation(){return v(Math.atan2(this.data[1]/this.getScaleY(),this.data[0]/this.getScaleX()))}getScaleX(){const t=S(this.data[0],this.data[2]).distance();return this._scaleSignX*t}getScaleY(){const t=S(this.data[1],this.data[3]).distance();return this._scaleSignY*t}getScale(){return S(this.getScaleX(),this.getScaleY())}setScaleX(t){if(t===this._scale[0])return;this._scaleSignX=g(t);const e=S(this.data[0]*this._scaleSignX,this.data[2]*this._scaleSignX).normalize();this.data[0]=e.x*t,this.data[2]=e.y*t,this._scale[0]=t}setScaleY(t){if(t===this._scale[1])return;this._scaleSignY=g(t);const e=S(this.data[1]*this._scaleSignY,this.data[3]*this._scaleSignY).normalize();this.data[1]=e.x*t,this.data[3]=e.y*t,this._scale[1]=t}setScale(t){this.setScaleX(t.x),this.setScaleY(t.y)}isIdentity(){return 1===this.data[0]&&0===this.data[1]&&0===this.data[2]&&1===this.data[3]&&0===this.data[4]&&0===this.data[5]}reset(){const t=this;return t.data[0]=1,t.data[1]=0,t.data[2]=0,t.data[3]=1,t.data[4]=0,t.data[5]=0,t}clone(t){const e=t||new H;return e.data.set(this.data),e}toString(){return"\n[".concat(this.data[0]," ").concat(this.data[2]," ").concat(this.data[4],"]\n[").concat(this.data[1]," ").concat(this.data[3]," ").concat(this.data[5],"]\n[0 0 1]\n")}}class W{constructor(){this._transforms=[],this._currentTransform=H.identity()}save(){this._transforms.push(this._currentTransform),this._currentTransform=this._currentTransform.clone()}restore(){this._currentTransform=this._transforms.pop()}translate(t,e){return this._currentTransform.translate(t,e)}rotate(t){return this._currentTransform.rotate(t)}scale(t,e){return this._currentTransform.scale(t,e)}set current(t){this._currentTransform=t}get current(){return this._currentTransform}}class V{constructor(){this.current=this._getDefaultState(),this._states=[]}_getDefaultState(){return{opacity:1,z:0,tint:C.White,material:null}}_cloneState(){return{opacity:this.current.opacity,z:this.current.z,tint:this.current.tint.clone(),material:this.current.material}}save(){this._states.push(this.current),this.current=this._cloneState()}restore(){this.current=this._states.pop()}}const G={Complete:"complete",Load:"load",LoadStart:"loadstart",Progress:"progress",Error:"error"};class q{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.path=t,this.responseType=e,this.bustCache=n,this.data=null,this.logger=R.getInstance(),this.events=new h}isLoaded(){return null!==this.data}_cacheBust(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t}load(){return new Promise(((t,e)=>{if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),this.events.emit("complete",this.data),void t(this.data);const n=new XMLHttpRequest;n.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),n.responseType=this.responseType,n.addEventListener("loadstart",(t=>this.events.emit("loadstart",t))),n.addEventListener("progress",(t=>this.events.emit("progress",t))),n.addEventListener("error",(t=>this.events.emit("error",t))),n.addEventListener("load",(t=>this.events.emit("load",t))),n.addEventListener("load",(()=>{if(0!==n.status&&200!==n.status)return this.logger.error("Failed to load resource ",this.path," server responded with error code",n.status),this.events.emit("error",n.response),void e(new Error(n.statusText));this.data=n.response,this.events.emit("complete",this.data),this.logger.debug("Completed loading resource",this.path),t(this.data)})),n.send()}))}}function X(t,e){return t&&void 0===t.__isProxy?new Proxy(t,{set:(t,n,i)=>(t[n]!==i&&(t[n]=i,"string"===typeof n&&"_"!==n[0]&&e(t)),!0),get:(t,e)=>"__isProxy"===e||t[e]}):t}const Q=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{get:(i,r)=>"__isProxy"===r||("object"===typeof i[r]&&null!=i[r]?new Proxy(i[r],Q([...t,r],e,n)):i[r]),set:(t,i,r)=>("string"===typeof i&&"_"!==i[0]&&e(n),t[i]=r,!0)}};function K(t,e){return t&&void 0===t.__isProxy?new Proxy(t,{set:(t,n,i)=>(t[n]=i,"string"===typeof n&&"_"!==n[0]&&e(t),!0),get:(t,e)=>"__isProxy"===e||t[e]}):t}class Y{isStale(){return this._transformStale}get flipHorizontal(){return this._flipHorizontal}set flipHorizontal(t){this._flipHorizontal=t,this._transformStale=!0}get flipVertical(){return this._flipVertical}set flipVertical(t){this._flipVertical=t,this._transformStale=!0}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this._transformStale=!0}get scale(){return this._scale}set scale(t){this._scale=X(t,(()=>{this._transformStale=!0})),this._transformStale=!0}get origin(){return this._origin}set origin(t){this._origin=X(t,(()=>{this._transformStale=!0})),this._transformStale=!0}constructor(t){var e,n,i,r,s,o,a;this.id=Y._ID++,this.transform=H.identity(),this.tint=null,this._transformStale=!0,this.showDebug=!1,this._flipHorizontal=!1,this._flipVertical=!1,this._rotation=0,this.opacity=1,this._scale=A.One,this._origin=null,this._width=0,this._height=0,t&&(this.origin=null!==(e=t.origin)&&void 0!==e?e:this.origin,this.flipHorizontal=null!==(n=t.flipHorizontal)&&void 0!==n?n:this.flipHorizontal,this.flipVertical=null!==(i=t.flipVertical)&&void 0!==i?i:this.flipVertical,this.rotation=null!==(r=t.rotation)&&void 0!==r?r:this.rotation,this.opacity=null!==(s=t.opacity)&&void 0!==s?s:this.opacity,this.scale=null!==(o=t.scale)&&void 0!==o?o:this.scale,this.tint=null!==(a=t.tint)&&void 0!==a?a:this.tint)}cloneGraphicOptions(){return{width:this.width/this.scale.x,height:this.height/this.scale.y,origin:this.origin?this.origin.clone():null,flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical,rotation:this.rotation,opacity:this.opacity,scale:this.scale?this.scale.clone():null,tint:this.tint?this.tint.clone():null}}get width(){return Math.abs(this._width*this.scale.x)}get height(){return Math.abs(this._height*this.scale.y)}set width(t){this._width=t,this._transformStale=!0}set height(t){this._height=t,this._transformStale=!0}get localBounds(){return B.fromDimension(this.width,this.height,A.Zero)}draw(t,e,n){this._preDraw(t,e,n),this._drawImage(t,0,0),this._postDraw(t)}_preDraw(t,e,n){t.save(),t.translate(e,n),this._transformStale&&(this.transform.reset(),this.transform.scale(Math.abs(this.scale.x),Math.abs(this.scale.y)),this._rotate(this.transform),this._flip(this.transform),this._transformStale=!1),t.multiply(this.transform),t.opacity=t.opacity*this.opacity,this.tint&&(t.tint=this.tint)}_rotate(t){var e;const n=this.scale.x>0?1:-1,i=this.scale.y>0?1:-1,r=null!==(e=this.origin)&&void 0!==e?e:S(this.width/2,this.height/2);t.translate(r.x,r.y),t.rotate(this.rotation),t.scale(n,i),t.translate(-r.x,-r.y)}_flip(t){this.flipHorizontal&&(t.translate(this.width/this.scale.x,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,this.height/this.scale.y),t.scale(1,-1))}_postDraw(t){this.showDebug&&t.debug.drawRect(0,0,this.width,this.height),t.restore()}}Y._ID=0;class Z extends Y{static from(t){return new Z({image:t})}constructor(t){var e,n;super(t),this._logger=R.getInstance(),this._dirty=!0,this.image=t.image;const{width:i,height:r}=t;this.sourceView=null!==(e=t.sourceView)&&void 0!==e?e:{x:0,y:0,width:null!==i&&void 0!==i?i:0,height:null!==r&&void 0!==r?r:0},this.destSize=null!==(n=t.destSize)&&void 0!==n?n:{width:null!==i&&void 0!==i?i:0,height:null!==r&&void 0!==r?r:0},this._updateSpriteDimensions(),this.image.ready.then((()=>{this._updateSpriteDimensions()}))}get width(){return Math.abs(this.destSize.width*this.scale.x)}get height(){return Math.abs(this.destSize.height*this.scale.y)}set width(t){t/=Math.abs(this.scale.x),this.destSize.width=t,super.width=Math.ceil(this.destSize.width)}set height(t){t/=Math.abs(this.scale.y),this.destSize.height=t,super.height=Math.ceil(this.destSize.height)}_updateSpriteDimensions(){var t,e,n,i,r,s;const{width:o,height:a}=this.image;this.sourceView.width=(null===(t=this.sourceView)||void 0===t?void 0:t.width)||o,this.sourceView.height=(null===(e=this.sourceView)||void 0===e?void 0:e.height)||a,this.destSize.width=(null===(n=this.destSize)||void 0===n?void 0:n.width)||(null===(i=this.sourceView)||void 0===i?void 0:i.width)||o,this.destSize.height=(null===(r=this.destSize)||void 0===r?void 0:r.height)||(null===(s=this.sourceView)||void 0===s?void 0:s.height)||a,this.width=Math.ceil(this.destSize.width)*this.scale.x,this.height=Math.ceil(this.destSize.height)*this.scale.y}_preDraw(t,e,n){this.image.isLoaded()&&this._dirty&&(this._dirty=!1,this._updateSpriteDimensions()),super._preDraw(t,e,n)}_drawImage(t,e,n){this.image.isLoaded()?t.drawImage(this.image.image,this.sourceView.x,this.sourceView.y,this.sourceView.width,this.sourceView.height,e,n,this.destSize.width,this.destSize.height):this._logger.warnOnce("ImageSource ".concat(this.image.path)+" is not yet loaded and won't be drawn. Please call .load() or include in a Loader.\n\nRead https://excaliburjs.com/docs/imagesource for more information.")}clone(){return new Z({image:this.image,sourceView:{...this.sourceView},destSize:{...this.destSize},...this.cloneGraphicOptions()})}}var J,$;function tt(t){switch(t){case J.Pixel:return J.Pixel;case J.Blended:return J.Blended;default:return null}}function et(t){switch(t){case $.Clamp:return $.Clamp;case $.Repeat:return $.Repeat;case $.Mirror:return $.Mirror;default:return $.Clamp}}!function(t){t.Pixel="Pixel",t.Blended="Blended"}(J||(J={})),function(t){t.Clamp="Clamp",t.Repeat="Repeat",t.Mirror="Mirror"}($||($={}));class nt{constructor(t){this._textureMap=new Map,this._gl=t,nt._MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE)}dispose(){for(const[t]of this._textureMap)this.delete(t);this._textureMap.clear(),this._gl=null}get(t){return this._textureMap.get(t)}has(t){return this._textureMap.has(t)}load(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this._gl;if(!i)return null;const{filtering:r,wrapping:s}={...e};let o,a=null;if(this.has(t)&&(a=this.get(t)),a)return n&&(i.bindTexture(i.TEXTURE_2D,a),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t)),a;a=i.createTexture(),nt.checkImageSizeSupportedAndLog(t),i.bindTexture(i.TEXTURE_2D,a),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),s&&(o="string"===typeof s?{x:s,y:s}:{x:s.x,y:s.y});const{x:l,y:c}=null!==o&&void 0!==o?o:nt.wrapping;switch(l){case $.Clamp:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);break;case $.Repeat:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT);break;case $.Mirror:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.MIRRORED_REPEAT);break;default:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE)}switch(c){case $.Clamp:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);break;case $.Repeat:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT);break;case $.Mirror:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.MIRRORED_REPEAT);break;default:i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE)}const h=null!==r&&void 0!==r?r:nt.filtering;return i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,h===J.Pixel?i.NEAREST:i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,h===J.Pixel?i.NEAREST:i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),this._textureMap.set(t,a),a}delete(t){const e=this._gl;if(!e)return null;let n=null;this.has(t)&&(n=this.get(t),e.deleteTexture(n))}static checkImageSizeSupportedAndLog(t){var e;const n=null!==(e=t.dataset.originalSrc)&&void 0!==e?e:"internal canvas bitmap";return t.width>nt._MAX_TEXTURE_SIZE||t.height>nt._MAX_TEXTURE_SIZE?(nt._LOGGER.error("The image [".concat(n,"] provided to Excalibur is too large for the device's maximum texture size of ")+"(".concat(nt._MAX_TEXTURE_SIZE,"x").concat(nt._MAX_TEXTURE_SIZE,") please resize to an image ")+"for excalibur to render properly.\n\nImages will likely render as black rectangles.\n\nRead more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits"),!1):((t.width>4096||t.height>4096)&&nt._LOGGER.warn("The image [".concat(n,"] provided to excalibur is too large may not work on all mobile devices, ")+"it is recommended you resize images to a maximum (4096x4096).\n\nImages will likely render as black rectangles on some mobile platforms.\n\nRead more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits"),!0)}}nt._LOGGER=R.getInstance(),nt.filtering=J.Blended,nt.wrapping={x:$.Clamp,y:$.Clamp},nt._MAX_TEXTURE_SIZE=4096;const it={Filtering:"filtering",WrappingX:"wrapping-x",WrappingY:"wrapping-y"};class rt{get width(){return this.image.naturalWidth}get height(){return this.image.naturalHeight}isLoaded(){return this._src||(this._src=this.data.src),!!this._src}get image(){return this.data}constructor(t,e,n){this._logger=R.getInstance(),this.data=new Image,this._readyFuture=new c,this.ready=this._readyFuture.promise,this.path=t;let i,r=!1;"boolean"===typeof e?r=e:({filtering:n,wrapping:i,bustCache:r}={...e}),this._resource=new q(t,"blob",r),this.filtering=null!==n&&void 0!==n?n:this.filtering,this.wrapping="string"===typeof i?{x:i,y:i}:null!==i&&void 0!==i?i:this.wrapping,(t.endsWith(".svg")||t.endsWith(".gif"))&&this._logger.warn("Image type is not fully supported, you may have mixed results ".concat(t,". Fully supported: jpg, bmp, and png"))}static fromHtmlImageElement(t,e){const n=new rt("");if(n._src="image-element",n.data=t,n.data.setAttribute("data-original-src","image-element"),(null===e||void 0===e?void 0:e.filtering)?n.data.setAttribute(it.Filtering,null===e||void 0===e?void 0:e.filtering):n.data.setAttribute(it.Filtering,J.Blended),null===e||void 0===e?void 0:e.wrapping){let t;t="string"===typeof e.wrapping?{x:e.wrapping,y:e.wrapping}:{x:e.wrapping.x,y:e.wrapping.y},n.data.setAttribute(it.WrappingX,t.x),n.data.setAttribute(it.WrappingY,t.y)}else n.data.setAttribute(it.WrappingX,$.Clamp),n.data.setAttribute(it.WrappingY,$.Clamp);return nt.checkImageSizeSupportedAndLog(t),n._readyFuture.resolve(t),n}get bustCache(){return this._resource.bustCache}set bustCache(t){this._resource.bustCache=t}async load(){var t,e,n,i;if(this.isLoaded())return this.data;try{let t;if(this.path.includes("data:image/"))t=this.path;else{const e=await this._resource.load();t=URL.createObjectURL(e)}const e=new Image,n=new c;e.onload=()=>n.resolve(),e.src=t,e.setAttribute("data-original-src",this.path),await n.promise,this.data=e,nt.checkImageSizeSupportedAndLog(this.data)}catch(r){throw"Error loading ImageSource from path '".concat(this.path,"' with error [").concat(r.message,"]")}return this.data.setAttribute(it.Filtering,this.filtering),this.data.setAttribute(it.WrappingX,null!==(e=null===(t=this.wrapping)||void 0===t?void 0:t.x)&&void 0!==e?e:$.Clamp),this.data.setAttribute(it.WrappingY,null!==(i=null===(n=this.wrapping)||void 0===n?void 0:n.y)&&void 0!==i?i:$.Clamp),this._readyFuture.resolve(this.data),this.data}toSprite(){return Z.from(this)}unload(){this.data=new Image}}class st extends Y{constructor(t){super(t),this._text="",this.alphabet="",this.shadow=null,this.caseInsensitive=!1,this.spacing=0,this.lineHeight=void 0,this._logger=R.getInstance();const{alphabet:e,spriteSheet:n,caseInsensitive:i,spacing:r,shadow:s,lineHeight:o}=t;this.alphabet=e,this.spriteSheet=n,this.caseInsensitive=null!==i&&void 0!==i?i:this.caseInsensitive,this.spacing=null!==r&&void 0!==r?r:this.spacing,this.shadow=null!==s&&void 0!==s?s:this.shadow,this.lineHeight=null!==o&&void 0!==o?o:this.lineHeight}_getCharacterSprites(t){const e=[],n=this.caseInsensitive?t.toLocaleLowerCase():t,i=this.caseInsensitive?this.alphabet.toLocaleLowerCase():this.alphabet;for(let r=0;r<n.length;r++){const t=n[r];let s=i.indexOf(t);-1===s&&(s=0,this._logger.warnOnce("SpriteFont - Cannot find letter '".concat(t,"' in configured alphabet '").concat(i,"'.")),this._logger.warnOnce("There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged."));const o=this.spriteSheet.sprites[s];o?e.push(o):(this._logger.warnOnce("SpriteFont - Cannot find sprite for '".concat(t,"' at index '").concat(s,"' in configured SpriteSheet")),this._logger.warnOnce("There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged."))}return e}measureText(t,e){const n=this._getLinesFromText(t,e),i=n.reduce(((t,e)=>t.length>e.length?t:e)),r=this._getCharacterSprites(i);let s=0,o=0;for(const a of r)s+=a.width+this.spacing,o=Math.max(o,a.height);return B.fromDimension(s,o*n.length,A.Zero)}_drawImage(t,e,n,i){var r;let s=0,o=0,a=0;const l=this._getLinesFromText(this._text,i);for(const c of l){for(const i of this._getCharacterSprites(c))i.draw(t,e+s,n+o),s+=i.width+this.spacing,a=Math.max(a,i.height);s=0,o+=null!==(r=this.lineHeight)&&void 0!==r?r:a}}render(t,e,n,i,r,s){this._text=e;const o=this.measureText(e,s);this.width=o.width,this.height=o.height,this.shadow&&(t.save(),t.translate(this.shadow.offset.x,this.shadow.offset.y),this._preDraw(t,i,r),this._drawImage(t,0,0,s),this._postDraw(t),t.restore()),this._preDraw(t,i,r),this._drawImage(t,0,0,s),this._postDraw(t)}clone(){return new st({alphabet:this.alphabet,spriteSheet:this.spriteSheet,spacing:this.spacing})}_getLinesFromText(t,e){if(this._cachedText===t&&this._cachedRenderWidth===e)return this._cachedLines;const n=t.split("\n");if(null==e)return n;for(let i=0;i<n.length;i++){let t=n[i],r="";if(this.measureText(t).width>e){for(;this.measureText(t).width>e;)r=t[t.length-1]+r,t=t.slice(0,-1);n[i]=t,n[i+1]=r}}return this._cachedText=t,this._cachedLines=n,this._cachedRenderWidth=e,n}}class ot{constructor(t){this.sprites=[];const{sprites:e,rows:n,columns:i}=t;this.sprites=e,this.rows=null!==n&&void 0!==n?n:1,this.columns=null!==i&&void 0!==i?i:this.sprites.length}getSprite(t,e,n){var i,r,s,o,a,l,c,h,d;if(t>=this.columns||t<0)throw Error("No sprite exists in the SpriteSheet at (".concat(t,", ").concat(e,"), x: ").concat(t," should be between 0 and ").concat(this.columns-1));if(e>=this.rows||e<0)throw Error("No sprite exists in the SpriteSheet at (".concat(t,", ").concat(e,"), y: ").concat(e," should be between 0 and ").concat(this.rows-1));const u=t+e*this.columns,p=this.sprites[u];if(p){if(n){const t=p.clone();return t.flipHorizontal=null!==(i=n.flipHorizontal)&&void 0!==i?i:t.flipHorizontal,t.flipVertical=null!==(r=n.flipVertical)&&void 0!==r?r:t.flipVertical,t.width=null!==(s=n.width)&&void 0!==s?s:t.width,t.height=null!==(o=n.height)&&void 0!==o?o:t.height,t.rotation=null!==(a=n.rotation)&&void 0!==a?a:t.rotation,t.scale=null!==(l=n.scale)&&void 0!==l?l:t.scale,t.opacity=null!==(c=n.opacity)&&void 0!==c?c:t.opacity,t.tint=null!==(h=n.tint)&&void 0!==h?h:t.tint,t.origin=null!==(d=n.origin)&&void 0!==d?d:t.origin,t}return p}throw Error("Invalid sprite coordinates (".concat(t,", ").concat(e))}static fromImageSourceWithSourceViews(t){const e=t.sourceViews.map((e=>new Z({image:t.image,sourceView:e})));return new ot({sprites:e})}static fromImageSource(t){var e;const n=[];t.spacing=null!==(e=t.spacing)&&void 0!==e?e:{};const{image:i,grid:{rows:r,columns:s,spriteWidth:o,spriteHeight:a},spacing:{originOffset:l,margin:c}}=t,h={x:0,y:0,...l},d={x:0,y:0,...c};for(let u=0;u<s;u++)for(let t=0;t<r;t++)n[u+t*s]=new Z({image:i,sourceView:{x:u*o+d.x*u+h.x,y:t*a+d.y*t+h.y,width:o,height:a},destSize:{height:a,width:o}});return new ot({sprites:n,rows:r,columns:s})}clone(){return new ot({sprites:this.sprites.map((t=>t.clone())),rows:this.rows,columns:this.columns})}}class at{constructor(){this.fontSheet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABACAYAAAD1Xam+AAAAAXNSR0IArs4c6QAABlFJREFUeJztndmy4yoMRcWt/v9fdr8EWoDAaDD4JntVpeqcxBrMIGQDNhEAAAAAAAAAAAAAAOCrSbMfr+u6yoEpTY+906GV57YtPkjyXj9WZZ+wHWHfo2N3/bU6Tte9Rv6ptruqRyMvKvvIX/zY3I/vjLeqsg6l/CWdp0KHKO/1Y1H2EdsR9j06Ntdfp+N03SvkH2u7i3pu5XkQ+DNTkgNJSok+/183xpcdWZHjgUzpQ2pGD67vaf//KRAGAq3tdhCy2tcMQKPyXyz7iPqrdBjbX5h9g7xbtvWf4ZJvM4D/BKG24Sd+IkQ0TC9aW5NM5FbO2HgrPVzW2vmN50DZNv/QWtl5bfPy85SBtdy9dFmjsf2F2SehTBVE+u+tkE5+lAGcJlFwGuodwRRU2Qe3rx0FhPNflc3HWC7BEh8EDGVR5IMCiLnDONtPp87qhxVH/S/LvzUAuDs/kyGimA5oSONKR1w8vsLpv+v+S9vhmS71JRiX1xB5CWZNw7m6rMrllMag/RJyWb67BEgpDVMWSydc+K47pr35w05kWd7ReEq6116KaG4CsbJ7OmV9PdZLEKkONiC1/7ZONVgDsajLIJPYp2OUAXRpnPcGmnIE6eSK4nv5YQqqSYO52JqnYfYj/PdQXQIY7XszuMofMgZRT/1LdeC5h2I5/0EdWDMY2Yb05WDE1RodVdpSA5r85slArAVnSf+89iP896St0f5bZKVA7Gk/3ja8q+152/+wrLqBWZTem3IBADbRBoDuHgAA4HdAAADgh0EAAOCHQQAA4IdBAADgh0EAAOCHuVsKbJ3P9M7jjuxHzGfv8j9iDt47Dx7hP8cjq5F/o/0T62Aer//ZOgDrajBp6aNlOWTEajKLjgj/Pcs/vfZD/a++3Pc8hNfZ966EVeh5vP75luDRJUAl0KzJfnopaqbaTuzZiulc2BS5lltFXntu3dcQsXadl59Wn1H+dfYNtrt2d6D/LDF9HkCQw6eXFbr8P9X5W/un5Ol8gz1t39p5pWOPn0vLynbgdnfe8maEQw+UIPJdfxdOd/4oTtVD0IYg8wDywGas0I04T5O3P8/qf2UWwPpkn1PbOT1bN2tFe59EM7TvKf+TRFw+erZ2ey4hpS3hp9qBkqq/tjsSU1OYqucBWB1yynt5QxC42Mdk30pAEIio//zRG3feBzLUX+TTjCKwlH83aI/KbpQBVEHgUGF0j/SitcLofHem8q6AyH0wBhFv4WszuOjy0yK2vc/oRWQoP2X9ve78jfaLnpncbBqQSC6s0HnIRT0a2yNZjfxT8+ir8t+yDsDTWaS6X70GP33+d77stp+I5HtBdwEAAPBl8ECApcAA/DBvfSowAGAB7/05ZAAA/DAIAADMMU3fOuS2ggAAwBjrorKoxWiPBxHMAgAg490Ts0VeePdA+ZfJDKcCh7sBqY88mmjklZeOt9iXPrvx2I2QPRnN2/qzyJ84h4gNcbtfasq5mM1rZr+bBWh2A+bIIX13Z9wqL+nQvFno7v3oq4tJItCed7isUT6C/I7BUn9KP95wDicYBYpcjncrO2c/dmW4tBtw4RiRld1IDxDyYsoXMHxF1w3dyz0Nne8033AOFsT6VgRCafl89fenTZUfbm8CGhrgdDcS7anAsvnkkP0IeCfQ+JzYunky6jhNYj5bl7++4fJvN9WDSKS/292A0wyANyKDI91bfkm3kcH7ckaP/SKW/VHKRZAcI14pP3beu0fPyn/DuZQbWMogNnsc16sziE96f7H/iai7uTf0/3N8lwFz/e13T00Djt4OrInCnkeChXT+qOcKOLA21tJpsv/G8/COnGnw97J9QwbTvd6djYSv7fxEVTuV/LzNhj7nOawv6bfbAGCYEpQ6HxFtuxs6sq9tzOYHobQ6Nje+6vo5BwFrPZ4OgMayS4PPt1NlzdLfbRCYBoBc+NaO4JWPwLEf33oN3unY3InKPQBW6Z7nEZzEmrl4iZjC804lqgePPEOguQcwWghUphxm343wyt/pWpWR0OrR+jvyxavHajfb9pTjbt9bH07Z5/expM4TLWfwb7QQqMoC+UDWXZo/4RgA38LOgUvLJAAQ1Td9y9//0ylxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+g79apuVUsS5ZmwAAAABJRU5ErkJggg==",this.size=16,this.load()}load(){return this._imageSource=new rt(this.fontSheet),this._imageSource.load().then((()=>{this._spriteSheet=ot.fromImageSource({image:this._imageSource,grid:{rows:4,columns:16,spriteWidth:16,spriteHeight:16}}),this._spriteFont=new st({alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,!'&.\"?-()+# ",caseInsensitive:!0,spriteSheet:this._spriteSheet,spacing:-6})}))}write(t,e,n){this._imageSource.isLoaded()&&this._spriteFont.render(t,e,null,n.x,n.y)}}class lt{constructor(t,e){this._gl=t,this._texture=e}use(){const t=this._gl;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this._texture)}disable(){const t=this._gl;t.bindTexture(t.TEXTURE_2D,null)}}class ct{constructor(t){var e,n;this.antialias=!1,this.samples=1,this._gl=t.gl,this.width=t.width,this.height=t.height,this.transparency=t.transparency,this.antialias=null!==(e=t.antialias)&&void 0!==e?e:this.antialias,this.samples=null!==(n=t.samples)&&void 0!==n?n:this._gl.getParameter(this._gl.MAX_SAMPLES);const i=this._gl;i.drawingBufferFormat?this.bufferFormat=i.drawingBufferFormat:this.transparency?this.bufferFormat=i.RGBA8:this.bufferFormat=i.RGB8,this._setupRenderBuffer(),this._setupFramebuffer()}setResolution(t,e){const n=this._gl;this.width=t,this.height=e,n.bindTexture(n.TEXTURE_2D,this._frameTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),this._renderBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this._renderBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,Math.min(this.samples,n.getParameter(n.MAX_SAMPLES)),this.bufferFormat,this.width,this.height))}get renderBuffer(){return this._renderBuffer}get renderFrameBuffer(){return this._renderFrameBuffer}get frameBuffer(){return this._frameBuffer}get frameTexture(){return this._frameTexture}_setupRenderBuffer(){if(this.antialias){const t=this._gl;this._renderBuffer=t.createRenderbuffer(),this._renderFrameBuffer=t.createFramebuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this._renderBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.min(this.samples,t.getParameter(t.MAX_SAMPLES)),this.bufferFormat,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,this._renderFrameBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this._renderBuffer)}}_setupFramebuffer(){const t=this._gl;this._frameTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._frameTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);const e=t.COLOR_ATTACHMENT0;this._frameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,e,t.TEXTURE_2D,this._frameTexture,0),this.disable()}toRenderSource(){this.renderBuffer&&this.blitRenderBufferToFrameBuffer();return new lt(this._gl,this._frameTexture)}blitToScreen(){const t=this._gl;this._renderBuffer?(t.bindFramebuffer(t.READ_FRAMEBUFFER,this.renderFrameBuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.clearBufferfv(t.COLOR,0,[0,0,1,1]),t.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,t.COLOR_BUFFER_BIT,t.LINEAR)):(t.bindFramebuffer(t.READ_FRAMEBUFFER,this.frameBuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.clearBufferfv(t.COLOR,0,[0,0,1,1]),t.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,t.COLOR_BUFFER_BIT,t.LINEAR))}blitRenderBufferToFrameBuffer(){if(this._renderBuffer){const t=this._gl;t.bindFramebuffer(t.READ_FRAMEBUFFER,this.renderFrameBuffer),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,this.frameBuffer),t.clearBufferfv(t.COLOR,0,[0,0,1,1]),t.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,t.COLOR_BUFFER_BIT,t.LINEAR)}}copyToTexture(t){const e=this._gl;this._renderBuffer&&this.blitRenderBufferToFrameBuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.width,this.height,0)}use(){const t=this._gl;this.antialias?t.bindFramebuffer(t.FRAMEBUFFER,this._renderFrameBuffer):t.bindFramebuffer(t.FRAMEBUFFER,this._frameBuffer),t.viewport(0,0,this.width,this.height)}disable(){const t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null)}}function ht(t,e){switch(e){case t.FLOAT:return 4;case t.SHORT:case t.UNSIGNED_SHORT:return 2;case t.BYTE:case t.UNSIGNED_BYTE:default:return 1}}function dt(t,e){const n="(?<type>[a-z0-9]+)\\s+".concat(e,";"),i=new RegExp(n,"g").exec(t);return(null===i||void 0===i?void 0:i.length)>0}function ut(t,e,n){var i;const r="(?<type>[a-z0-9]+)\\s+".concat(n,";"),s=new RegExp(r,"g").exec(e);switch(null===(i=null===s||void 0===s?void 0:s.groups)||void 0===i?void 0:i.type){case"float":case"vec2":case"vec3":case"vec4":default:return t.FLOAT;case"int":case"ivec2":case"ivec3":case"ivec4":return t.INT;case"uint":case"uvec2":case"uvec3":case"uvec4":return t.UNSIGNED_INT;case"bool":case"bvec2":case"bvec3":case"bvec4":return t.BOOL;case"short":return t.SHORT;case"ushort":return t.UNSIGNED_SHORT;case"ubyte":return t.UNSIGNED_BYTE;case"byte":return t.BYTE}}function pt(t,e){switch(e){case t.LOW_FLOAT:case t.HIGH_FLOAT:case t.FLOAT:return 1;case t.FLOAT_VEC2:return 2;case t.FLOAT_VEC3:return 3;case t.FLOAT_VEC4:return 4;case t.BYTE:case t.UNSIGNED_BYTE:case t.UNSIGNED_SHORT:case t.SHORT:default:return 1}}function ft(t,e){switch(e){case t.LOW_FLOAT:case t.HIGH_FLOAT:case t.FLOAT:case t.FLOAT_VEC2:case t.FLOAT_VEC3:case t.FLOAT_VEC4:return t.FLOAT;case t.BYTE:return t.BYTE;case t.UNSIGNED_BYTE:return t.UNSIGNED_BYTE;case t.SHORT:return t.SHORT;case t.UNSIGNED_SHORT:return t.UNSIGNED_SHORT;default:return t.FLOAT}}class gt{get compiled(){return this._compiled}constructor(t){this._logger=R.getInstance(),this.uniforms={},this.attributes={},this._compiled=!1;const{gl:e,vertexSource:n,fragmentSource:i}=t;this._gl=e,this.vertexSource=n,this.fragmentSource=i}dispose(){this._gl.deleteProgram(this.program),this._gl=null}use(){this._gl.useProgram(this.program),gt._ACTIVE_SHADER_INSTANCE=this}isCurrentlyBound(){return gt._ACTIVE_SHADER_INSTANCE===this}compile(){const t=this._gl,e=this._compileShader(t,this.vertexSource,t.VERTEX_SHADER),n=this._compileShader(t,this.fragmentSource,t.FRAGMENT_SHADER);this.program=this._createProgram(t,e,n);const i=this.getAttributes();for(const s of i)this.attributes[s.name]=s;const r=this.getUniforms();for(const s of r)this.uniforms[s.name]=s;return this._compiled=!0,this.program}getUniforms(){const t=this._gl,e=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),n=[];for(let i=0;i<e;i++){const e=t.getActiveUniform(this.program,i),r=t.getUniformLocation(this.program,e.name);n.push({name:e.name,glType:e.type,location:r})}return n}getAttributes(){const t=this._gl,e=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES),n=[];for(let i=0;i<e;i++){const e=t.getActiveAttrib(this.program,i),r=t.getAttribLocation(this.program,e.name);n.push({name:e.name,glType:ft(t,e.type),size:pt(t,e.type),location:r,normalized:!1})}return n}setTexture(t,e){const n=this._gl;n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e)}setUniformInt(t,e){this.setUniform("uniform1i",t,~~e)}trySetUniformInt(t,e){return this.trySetUniform("uniform1i",t,~~e)}setUniformIntArray(t,e){this.setUniform("uniform1iv",t,e)}trySetUniformIntArray(t,e){return this.trySetUniform("uniform1iv",t,e)}setUniformBoolean(t,e){this.setUniform("uniform1i",t,e?1:0)}trySetUniformBoolean(t,e){return this.trySetUniform("uniform1i",t,e?1:0)}setUniformFloat(t,e){this.setUniform("uniform1f",t,e)}trySetUniformFloat(t,e){return this.trySetUniform("uniform1f",t,e)}setUniformFloatArray(t,e){this.setUniform("uniform1fv",t,e)}trySetUniformFloatArray(t,e){return this.trySetUniform("uniform1fv",t,e)}setUniformFloatVector(t,e){this.setUniform("uniform2f",t,e.x,e.y)}trySetUniformFloatVector(t,e){return this.trySetUniform("uniform2f",t,e.x,e.y)}setUniformFloatColor(t,e){this.setUniform("uniform4f",t,e.r/255,e.g/255,e.b/255,e.a)}trySetUniformFloatColor(t,e){return this.trySetUniform("uniform4f",t,e.r/255,e.g/255,e.b/255,e.a)}setUniformMatrix(t,e){this.setUniform("uniformMatrix4fv",t,!1,e.data)}trySetUniformMatrix(t,e){return this.trySetUniform("uniformMatrix4fv",t,!1,e.data)}setUniform(t,e){if(!this._compiled)throw Error("Must compile shader before setting a uniform ".concat(t,":").concat(e));if(!this.isCurrentlyBound())throw Error("Currently accessed shader instance is not the current active shader in WebGL, must call `shader.use()` before setting uniforms");const n=this._gl.getUniformLocation(this.program,e);if(!n)throw Error("Uniform ".concat(t,":").concat(e," doesn't exist or is not used in the shader source code,")+" unused uniforms are optimized away by most browsers");{for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];const e=[n,...r];this._gl[t].apply(this._gl,e)}}trySetUniform(t,e){if(!this._compiled)return this._logger.warn("Must compile shader before setting a uniform ".concat(t,":").concat(e)),!1;if(!this.isCurrentlyBound())return this._logger.warn("Currently accessed shader instance is not the current active shader in WebGL, must call `shader.use()` before setting uniforms"),!1;const n=this._gl.getUniformLocation(this.program,e);if(!n)return!1;{for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];const e=[n,...r];this._gl[t].apply(this._gl,e)}return!0}_createProgram(t,e,n){const i=t.createProgram();if(null===i)throw Error("Could not create graphics shader program");t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i);if(!t.getProgramParameter(i,t.LINK_STATUS))throw Error("Could not link the program: [".concat(t.getProgramInfoLog(i),"]"));return i}_compileShader(t,e,n){const i=t.VERTEX_SHADER===n?"vertex":"fragment",r=t.createShader(n);if(null===r)throw Error("Could not build shader: [".concat(e,"]"));t.shaderSource(r,e),t.compileShader(r);if(!t.getShaderParameter(r,t.COMPILE_STATUS)){const n=t.getShaderInfoLog(r);throw Error("Could not compile ".concat(i," shader:\n\n").concat(n).concat(this._processSourceForError(e,n)))}return r}_processSourceForError(t,e){if(!t)return e;const n=t.split("\n"),i=e.search(/\d:\d/),r=e.indexOf(" ",i),[s,o]=e.slice(i,r).split(":").map((t=>Number(t)));for(let a=0;a<n.length;a++)n[a]="".concat(a+1,": ").concat(n[a]).concat(o===a+1?" <----- ERROR!":"");return"\n\nSource:\n"+n.join("\n")}}gt._ACTIVE_SHADER_INSTANCE=null;class mt{constructor(t){this.type="dynamic";const{gl:e,size:n,type:i,data:r}=t;if(this._gl=e,this.buffer=this._gl.createBuffer(),!r&&!n)throw Error("Must either provide data or a size to the VertexBuffer");this.bufferData=r||new Float32Array(n),this.type=null!==i&&void 0!==i?i:this.type,e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.bufferData,"static"===this.type?e.STATIC_DRAW:e.DYNAMIC_DRAW)}bind(){const t=this._gl;t.bindBuffer(t.ARRAY_BUFFER,this.buffer)}unbind(){const t=this._gl;t.bindBuffer(t.ARRAY_BUFFER,null)}upload(t){const e=this._gl;e.bindBuffer(e.ARRAY_BUFFER,this.buffer),t?e.bufferSubData(e.ARRAY_BUFFER,0,this.bufferData,0,t):e.bufferData(e.ARRAY_BUFFER,this.bufferData,"static"===this.type?e.STATIC_DRAW:e.DYNAMIC_DRAW)}dispose(){this._gl.deleteBuffer(this.buffer),this._gl=null}}class vt{get vertexBuffer(){return this._vertexBuffer}get attributes(){return this._attributes}constructor(t){this._logger=R.getInstance(),this._suppressWarnings=!1,this._layout=[],this._attributes=[],this._vertexTotalSizeBytes=0,this._initialized=!1;const{gl:e,shader:n,vertexBuffer:i,attributes:r,suppressWarnings:s}=t;this._gl=e,this._vertexBuffer=i,this._attributes=r,this._shader=n,this._suppressWarnings=s,n&&this.initialize()}get totalVertexSizeBytes(){return this._vertexTotalSizeBytes}set shader(t){t&&this._shader!==t&&(this._shader=t,this.initialize())}get shader(){return this._shader}initialize(){if(this._initialized)return;if(!this._shader)return;if(!this._shader.compiled)throw Error("Shader not compiled, shader must be compiled before defining a vertex layout");this._vertexTotalSizeBytes=0,this._layout.length=0;const t=this._shader.attributes;for(const r of this._attributes){const e=t[r[0]];if(!e){if(!dt(this._shader.vertexSource,r[0]))throw Error("The attribute named: ".concat(r[0]," size ").concat(r[1])+" not found in the shader source code:\n ".concat(this._shader.vertexSource));this._suppressWarnings||this._logger.warn("The attribute named: ".concat(r[0]," size ").concat(r[1])+" not found in the compiled shader. This is possibly a bug:\n"+' 1. Not a bug, but should remove unused code - attribute "'.concat(r[0],'" is unused in')+" vertex/fragment and has been automatically removed by glsl compiler.\n"+' 2. Definitely a bug, attribute "'.concat(r[0],'" in layout has been mistyped or is missing')+" in shader, check vertex/fragment source.");const t=ut(this._gl,this._shader.vertexSource,r[0]);this._layout.push({name:r[0],glType:t,size:r[1],location:-1,normalized:!1})}if(e){if(e.size!==r[1])throw Error("VertexLayout size definition for attribute: [".concat(r[0],", ").concat(r[1],"],")+" doesn't match shader source size ".concat(e.size,":\n ").concat(this._shader.vertexSource));this._layout.push(e)}}let e=0;for(const r of this._layout){const t=ht(this._gl,r.glType);this._vertexTotalSizeBytes+=t*r.size,e+=r.size}this._vertexBuffer.bufferData.length%e!==0&&this._logger.warn("The vertex component size (".concat(e,")  does NOT divide evenly into the specified vertex buffer")+" (".concat(this._vertexBuffer.bufferData.length,")"));const n=this._gl;this._vao=n.createVertexArray(),n.bindVertexArray(this._vao),this._vertexBuffer.bind();let i=0;for(const r of this._layout)-1!==r.location&&(n.vertexAttribPointer(r.location,r.size,r.glType,r.normalized,this.totalVertexSizeBytes,i),n.enableVertexAttribArray(r.location)),i+=ht(n,r.glType)*r.size;n.bindVertexArray(null),this._vertexBuffer.unbind(),this._initialized=!0}use(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;if(!this._shader)throw Error("No shader is associated with this vertex layout, a shader must be set");const n=this._gl;if(!this._shader.isCurrentlyBound())throw Error("Shader associated with this vertex layout is not active! Call shader.use() before layout.use()");this._vertexBuffer.bind(),t&&this._vertexBuffer.upload(e),n.bindVertexArray(this._vao)}}class yt{static clear(){yt.DrawCallCount=0,yt.DrawnImagesCount=0}}yt.DrawCallCount=0,yt.DrawnImagesCount=0;class xt{constructor(){this.type="ex.line",this.priority=0,this._maxLines=10922,this._vertexIndex=0,this._lineCount=0}initialize(t,e){this._gl=t,this._context=e,this._shader=new gt({gl:t,vertexSource:"#version 300 es\r\nin vec2 a_position;\r\nin vec4 a_color;\r\n\r\nout lowp vec4 v_color;\r\n\r\nuniform mat4 u_matrix;\r\n\r\nvoid main() {\r\n   // Set the vertex position using the ortho transform matrix\r\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\r\n\r\n   // Passthrough the color\r\n   v_color = a_color;\r\n}",fragmentSource:"#version 300 es\r\nprecision mediump float;\r\n\r\n// Color\r\nin lowp vec4 v_color;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n  fragColor = v_color;\r\n}"}),this._shader.compile(),this._shader.use(),this._shader.setUniformMatrix("u_matrix",this._context.ortho),this._vertexBuffer=new mt({gl:t,size:12*this._maxLines,type:"dynamic"}),this._layout=new vt({gl:t,vertexBuffer:this._vertexBuffer,shader:this._shader,attributes:[["a_position",2],["a_color",4]]})}dispose(){this._vertexBuffer.dispose(),this._shader.dispose(),this._context=null,this._gl=null}draw(t,e,n){this._isFull()&&this.flush(),this._lineCount++;const i=this._context.getTransform(),r=i.multiply(t),s=i.multiply(e),o=this._vertexBuffer.bufferData;o[this._vertexIndex++]=r.x,o[this._vertexIndex++]=r.y,o[this._vertexIndex++]=n.r/255,o[this._vertexIndex++]=n.g/255,o[this._vertexIndex++]=n.b/255,o[this._vertexIndex++]=n.a,o[this._vertexIndex++]=s.x,o[this._vertexIndex++]=s.y,o[this._vertexIndex++]=n.r/255,o[this._vertexIndex++]=n.g/255,o[this._vertexIndex++]=n.b/255,o[this._vertexIndex++]=n.a}_isFull(){return this._lineCount>=this._maxLines}hasPendingDraws(){return 0!==this._lineCount}flush(){if(0===this._lineCount)return;const t=this._gl;this._shader.use(),this._layout.use(!0),this._shader.setUniformMatrix("u_matrix",this._context.ortho),t.drawArrays(t.LINES,0,2*this._lineCount),yt.DrawnImagesCount+=this._lineCount,yt.DrawCallCount++,this._vertexIndex=0,this._lineCount=0}}class _t{constructor(){this.type="ex.point",this.priority=0,this._maxPoints=10922,this._pointCount=0,this._vertexIndex=0}initialize(t,e){this._gl=t,this._context=e,this._shader=new gt({gl:t,vertexSource:"#version 300 es\r\nin vec2 a_position;\r\nin vec4 a_color;\r\nin float a_size;\r\nout lowp vec4 v_color;\r\nuniform mat4 u_matrix;\r\n\r\nvoid main() {\r\n  gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\r\n  gl_PointSize = a_size * 2.0;\r\n  v_color = a_color;\r\n}",fragmentSource:'#version 300 es\r\n\r\nprecision mediump float;\r\nin lowp vec4 v_color;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n  float r = 0.0, delta = 0.0, alpha = 1.0;\r\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\r\n  r = dot(cxy, cxy);\r\n\r\n  delta = fwidth(r);\r\n  alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\r\n  // "premultiply" the color by alpha\r\n  vec4 color = v_color;\r\n  color.a = color.a * alpha;\r\n  color.rgb = color.rgb * color.a;\r\n  fragColor = color;\r\n}'}),this._shader.compile(),this._shader.use(),this._shader.setUniformMatrix("u_matrix",this._context.ortho),this._buffer=new mt({gl:t,size:7*this._maxPoints,type:"dynamic"}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_color",4],["a_size",1]]})}dispose(){this._buffer.dispose(),this._shader.dispose(),this._context=null,this._gl=null}draw(t,e,n){this._isFull()&&this.flush(),this._pointCount++;const i=this._context.getTransform(),r=this._context.opacity,s=this._context.snapToPixel,o=i.multiply(t);s&&(o.x=~~(o.x+Rt),o.y=~~(o.y+Rt));const a=this._buffer.bufferData;a[this._vertexIndex++]=o.x,a[this._vertexIndex++]=o.y,a[this._vertexIndex++]=e.r/255,a[this._vertexIndex++]=e.g/255,a[this._vertexIndex++]=e.b/255,a[this._vertexIndex++]=e.a*r,a[this._vertexIndex++]=n*Math.max(i.getScaleX(),i.getScaleY())}_isFull(){return this._pointCount>=this._maxPoints}hasPendingDraws(){return 0!==this._pointCount}flush(){if(0===this._pointCount)return;const t=this._gl;this._shader.use(),this._layout.use(!0),this._shader.setUniformMatrix("u_matrix",this._context.ortho),t.drawArrays(t.POINTS,0,this._pointCount),yt.DrawnImagesCount+=this._pointCount,yt.DrawCallCount++,this._pointCount=0,this._vertexIndex=0}}class bt{constructor(t){this._gl=t,this._shader=new gt({gl:t,vertexSource:"#version 300 es\r\nin vec2 a_position;\r\n\r\nin vec2 a_texcoord;\r\nout vec2 v_texcoord;\r\n\r\nvoid main() {\r\n  gl_Position = vec4(a_position, 0.0, 1.0);\r\n\r\n  // Pass the texcoord to the fragment shader.\r\n  v_texcoord = a_texcoord;\r\n}",fragmentSource:"#version 300 es\r\nprecision mediump float;\r\n\r\n// Passed in from the vertex shader.\r\nin vec2 v_texcoord;\r\n\r\n// The texture.\r\nuniform sampler2D u_texture;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n   fragColor = texture(u_texture, v_texcoord);\r\n}"}),this._shader.compile(),this._buffer=new mt({gl:t,type:"static",data:new Float32Array([-1,-1,0,0,-1,1,0,1,1,-1,1,0,1,-1,1,0,-1,1,0,1,1,1,1,1])}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_texcoord",2]]}),this._buffer.upload()}renderWithPostProcessor(t){const e=this._gl;t.getShader().use(),t.getLayout().use(),e.drawArrays(e.TRIANGLES,0,6)}renderToScreen(){const t=this._gl;this._shader.use(),this._layout.use(),t.drawArrays(t.TRIANGLES,0,6)}}class wt{constructor(t,e,n){this._logger=R.getInstance(),this._gl=t,this.buffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer);const i=6*e;if(n){const n=65535,r=Math.floor((n-1)/4);this.bufferGlType=t.UNSIGNED_SHORT,this.bufferData=new Uint16Array(i),e>r&&this._logger.warn("Total quads exceeds hardware index buffer limit (uint16), max(".concat(r,") requested quads(").concat(e,")"))}else this.bufferData=new Uint32Array(i);let r=0;for(let s=0;s<i;s+=6)this.bufferData[s+0]=r+0,this.bufferData[s+1]=r+1,this.bufferData[s+2]=r+2,this.bufferData[s+3]=r+2,this.bufferData[s+4]=r+1,this.bufferData[s+5]=r+3,r+=4;t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.bufferData,t.STATIC_DRAW)}get size(){return this.bufferData.length}upload(){const t=this._gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.bufferData,t.STATIC_DRAW)}bind(){const t=this._gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer)}dispose(){this._gl.deleteBuffer(this.buffer),this._gl=null}}class At{constructor(t){this.type="ex.image",this.priority=0,this._maxImages=10922,this._maxTextures=0,this._imageCount=0,this._textures=[],this._textureIndex=0,this._textureToIndex=new Map,this._images=new Set,this._vertexIndex=0,this._imageToWidth=new Map,this._imageToHeight=new Map,this._view=[0,0,0,0],this._dest=[0,0],this._quad=[0,0,0,0,0,0,0,0],this.pixelArtSampler=t.pixelArtSampler,this.uvPadding=t.uvPadding}initialize(t,e){this._gl=t,this._context=e,this._maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),125);const n=this._transformFragmentSource("#version 300 es\r\nprecision mediump float;\r\n\r\n// UV coord\r\nin vec2 v_texcoord;\r\n\r\n// Texture index\r\nin lowp float v_textureIndex;\r\n\r\n// Textures in the current draw\r\nuniform sampler2D u_textures[%%count%%];\r\n\r\nuniform bool u_pixelart;\r\n\r\n// Opacity\r\nin float v_opacity;\r\n\r\nin vec4 v_tint;\r\n\r\nin vec2 v_res;\r\n\r\nout vec4 fragColor;\r\n\r\n// Inigo Quilez pixel art filter https://jorenjoestar.github.io/post/pixel_art_filtering/\r\nvec2 uv_iq(in vec2 uv, in vec2 texture_size) {\r\n  vec2 pixel = uv * texture_size;\r\n  \r\n  vec2 seam=floor(pixel+.5);\r\n  vec2 dudv=fwidth(pixel);\r\n  pixel=seam+clamp((pixel-seam)/dudv,-.5,.5);\r\n  \r\n  return pixel/texture_size;\r\n}\r\n\r\nvoid main(){\r\n  // In order to support the most efficient sprite batching, we have multiple\r\n  // textures loaded into the gpu (usually 8) this picker logic skips over textures\r\n  // that do not apply to a particular sprite.\r\n  \r\n  vec4 color=vec4(1.,0,0,1.);\r\n  \r\n  // GLSL is templated out to pick the right texture and set the vec4 color\r\n  %%texture_picker%%\r\n  \r\n  color.rgb=color.rgb*v_opacity;\r\n  color.a=color.a*v_opacity;\r\n  fragColor=color*v_tint;\r\n}",this._maxTextures);this._shader=new gt({gl:t,fragmentSource:n,vertexSource:"#version 300 es\r\nin vec2 a_position;\r\n\r\n// Opacity\r\nin float a_opacity;\r\nout float v_opacity;\r\n\r\n// UV coordinate\r\nin vec2 a_texcoord;\r\nout vec2 v_texcoord;\r\n\r\n// Texture res\r\nin vec2 a_res;\r\nout vec2 v_res;\r\n\r\n// Texture number\r\nin lowp float a_textureIndex;\r\nout lowp float v_textureIndex;\r\n\r\nin vec4 a_tint;\r\nout vec4 v_tint;\r\n\r\nuniform mat4 u_matrix;\r\n\r\nvoid main(){\r\n  // Set the vertex position using the ortho transform matrix\r\n  gl_Position=u_matrix*vec4(a_position,0.,1.);\r\n  \r\n  // Pass through the Opacity to the fragment shader\r\n  v_opacity=a_opacity;\r\n  // Pass through the UV coord to the fragment shader\r\n  v_texcoord=a_texcoord;\r\n\r\n  v_res = a_res;\r\n\r\n  // Pass through the texture number to the fragment shader\r\n  v_textureIndex=a_textureIndex;\r\n  // Pass through the tint\r\n  v_tint=a_tint;\r\n}"}),this._shader.compile(),this._shader.use(),this._shader.setUniformMatrix("u_matrix",e.ortho),this._shader.setUniformIntArray("u_textures",[...Array(this._maxTextures)].map(((t,e)=>e))),this._buffer=new mt({gl:t,size:48*this._maxImages,type:"dynamic"}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_opacity",1],["a_res",2],["a_texcoord",2],["a_textureIndex",1],["a_tint",4]]}),this._quads=new wt(t,this._maxImages,!0)}dispose(){this._buffer.dispose(),this._quads.dispose(),this._shader.dispose(),this._textures.length=0,this._context=null,this._gl=null}_transformFragmentSource(t,e){let n=t.replace("%%count%%",e.toString()),i="";for(let r=0;r<e;r++)i+=0===r?"if (v_textureIndex <= ".concat(r,".5) {\n"):"   else if (v_textureIndex <= ".concat(r,".5) {\n"),i+="      vec2 uv = u_pixelart ? uv_iq(v_texcoord, v_res) : v_texcoord;\n",i+="      color = texture(u_textures[".concat(r,"], uv);\n"),i+="   }\n";return n=n.replace("%%texture_picker%%",i),n}_addImageAsTexture(t){if(this._images.has(t))return;const e=t.getAttribute(it.Filtering),n=e?tt(e):null,i=et(t.getAttribute(it.WrappingX)),r=et(t.getAttribute(it.WrappingY)),s="true"===t.getAttribute("forceUpload"),o=this._context.textureLoader.load(t,{filtering:n,wrapping:{x:i,y:r}},s);t.removeAttribute("forceUpload"),-1===this._textures.indexOf(o)&&(this._textures.push(o),this._textureToIndex.set(o,this._textureIndex++),this._images.add(t))}_bindTextures(t){for(let e=0;e<this._maxTextures;e++)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this._textures[e]||this._textures[0])}_getTextureIdForImage(t){var e;if(t){const n=this._context.textureLoader.get(t);return null!==(e=this._textureToIndex.get(n))&&void 0!==e?e:-1}return-1}_isFull(){return this._imageCount>=this._maxImages||this._textures.length>=this._maxTextures}_getImageWidth(t){let e=this._imageToWidth.get(t);return void 0===e&&(e=t.width,this._imageToWidth.set(t,e)),e}_getImageHeight(t){let e=this._imageToHeight.get(t);return void 0===e&&(e=t.height,this._imageToHeight.set(t,e)),e}draw(t,e,n,i,r,s,o,a,l){var c,h,d,u;this._isFull()&&this.flush(),this._imageCount++,this._addImageAsTexture(t);const p=this._getImageWidth(t),f=this._getImageHeight(t);let m=p||i||0,v=f||r||0;this._view[2]=null!==(c=null!==i&&void 0!==i?i:p)&&void 0!==c?c:0,this._view[3]=null!==(h=null!==r&&void 0!==r?r:f)&&void 0!==h?h:0,this._dest[0]=null!==e&&void 0!==e?e:1,this._dest[1]=null!==n&&void 0!==n?n:1,void 0!==s&&void 0!==o&&void 0!==a&&void 0!==l&&(this._view[0]=null!==e&&void 0!==e?e:1,this._view[1]=null!==n&&void 0!==n?n:1,this._view[2]=null!==(d=null!==i&&void 0!==i?i:p)&&void 0!==d?d:0,this._view[3]=null!==(u=null!==r&&void 0!==r?r:f)&&void 0!==u?u:0,this._dest[0]=s,this._dest[1]=o,m=a,v=l),e=this._view[0],n=this._view[1];const y=this._view[2],x=this._view[3],_=this._context.getTransform(),b=this._context.opacity,w=this._context.snapToPixel;this._quad[0]=this._dest[0],this._quad[1]=this._dest[1],this._quad[2]=this._dest[0]+m,this._quad[3]=this._dest[1],this._quad[4]=this._dest[0],this._quad[5]=this._dest[1]+v,this._quad[6]=this._dest[0]+m,this._quad[7]=this._dest[1]+v,_.multiplyQuadInPlace(this._quad),w&&(this._quad[0]=~~(this._quad[0]+g(this._quad[0])*Rt),this._quad[1]=~~(this._quad[1]+g(this._quad[1])*Rt),this._quad[2]=~~(this._quad[2]+g(this._quad[2])*Rt),this._quad[3]=~~(this._quad[3]+g(this._quad[3])*Rt),this._quad[4]=~~(this._quad[4]+g(this._quad[4])*Rt),this._quad[5]=~~(this._quad[5]+g(this._quad[5])*Rt),this._quad[6]=~~(this._quad[6]+g(this._quad[6])*Rt),this._quad[7]=~~(this._quad[7]+g(this._quad[7])*Rt));const A=this._context.tint,S=this._getTextureIdForImage(t),C=p||m,E=f||v,k=(e+this.uvPadding)/C,T=(n+this.uvPadding)/E,P=(e+y-this.uvPadding)/C,R=(n+x-this.uvPadding)/E,I=p,M=f,B=this._layout.vertexBuffer.bufferData;B[this._vertexIndex++]=this._quad[0],B[this._vertexIndex++]=this._quad[1],B[this._vertexIndex++]=b,B[this._vertexIndex++]=I,B[this._vertexIndex++]=M,B[this._vertexIndex++]=k,B[this._vertexIndex++]=T,B[this._vertexIndex++]=S,B[this._vertexIndex++]=A.r/255,B[this._vertexIndex++]=A.g/255,B[this._vertexIndex++]=A.b/255,B[this._vertexIndex++]=A.a,B[this._vertexIndex++]=this._quad[4],B[this._vertexIndex++]=this._quad[5],B[this._vertexIndex++]=b,B[this._vertexIndex++]=I,B[this._vertexIndex++]=M,B[this._vertexIndex++]=k,B[this._vertexIndex++]=R,B[this._vertexIndex++]=S,B[this._vertexIndex++]=A.r/255,B[this._vertexIndex++]=A.g/255,B[this._vertexIndex++]=A.b/255,B[this._vertexIndex++]=A.a,B[this._vertexIndex++]=this._quad[2],B[this._vertexIndex++]=this._quad[3],B[this._vertexIndex++]=b,B[this._vertexIndex++]=I,B[this._vertexIndex++]=M,B[this._vertexIndex++]=P,B[this._vertexIndex++]=T,B[this._vertexIndex++]=S,B[this._vertexIndex++]=A.r/255,B[this._vertexIndex++]=A.g/255,B[this._vertexIndex++]=A.b/255,B[this._vertexIndex++]=A.a,B[this._vertexIndex++]=this._quad[6],B[this._vertexIndex++]=this._quad[7],B[this._vertexIndex++]=b,B[this._vertexIndex++]=I,B[this._vertexIndex++]=M,B[this._vertexIndex++]=P,B[this._vertexIndex++]=R,B[this._vertexIndex++]=S,B[this._vertexIndex++]=A.r/255,B[this._vertexIndex++]=A.g/255,B[this._vertexIndex++]=A.b/255,B[this._vertexIndex++]=A.a}hasPendingDraws(){return 0!==this._imageCount}flush(){if(0===this._imageCount)return;const t=this._gl;this._shader.use(),this._layout.use(!0,48*this._imageCount),this._shader.setUniformMatrix("u_matrix",this._context.ortho),this._shader.setUniformBoolean("u_pixelart",this.pixelArtSampler),this._bindTextures(t),this._quads.bind(),t.drawElements(t.TRIANGLES,6*this._imageCount,this._quads.bufferGlType,0),yt.DrawnImagesCount+=this._imageCount,yt.DrawCallCount++,this._imageCount=0,this._vertexIndex=0,this._textures.length=0,this._textureIndex=0,this._textureToIndex.clear(),this._images.clear(),this._imageToWidth.clear(),this._imageToHeight.clear()}}class St{constructor(){this.type="ex.rectangle",this.priority=0,this._maxRectangles=10922,this._rectangleCount=0,this._vertexIndex=0}initialize(t,e){this._gl=t,this._context=e,this._shader=new gt({gl:t,fragmentSource:"#version 300 es\r\n\r\nprecision mediump float;\r\n\r\n// UV coord\r\nin vec2 v_uv;\r\n\r\nin vec2 v_size; // in pixels\r\n\r\n// Color coord to blend with image\r\nin lowp vec4 v_color;\r\n\r\n// Stroke color if used\r\nin lowp vec4 v_strokeColor;\r\n\r\n// Stroke thickness if used\r\nin lowp float v_strokeThickness; // in pixels\r\n\r\n// Opacity\r\nin float v_opacity;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n    // modified from https://stackoverflow.com/questions/59197671/glsl-rounded-rectangle-with-variable-border\r\n    vec2 uv = v_uv;\r\n    vec2 fragCoord = uv * v_size;\r\n    float maxX = v_size.x - v_strokeThickness;\r\n    float minX = v_strokeThickness;\r\n    float maxY = v_size.y - v_strokeThickness;\r\n    float minY = v_strokeThickness;\r\n\r\n    if (fragCoord.x < maxX && fragCoord.x > minX &&\r\n        fragCoord.y < maxY && fragCoord.y > minY) {\r\n      fragColor = v_color;\r\n    } else {\r\n      fragColor = v_strokeColor;\r\n    }\r\n    fragColor.a *= v_opacity;\r\n    fragColor.rgb *= fragColor.a;\r\n\r\n    // vec2 v2CenteredPos     = abs(fragCoord - v_size.xy / 2.0);\r\n    // vec2 v2HalfShapeSizePx = v_size.xy/2.0 - v_strokeThickness/2.0;\r\n\r\n    // float fHalfBorderDist      = 0.0;\r\n    // float fHalfBorderThickness = 0.0;\r\n\r\n    // if (fragCoord.x > max(v_radius, v_strokeThickness) && \r\n    //     fragCoord.x < v_size.x - max(v_radius, v_strokeThickness))\r\n    // {\r\n    //     fHalfBorderDist      = v2CenteredPos.y - v2HalfShapeSizePx.y;\r\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\r\n    // }\r\n    // else if (fragCoord.y > max(v_radius, v_strokeThickness) && \r\n    //          fragCoord.y < v_size.y - max(v_radius, v_strokeThickness))\r\n    // {\r\n    //     fHalfBorderDist      = v2CenteredPos.x - v2HalfShapeSizePx.x;\r\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\r\n    // }\r\n    // else\r\n    // {\r\n    //     vec2 edgeVec = max(vec2(0.0), v_radius - vec2(\r\n    //         uv.x > 0.5 ? v_size.x - fragCoord.x : fragCoord.x,\r\n    //         uv.y > 0.5 ? v_size.y - fragCoord.y : fragCoord.y));\r\n        \r\n    //     float ellipse_ab    = v_radius-v_strokeThickness;\r\n    //     vec2 ellipse_isect = (v_strokeThickness > v_radius || v_strokeThickness > v_radius) ? vec2(0.0) :\r\n    //                             edgeVec.xy * ellipse_ab*ellipse_ab / length(ellipse_ab*edgeVec.yx); \r\n            \r\n    //     fHalfBorderThickness = (v_radius - length(ellipse_isect)) / 2.0;\r\n    //     fHalfBorderDist      = length(edgeVec) - (v_radius - fHalfBorderThickness);\r\n    // }\r\n\r\n    // vec4 v4FromColor = v_strokeColor;\r\n    // v4FromColor.rgb *= v4FromColor.a;\r\n    // vec4 v4ToColor   = vec4(0.0); // background color is transparent\r\n    // if (fHalfBorderDist < 0.0) {\r\n    //     v4ToColor = v_color;\r\n    //     v4ToColor.rgb *= v4ToColor.a;\r\n    // }\r\n\r\n    // float mixPct = abs(fHalfBorderDist) - fHalfBorderThickness;\r\n\r\n    // vec4 finalColor = mix(v4FromColor, v4ToColor, mixPct);\r\n    // gl_FragColor = finalColor;\r\n}",vertexSource:"#version 300 es\r\nin vec2 a_position;\r\n\r\n// UV coordinate\r\nin vec2 a_uv;\r\nout vec2 v_uv;\r\n\r\nin vec2 a_size;\r\nout vec2 v_size;\r\n\r\n// Opacity \r\nin float a_opacity;\r\nout float v_opacity;\r\n\r\nin vec4 a_color;\r\nout vec4 v_color;\r\n\r\nin vec4 a_strokeColor;\r\nout vec4 v_strokeColor;\r\n\r\nin float a_strokeThickness;\r\nout float v_strokeThickness;\r\n\r\nuniform mat4 u_matrix;\r\n\r\n\r\nvoid main() {\r\n   // Set the vertex position using the ortho transform matrix\r\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\r\n\r\n   // Pass through UV coords\r\n   v_uv = a_uv;\r\n   // Pass through size\r\n   v_size = a_size;\r\n   // Pass through the Opacity to the fragment shader\r\n   v_opacity = a_opacity;\r\n   // Pass through the color to the fragment shader\r\n   v_color = a_color;\r\n   // Pass through the stroke color to the fragment shader\r\n   v_strokeColor = a_strokeColor;\r\n   // Pass through the stroke thickenss to the fragment shader\r\n   v_strokeThickness = a_strokeThickness;\r\n}"}),this._shader.compile(),this._shader.use(),this._shader.setUniformMatrix("u_matrix",e.ortho),this._buffer=new mt({gl:t,size:64*this._maxRectangles,type:"dynamic"}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_uv",2],["a_size",2],["a_opacity",1],["a_color",4],["a_strokeColor",4],["a_strokeThickness",1]]}),this._quads=new wt(t,this._maxRectangles,!0)}dispose(){this._buffer.dispose(),this._quads.dispose(),this._shader.dispose(),this._context=null,this._gl=null}_isFull(){return this._rectangleCount>=this._maxRectangles}draw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0]instanceof A&&e[1]instanceof A?this.drawLine.apply(this,e):this.drawRectangle.apply(this,e)}drawLine(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._isFull()&&this.flush(),this._rectangleCount++;const r=this._context.getTransform(),s=this._context.opacity,o=this._context.snapToPixel,a=e.sub(t),l=a.size,c=a.normalize().perpendicular(),h=i/2,d=r.multiply(c.scale(h).add(t)),u=r.multiply(c.scale(-h).add(t)),p=r.multiply(c.scale(h).add(e)),f=r.multiply(c.scale(-h).add(e));o&&(d.x=~~(d.x+Rt),d.y=~~(d.y+Rt),p.x=~~(p.x+Rt),p.y=~~(p.y+Rt),u.x=~~(u.x+Rt),u.y=~~(u.y+Rt),f.x=~~(f.x+Rt),f.y=~~(f.y+Rt));const g=C.Transparent,m=this._layout.vertexBuffer.bufferData;m[this._vertexIndex++]=d.x,m[this._vertexIndex++]=d.y,m[this._vertexIndex++]=0,m[this._vertexIndex++]=0,m[this._vertexIndex++]=l,m[this._vertexIndex++]=i,m[this._vertexIndex++]=s,m[this._vertexIndex++]=n.r/255,m[this._vertexIndex++]=n.g/255,m[this._vertexIndex++]=n.b/255,m[this._vertexIndex++]=n.a,m[this._vertexIndex++]=g.r/255,m[this._vertexIndex++]=g.g/255,m[this._vertexIndex++]=g.b/255,m[this._vertexIndex++]=g.a,m[this._vertexIndex++]=0,m[this._vertexIndex++]=u.x,m[this._vertexIndex++]=u.y,m[this._vertexIndex++]=0,m[this._vertexIndex++]=1,m[this._vertexIndex++]=l,m[this._vertexIndex++]=i,m[this._vertexIndex++]=s,m[this._vertexIndex++]=n.r/255,m[this._vertexIndex++]=n.g/255,m[this._vertexIndex++]=n.b/255,m[this._vertexIndex++]=n.a,m[this._vertexIndex++]=g.r/255,m[this._vertexIndex++]=g.g/255,m[this._vertexIndex++]=g.b/255,m[this._vertexIndex++]=g.a,m[this._vertexIndex++]=0,m[this._vertexIndex++]=p.x,m[this._vertexIndex++]=p.y,m[this._vertexIndex++]=1,m[this._vertexIndex++]=0,m[this._vertexIndex++]=l,m[this._vertexIndex++]=i,m[this._vertexIndex++]=s,m[this._vertexIndex++]=n.r/255,m[this._vertexIndex++]=n.g/255,m[this._vertexIndex++]=n.b/255,m[this._vertexIndex++]=n.a,m[this._vertexIndex++]=g.r/255,m[this._vertexIndex++]=g.g/255,m[this._vertexIndex++]=g.b/255,m[this._vertexIndex++]=g.a,m[this._vertexIndex++]=0,m[this._vertexIndex++]=f.x,m[this._vertexIndex++]=f.y,m[this._vertexIndex++]=1,m[this._vertexIndex++]=1,m[this._vertexIndex++]=l,m[this._vertexIndex++]=i,m[this._vertexIndex++]=s,m[this._vertexIndex++]=n.r/255,m[this._vertexIndex++]=n.g/255,m[this._vertexIndex++]=n.b/255,m[this._vertexIndex++]=n.a,m[this._vertexIndex++]=g.r/255,m[this._vertexIndex++]=g.g/255,m[this._vertexIndex++]=g.b/255,m[this._vertexIndex++]=g.a,m[this._vertexIndex++]=0}drawRectangle(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C.Transparent,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this._isFull()&&this.flush(),this._rectangleCount++;const o=this._context.getTransform(),a=this._context.opacity,l=this._context.snapToPixel,c=o.multiply(t.add(S(0,0))),h=o.multiply(t.add(S(e,0))),d=o.multiply(t.add(S(e,n))),u=o.multiply(t.add(S(0,n)));l&&(c.x=~~(c.x+Rt),c.y=~~(c.y+Rt),h.x=~~(h.x+Rt),h.y=~~(h.y+Rt),u.x=~~(u.x+Rt),u.y=~~(u.y+Rt),d.x=~~(d.x+Rt),d.y=~~(d.y+Rt));const p=this._layout.vertexBuffer.bufferData;p[this._vertexIndex++]=c.x,p[this._vertexIndex++]=c.y,p[this._vertexIndex++]=0,p[this._vertexIndex++]=0,p[this._vertexIndex++]=e,p[this._vertexIndex++]=n,p[this._vertexIndex++]=a,p[this._vertexIndex++]=i.r/255,p[this._vertexIndex++]=i.g/255,p[this._vertexIndex++]=i.b/255,p[this._vertexIndex++]=i.a,p[this._vertexIndex++]=r.r/255,p[this._vertexIndex++]=r.g/255,p[this._vertexIndex++]=r.b/255,p[this._vertexIndex++]=r.a,p[this._vertexIndex++]=s,p[this._vertexIndex++]=u.x,p[this._vertexIndex++]=u.y,p[this._vertexIndex++]=0,p[this._vertexIndex++]=1,p[this._vertexIndex++]=e,p[this._vertexIndex++]=n,p[this._vertexIndex++]=a,p[this._vertexIndex++]=i.r/255,p[this._vertexIndex++]=i.g/255,p[this._vertexIndex++]=i.b/255,p[this._vertexIndex++]=i.a,p[this._vertexIndex++]=r.r/255,p[this._vertexIndex++]=r.g/255,p[this._vertexIndex++]=r.b/255,p[this._vertexIndex++]=r.a,p[this._vertexIndex++]=s,p[this._vertexIndex++]=h.x,p[this._vertexIndex++]=h.y,p[this._vertexIndex++]=1,p[this._vertexIndex++]=0,p[this._vertexIndex++]=e,p[this._vertexIndex++]=n,p[this._vertexIndex++]=a,p[this._vertexIndex++]=i.r/255,p[this._vertexIndex++]=i.g/255,p[this._vertexIndex++]=i.b/255,p[this._vertexIndex++]=i.a,p[this._vertexIndex++]=r.r/255,p[this._vertexIndex++]=r.g/255,p[this._vertexIndex++]=r.b/255,p[this._vertexIndex++]=r.a,p[this._vertexIndex++]=s,p[this._vertexIndex++]=d.x,p[this._vertexIndex++]=d.y,p[this._vertexIndex++]=1,p[this._vertexIndex++]=1,p[this._vertexIndex++]=e,p[this._vertexIndex++]=n,p[this._vertexIndex++]=a,p[this._vertexIndex++]=i.r/255,p[this._vertexIndex++]=i.g/255,p[this._vertexIndex++]=i.b/255,p[this._vertexIndex++]=i.a,p[this._vertexIndex++]=r.r/255,p[this._vertexIndex++]=r.g/255,p[this._vertexIndex++]=r.b/255,p[this._vertexIndex++]=r.a,p[this._vertexIndex++]=s}hasPendingDraws(){return 0!==this._rectangleCount}flush(){if(0===this._rectangleCount)return;const t=this._gl;this._shader.use(),this._layout.use(!0),this._shader.setUniformMatrix("u_matrix",this._context.ortho),this._quads.bind(),t.drawElements(t.TRIANGLES,6*this._rectangleCount,this._quads.bufferGlType,0),yt.DrawnImagesCount+=this._rectangleCount,yt.DrawCallCount++,this._rectangleCount=0,this._vertexIndex=0}}class Ct{constructor(){this.type="ex.circle",this.priority=0,this._maxCircles=10922,this._circleCount=0,this._vertexIndex=0}initialize(t,e){this._gl=t,this._context=e,this._shader=new gt({gl:t,fragmentSource:"#version 300 es\r\nprecision highp float;\r\n\r\n// UV coord\r\nin vec2 v_uv;\r\n\r\n// Color coord to blend with image\r\nin lowp vec4 v_color;\r\n\r\n// Stroke color if used\r\nin lowp vec4 v_strokeColor;\r\n\r\n// Stroke thickness if used\r\nin lowp float v_strokeThickness;\r\n\r\n// Opacity\r\nin float v_opacity;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n  // make (0, 0) the center the uv \r\n  vec2 uv = v_uv * 2.0 - 1.0;\r\n\r\n  vec4 color = v_color;\r\n  vec4 strokeColor = v_strokeColor;\r\n\r\n  // circle border is at radius 1.0 \r\n  // dist is > 0 when inside the circle \r\n  float d = length(uv);\r\n  float dist = 1.0 - length(uv);\r\n\r\n  // Fade based on fwidth\r\n  float fade = fwidth(dot(uv, uv));\r\n\r\n  // if dist is greater than 0 step to 1;\r\n  // when we cross this 0 threshold add a smooth fade\r\n  float fill = smoothstep(-fade/2.0, fade/2.0, dist);\r\n\r\n  // if dist is greater than the stroke thickness step to 1\r\n  float stroke = 1.0 - smoothstep(v_strokeThickness, v_strokeThickness + fade, dist);\r\n\r\n  strokeColor.a *= fill * stroke;\r\n  strokeColor.rgb *= strokeColor.a;\r\n\r\n  color.a *= fill * (1.0 - stroke);\r\n  color.rgb *= color.a;\r\n\r\n  vec4 finalColor = mix(vec4(0.0), (color + strokeColor), fill);\r\n  finalColor.rgb = finalColor.rgb * v_opacity;\r\n  finalColor.a = finalColor.a * v_opacity;\r\n  fragColor = finalColor;\r\n}",vertexSource:"#version 300 es\r\nin vec2 a_position;\r\n\r\n// UV coordinate\r\nin vec2 a_uv;\r\nout vec2 v_uv;\r\n\r\n// Opacity \r\nin float a_opacity;\r\nout float v_opacity;\r\n\r\nin vec4 a_color;\r\nout vec4 v_color;\r\n\r\nin vec4 a_strokeColor;\r\nout vec4 v_strokeColor;\r\n\r\nin float a_strokeThickness;\r\nout float v_strokeThickness;\r\n\r\nuniform mat4 u_matrix;\r\n\r\n\r\nvoid main() {\r\n   // Set the vertex position using the ortho transform matrix\r\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\r\n\r\n   // Pass through UV coords\r\n   v_uv = a_uv;\r\n   // Pass through the Opacity to the fragment shader\r\n   v_opacity = a_opacity;\r\n   // Pass through the color to the fragment shader\r\n   v_color = a_color;\r\n   // Pass through the stroke color to the fragment shader\r\n   v_strokeColor = a_strokeColor;\r\n   // Pass through the stroke thickenss to the fragment shader\r\n   v_strokeThickness = a_strokeThickness;\r\n}"}),this._shader.compile(),this._shader.use(),this._shader.setUniformMatrix("u_matrix",e.ortho),this._buffer=new mt({gl:t,size:56*this._maxCircles,type:"dynamic"}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_uv",2],["a_opacity",1],["a_color",4],["a_strokeColor",4],["a_strokeThickness",1]]}),this._quads=new wt(t,this._maxCircles,!0)}dispose(){this._buffer.dispose(),this._quads.dispose(),this._shader.dispose(),this._context=null,this._gl=null}_isFull(){return this._circleCount>=this._maxCircles}draw(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.Transparent,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._isFull()&&this.flush(),this._circleCount++;const s=this._context.getTransform(),o=this._context.opacity,a=this._context.snapToPixel,l=s.multiply(t.add(S(-e,-e))),c=s.multiply(t.add(S(e,-e))),h=s.multiply(t.add(S(e,e))),d=s.multiply(t.add(S(-e,e)));a&&(l.x=~~(l.x+Rt),l.y=~~(l.y+Rt),c.x=~~(c.x+Rt),c.y=~~(c.y+Rt),d.x=~~(d.x+Rt),d.y=~~(d.y+Rt),h.x=~~(h.x+Rt),h.y=~~(h.y+Rt));const u=this._layout.vertexBuffer.bufferData;u[this._vertexIndex++]=l.x,u[this._vertexIndex++]=l.y,u[this._vertexIndex++]=0,u[this._vertexIndex++]=0,u[this._vertexIndex++]=o,u[this._vertexIndex++]=n.r/255,u[this._vertexIndex++]=n.g/255,u[this._vertexIndex++]=n.b/255,u[this._vertexIndex++]=n.a,u[this._vertexIndex++]=i.r/255,u[this._vertexIndex++]=i.g/255,u[this._vertexIndex++]=i.b/255,u[this._vertexIndex++]=i.a,u[this._vertexIndex++]=r/e,u[this._vertexIndex++]=d.x,u[this._vertexIndex++]=d.y,u[this._vertexIndex++]=0,u[this._vertexIndex++]=1,u[this._vertexIndex++]=o,u[this._vertexIndex++]=n.r/255,u[this._vertexIndex++]=n.g/255,u[this._vertexIndex++]=n.b/255,u[this._vertexIndex++]=n.a,u[this._vertexIndex++]=i.r/255,u[this._vertexIndex++]=i.g/255,u[this._vertexIndex++]=i.b/255,u[this._vertexIndex++]=i.a,u[this._vertexIndex++]=r/e,u[this._vertexIndex++]=c.x,u[this._vertexIndex++]=c.y,u[this._vertexIndex++]=1,u[this._vertexIndex++]=0,u[this._vertexIndex++]=o,u[this._vertexIndex++]=n.r/255,u[this._vertexIndex++]=n.g/255,u[this._vertexIndex++]=n.b/255,u[this._vertexIndex++]=n.a,u[this._vertexIndex++]=i.r/255,u[this._vertexIndex++]=i.g/255,u[this._vertexIndex++]=i.b/255,u[this._vertexIndex++]=i.a,u[this._vertexIndex++]=r/e,u[this._vertexIndex++]=h.x,u[this._vertexIndex++]=h.y,u[this._vertexIndex++]=1,u[this._vertexIndex++]=1,u[this._vertexIndex++]=o,u[this._vertexIndex++]=n.r/255,u[this._vertexIndex++]=n.g/255,u[this._vertexIndex++]=n.b/255,u[this._vertexIndex++]=n.a,u[this._vertexIndex++]=i.r/255,u[this._vertexIndex++]=i.g/255,u[this._vertexIndex++]=i.b/255,u[this._vertexIndex++]=i.a,u[this._vertexIndex++]=r/e}hasPendingDraws(){return 0!==this._circleCount}flush(){if(0===this._circleCount)return;const t=this._gl;this._shader.use(),this._layout.use(!0),this._shader.setUniformMatrix("u_matrix",this._context.ortho),this._quads.bind(),t.drawElements(t.TRIANGLES,6*this._circleCount,this._quads.bufferGlType,0),yt.DrawnImagesCount+=this._circleCount,yt.DrawCallCount++,this._circleCount=0,this._vertexIndex=0}}class Et{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.builder=t,this.recycler=e,this.maxObjects=n,this.totalAllocations=0,this.index=0,this.objects=[],this.disableWarnings=!1,this._logger=R.getInstance()}dispose(){this.objects.length=0}preallocate(){for(let t=0;t<this.maxObjects;t++)this.objects[t]=this.builder()}using(t){const e=t(this);return e?this.done(...e):this.done()}borrow(t){t(this.get()),this.index--}get(){if(this.index===this.maxObjects&&(this.disableWarnings||this._logger.warn("Max pooled objects reached, possible memory leak? Doubling"),this.maxObjects=2*this.maxObjects),this.objects[this.index])return this.recycler(this.objects[this.index++]);this.totalAllocations++;return this.objects[this.index++]=this.builder()}done(){this.index=0;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const i of e){const t=this.objects.indexOf(i);this.objects[t]=this.builder(),this.totalAllocations++}return e}}class kt{constructor(){this.z=0,this.priority=0,this.transform=H.identity(),this.state={z:0,opacity:1,tint:C.White,material:null}}}class Tt{constructor(t){this._logger=R.getInstance(),this._color=C.Transparent,this._initialized=!1,this._images=new Map,this._textures=new Map;const{color:e,name:n,vertexSource:i,fragmentSource:r,graphicsContext:s,images:o}=t;if(this._name=null!==n&&void 0!==n?n:"anonymous material",this._vertexSource=null!==i&&void 0!==i?i:"#version 300 es\nin vec2 a_position;\n\nin vec2 a_uv;\nout vec2 v_uv;\n\nin vec2 a_screenuv;\nout vec2 v_screenuv;\n\nuniform mat4 u_matrix;\nuniform mat4 u_transform;\n\nvoid main() {\n  // Set the vertex position using the ortho & transform matrix\n  gl_Position = u_matrix * u_transform * vec4(a_position, 0.0, 1.0);\n\n  // Pass through the UV coord to the fragment shader\n  v_uv = a_uv;\n  v_screenuv = a_screenuv;\n}\n",this._fragmentSource=r,this._color=null!==e&&void 0!==e?e:this._color,!s)throw Error("Material ".concat(n," must be provided an excalibur webgl graphics context"));if(s instanceof Mt?(this._graphicsContext=s,this._initialize(s)):this._logger.warn("Material ".concat(n," was created in 2D Canvas mode, currently only WebGL is supported")),o)for(const a in o)this.addImageSource(a,o[a])}_initialize(t){if(this._initialized)return;const e=t.__gl;this._maxTextureSlots=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)-2,this._shader=t.createShader({vertexSource:this._vertexSource,fragmentSource:this._fragmentSource}),this._shader.compile(),this._initialized=!0}get name(){var t;return null!==(t=this._name)&&void 0!==t?t:"anonymous material"}get isUsingScreenTexture(){return this._fragmentSource.includes("u_screen_texture")}update(t){this._shader&&(this._shader.use(),t(this._shader))}getShader(){return this._shader}addImageSource(t,e){this._images.size<this._maxTextureSlots?this._images.set(t,e):this._logger.warn("Max number texture slots ".concat(this._maxTextureSlots,' have been reached for material "').concat(this.name,'", ')+"no more textures will be uploaded due to hardware constraints.")}removeImageSource(t){const e=this._images.get(t);this._graphicsContext.textureLoader.delete(e.image),this._images.delete(t)}_loadImageSource(t){const e=t.image,n=e.getAttribute(it.Filtering),i=n?tt(n):null,r=et(e.getAttribute(it.WrappingX)),s=et(e.getAttribute(it.WrappingY)),o="true"===e.getAttribute("forceUpload"),a=this._graphicsContext.textureLoader.load(e,{filtering:i,wrapping:{x:r,y:s}},o);return e.removeAttribute("forceUpload"),this._textures.has(t)||this._textures.set(t,a),a}uploadAndBind(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(const[n,i]of this._images.entries()){if(!i.isLoaded()){this._logger.warnOnce("Image named ".concat(n," in material ").concat(this.name," not loaded, nothing will be uploaded to the shader.")+" Did you forget to add this to a loader? https://excaliburjs.com/docs/loaders/");continue}const r=this._loadImageSource(i);t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,r),this._shader.trySetUniformInt(n,e),e++}}use(){if(!this._initialized)throw Error("Material ".concat(this.name," not yet initialized, use the ExcaliburGraphicsContext.createMaterial() to work around this."));this._shader.use(),this._shader.trySetUniformFloatColor("u_color",this._color)}}class Pt{constructor(){this.type="ex.material",this.priority=0,this._textures=[]}initialize(t,e){this._gl=t,this._context=e,this._buffer=new mt({gl:t,size:24,type:"dynamic"}),this._layout=new vt({gl:t,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_uv",2],["a_screenuv",2]],suppressWarnings:!0}),this._quads=new wt(t,1,!0)}dispose(){this._buffer.dispose(),this._quads.dispose(),this._textures.length=0,this._context=null,this._gl=null}draw(t,e,n,i,r,s,o,a,l){var c,h,d,u;const p=this._gl,f=this._context.material,g=this._context.getTransform(),m=this._context.opacity,v=f.getShader(),y=this._layout.vertexBuffer.bufferData;let x=0,_=(null===t||void 0===t?void 0:t.width)||i||0,b=(null===t||void 0===t?void 0:t.height)||r||0,w=[0,0,null!==(c=null!==i&&void 0!==i?i:null===t||void 0===t?void 0:t.width)&&void 0!==c?c:0,null!==(h=null!==r&&void 0!==r?r:null===t||void 0===t?void 0:t.height)&&void 0!==h?h:0],A=[null!==e&&void 0!==e?e:1,null!==n&&void 0!==n?n:1];void 0!==s&&void 0!==o&&void 0!==a&&void 0!==l&&(w=[null!==e&&void 0!==e?e:1,null!==n&&void 0!==n?n:1,null!==(d=null!==i&&void 0!==i?i:null===t||void 0===t?void 0:t.width)&&void 0!==d?d:0,null!==(u=null!==r&&void 0!==r?r:null===t||void 0===t?void 0:t.height)&&void 0!==u?u:0],A=[s,o],_=a,b=l),e=w[0],n=w[1];const C=w[2],E=w[3],k=S(A[0],A[1]),T=S(A[0]+_,A[1]),P=S(A[0],A[1]+b),R=S(A[0]+_,A[1]+b),I=t.width||_,M=t.height||b,B=e/I,F=n/M,D=(e+C-.01)/I,j=(n+E-.01)/M,O=g.getPosition(),L=O.add(R),z=O.x/this._context.width,N=O.y/this._context.height,U=L.x/this._context.width,H=L.y/this._context.height;y[x++]=k.x,y[x++]=k.y,y[x++]=B,y[x++]=F,y[x++]=z,y[x++]=N,y[x++]=P.x,y[x++]=P.y,y[x++]=B,y[x++]=j,y[x++]=z,y[x++]=H,y[x++]=T.x,y[x++]=T.y,y[x++]=D,y[x++]=F,y[x++]=U,y[x++]=N,y[x++]=R.x,y[x++]=R.y,y[x++]=D,y[x++]=j,y[x++]=U,y[x++]=H;const W=this._addImageAsTexture(t);f.use(),this._layout.shader=v,this._layout.use(!0),v.trySetUniformFloat("u_time_ms",performance.now()),v.trySetUniformFloat("u_opacity",m),v.trySetUniformFloatVector("u_resolution",S(this._context.width,this._context.height)),v.trySetUniformFloatVector("u_graphic_resolution",S(I,M)),v.trySetUniformFloatVector("u_size",S(C,E)),v.trySetUniformMatrix("u_matrix",this._context.ortho),v.trySetUniformMatrix("u_transform",g.to4x4()),p.activeTexture(p.TEXTURE0+0),p.bindTexture(p.TEXTURE_2D,W),v.trySetUniformInt("u_graphic",0),p.activeTexture(p.TEXTURE0+1),p.bindTexture(p.TEXTURE_2D,this._context.materialScreenTexture),v.trySetUniformInt("u_screen_texture",1),f.uploadAndBind(p),this._quads.bind(),p.drawElements(p.TRIANGLES,6,this._quads.bufferGlType,0),yt.DrawnImagesCount++,yt.DrawCallCount++}_addImageAsTexture(t){const e=t.getAttribute(it.Filtering),n=e?tt(e):null,i=et(t.getAttribute(it.WrappingX)),r=et(t.getAttribute(it.WrappingY)),s="true"===t.getAttribute("forceUpload"),o=this._context.textureLoader.load(t,{filtering:n,wrapping:{x:i,y:r}},s);return t.removeAttribute("forceUpload"),-1===this._textures.indexOf(o)&&this._textures.push(o),o}hasPendingDraws(){return!1}flush(){}}const Rt=1e-4;class It{constructor(t){this._webglCtx=t,this._debugText=new at}drawRect(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{color:C.Black};this.drawLine(S(t,e),S(t+n,e),{...r}),this.drawLine(S(t+n,e),S(t+n,e+i),{...r}),this.drawLine(S(t+n,e+i),S(t,e+i),{...r}),this.drawLine(S(t,e+i),S(t,e),{...r})}drawLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{color:C.Black};this._webglCtx.draw("ex.line",t,e,n.color)}drawPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:C.Black,size:5};this._webglCtx.draw("ex.point",t,e.color,e.size)}drawText(t,e){this._debugText.write(this._webglCtx,t,e)}}class Mt{get z(){return this._state.current.z}set z(t){this._state.current.z=t}get opacity(){return this._state.current.opacity}set opacity(t){this._state.current.opacity=t}get tint(){return this._state.current.tint}set tint(t){this._state.current.tint=t}get width(){return this.__gl.canvas.width}get height(){return this.__gl.canvas.height}get ortho(){return this._ortho}checkIfResolutionSupported(t){let e=!0;return(t.width>4096||t.height>4096)&&(e=!1),e}constructor(t){this._logger=R.getInstance(),this._renderers=new Map,this._isDrawLifecycle=!1,this.useDrawSorting=!0,this._drawCallPool=new Et((()=>new kt),(t=>(t.priority=0,t.z=0,t.renderer=void 0,t.args=void 0,t)),4e3),this._drawCallIndex=0,this._drawCalls=new Array(4e3).fill(null),this._postProcessTargets=[],this._postprocessors=[],this._transform=new W,this._state=new V,this.snapToPixel=!1,this.smoothing=!1,this.pixelArtSampler=!1,this.uvPadding=.01,this.backgroundColor=C.ExcaliburBlue,this.multiSampleAntialiasing=!0,this.transparency=!0,this._isContextLost=!1,this._disposed=!1,this._imageToWidth=new Map,this._imageToHeight=new Map,this.debug=new It(this),this._totalPostProcessorTime=0;const{canvasElement:e,context:n,enableTransparency:i,antialiasing:r,uvPadding:s,multiSampleAntialiasing:o,pixelArtSampler:a,powerPreference:l,snapToPixel:c,backgroundColor:h,useDrawSorting:d,handleContextLost:u,handleContextRestored:p}=t;if(this.__gl=null!==n&&void 0!==n?n:e.getContext("webgl2",{antialias:null!==r&&void 0!==r?r:this.smoothing,premultipliedAlpha:!1,alpha:null!==i&&void 0!==i?i:this.transparency,depth:!1,powerPreference:null!==l&&void 0!==l?l:"high-performance"}),!this.__gl)throw Error("Failed to retrieve webgl context from browser");u&&this.__gl.canvas.addEventListener("webglcontextlost",u,!1),p&&this.__gl.canvas.addEventListener("webglcontextrestored",p,!1),this.__gl.canvas.addEventListener("webglcontextlost",(()=>{this._isContextLost=!0})),this.__gl.canvas.addEventListener("webglcontextrestored",(()=>{this._isContextLost=!1})),this.textureLoader=new nt(this.__gl),this.snapToPixel=null!==c&&void 0!==c?c:this.snapToPixel,this.smoothing=null!==r&&void 0!==r?r:this.smoothing,this.transparency=null!==i&&void 0!==i?i:this.transparency,this.pixelArtSampler=null!==a&&void 0!==a?a:this.pixelArtSampler,this.uvPadding=null!==s&&void 0!==s?s:this.uvPadding,this.multiSampleAntialiasing="boolean"===typeof o?o:this.multiSampleAntialiasing,this.samples="object"===typeof o?o.samples:void 0,this.backgroundColor=null!==h&&void 0!==h?h:this.backgroundColor,this.useDrawSorting=null!==d&&void 0!==d?d:this.useDrawSorting,this._drawCallPool.disableWarnings=!0,this._drawCallPool.preallocate(),this._init()}dispose(){if(!this._disposed){this._disposed=!0,this.textureLoader.dispose();for(const t of this._renderers.values())t.dispose();this._renderers.clear(),this._drawCallPool.dispose(),this._drawCalls.length=0,this.__gl=null}}_init(){const t=this.__gl;this._ortho=U.ortho(0,t.canvas.width,t.canvas.height,0,400,-400),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(this.backgroundColor.r/255,this.backgroundColor.g/255,this.backgroundColor.b/255,this.backgroundColor.a),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),this.register(new At({uvPadding:this.uvPadding,pixelArtSampler:this.pixelArtSampler})),this.register(new Pt),this.register(new St),this.register(new Ct),this.register(new _t),this.register(new xt),this.materialScreenTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.materialScreenTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.bindTexture(t.TEXTURE_2D,null),this._screenRenderer=new bt(t),this._renderTarget=new ct({gl:t,transparency:this.transparency,width:t.canvas.width,height:t.canvas.height}),this._postProcessTargets=[new ct({gl:t,transparency:this.transparency,width:t.canvas.width,height:t.canvas.height}),new ct({gl:t,transparency:this.transparency,width:t.canvas.width,height:t.canvas.height})],this._msaaTarget=new ct({gl:t,transparency:this.transparency,width:t.canvas.width,height:t.canvas.height,antialias:this.multiSampleAntialiasing,samples:this.samples})}register(t){this._renderers.set(t.type,t),t.initialize(this.__gl,this)}get(t){return this._renderers.get(t)}_isCurrentRenderer(t){return!this._currentRenderer||this._currentRenderer===t}beginDrawLifecycle(){this._isDrawLifecycle=!0}endDrawLifecycle(){this._isDrawLifecycle=!1}draw(t){if(this._isDrawLifecycle||this._logger.warnOnce("Attempting to draw outside the the drawing lifecycle (preDraw/postDraw) is not supported and is a source of bugs/errors.\nIf you want to do custom drawing, use Actor.graphics, or any onPreDraw or onPostDraw handler."),this._isContextLost)return void this._logger.errorOnce("Unable to draw ".concat(t,", the webgl context is lost"));const e=this._renderers.get(t);if(!e)throw Error("No renderer with name ".concat(t," has been registered"));for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(this.useDrawSorting){const n=this._drawCallPool.get();n.z=this._state.current.z,n.priority=e.priority,n.renderer=t,this.getTransform().clone(n.transform),n.state.z=this._state.current.z,n.state.opacity=this._state.current.opacity,n.state.tint=this._state.current.tint,n.state.material=this._state.current.material,n.args=i,this._drawCalls[this._drawCallIndex++]=n}else this._currentRenderer||(this._currentRenderer=e),this._isCurrentRenderer(e)||this._currentRenderer.flush(),e.draw(...i),this._currentRenderer=e}resetTransform(){this._transform.current=H.identity()}updateViewport(t){const e=this.__gl;this._ortho=this._ortho=U.ortho(0,t.width,t.height,0,400,-400),this._renderTarget.setResolution(e.canvas.width,e.canvas.height),this._msaaTarget.setResolution(e.canvas.width,e.canvas.height),this._postProcessTargets[0].setResolution(e.canvas.width,e.canvas.height),this._postProcessTargets[1].setResolution(e.canvas.width,e.canvas.height)}_getImageWidth(t){let e=this._imageToWidth.get(t);return void 0===e&&(e=t.width,this._imageToWidth.set(t,e)),e}_getImageHeight(t){let e=this._imageToHeight.get(t);return void 0===e&&(e=t.height,this._imageToHeight.set(t,e)),e}drawImage(t,e,n,i,r,s,o,a,l){if(0!==i&&0!==r&&0!==a&&0!==l&&0!==this._getImageWidth(t)&&0!==this._getImageHeight(t))return t?void(this._state.current.material?this.draw("ex.material",t,e,n,i,r,s,o,a,l):this.draw("ex.image",t,e,n,i,r,s,o,a,l)):(R.getInstance().warn("Cannot draw a null or undefined image"),void(console.trace&&console.trace()))}drawLine(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.draw("ex.rectangle",t,e,n,i)}drawRectangle(t,e,n,i,r,s){this.draw("ex.rectangle",t,e,n,i,r,s)}drawCircle(t,e,n,i,r){this.draw("ex.circle",t,e,n,i,r)}save(){this._transform.save(),this._state.save()}restore(){this._transform.restore(),this._state.restore()}translate(t,e){this._transform.translate(this.snapToPixel?~~(t+Rt):t,this.snapToPixel?~~(e+Rt):e)}rotate(t){this._transform.rotate(t)}scale(t,e){this._transform.scale(t,e)}transform(t){this._transform.current=t}getTransform(){return this._transform.current}multiply(t){this._transform.current.multiply(t,this._transform.current)}addPostProcessor(t){this._postprocessors.push(t),t.initialize(this.__gl)}removePostProcessor(t){const e=this._postprocessors.indexOf(t);-1!==e&&this._postprocessors.splice(e,1)}clearPostProcessors(){this._postprocessors.length=0}updatePostProcessors(t){for(const e of this._postprocessors){const n=e.getShader();n.use();const i=n.getUniforms();this._totalPostProcessorTime+=t,i.find((t=>"u_time_ms"===t.name))&&n.setUniformFloat("u_time_ms",this._totalPostProcessorTime),i.find((t=>"u_elapsed_ms"===t.name))&&n.setUniformFloat("u_elapsed_ms",t),i.find((t=>"u_resolution"===t.name))&&n.setUniformFloatVector("u_resolution",S(this.width,this.height)),e.onUpdate&&e.onUpdate(t)}}set material(t){this._state.current.material=t}get material(){return this._state.current.material}createMaterial(t){return new Tt({...t,graphicsContext:this})}createShader(t){const e=this.__gl,{vertexSource:n,fragmentSource:i}=t,r=new gt({gl:e,vertexSource:n,fragmentSource:i});return r.compile(),r}clear(){const t=this.__gl;(this.multiSampleAntialiasing?this._msaaTarget:this._renderTarget).use(),t.clearColor(this.backgroundColor.r/255,this.backgroundColor.g/255,this.backgroundColor.b/255,this.backgroundColor.a),t.clear(t.COLOR_BUFFER_BIT)}flush(){if(this._isContextLost)return void this._logger.errorOnce("Unable to flush the webgl context is lost");let t=this.multiSampleAntialiasing?this._msaaTarget:this._renderTarget;if(t.use(),this.useDrawSorting){for(let t=this._drawCallIndex;t<this._drawCalls.length;t++)this._drawCalls[t]=null;const e=new Map;for(const[t]of this._renderers){let n=0;for(n=0;n<this._drawCallIndex&&this._drawCalls[n].renderer!==t;n++);e.set(t,n)}this._drawCalls.sort(((t,n)=>{if(null===t||null===n)return 0;const i=t.z-n.z,r=e.get(t.renderer)-e.get(n.renderer),s=t.priority-n.priority;return 0===i?0===s?r:s:i}));const n=this._transform.current,i=this._state.current;if(this._drawCalls.length&&this._drawCallIndex){let e=this._drawCalls[0].renderer,n=this._renderers.get(e);for(let i=0;i<this._drawCallIndex;i++)this._transform.current=this._drawCalls[i].transform,this._state.current=this._drawCalls[i].state,this._drawCalls[i].renderer!==e&&(n.flush(),e=this._drawCalls[i].renderer,n=this._renderers.get(e)),n instanceof Pt&&this.material.isUsingScreenTexture&&(t.copyToTexture(this.materialScreenTexture),t.use()),n.draw(...this._drawCalls[i].args);n.hasPendingDraws()&&n.flush()}this._transform.current=n,this._state.current=i,this._drawCallPool.done(),this._drawCallIndex=0,this._imageToHeight.clear(),this._imageToWidth.clear()}else for(const e of this._renderers.values())e.hasPendingDraws()&&e.flush();if(t.disable(),this._postprocessors.length>0){t.toRenderSource().use()}for(let e=0;e<this._postprocessors.length;e++)t=this._postProcessTargets[e%2],this._postProcessTargets[e%2].use(),this._screenRenderer.renderWithPostProcessor(this._postprocessors[e]),this._postProcessTargets[e%2].toRenderSource().use();t.blitToScreen()}}const Bt=1e-4;class Ft{constructor(t){this._ex=t,this._debugText=new at}drawRect(t,e,n,i){this._ex.__ctx.save(),this._ex.__ctx.strokeStyle="red",this._ex.__ctx.strokeRect(this._ex.snapToPixel?~~(t+Bt):t,this._ex.snapToPixel?~~(e+Bt):e,this._ex.snapToPixel?~~(n+Bt):n,this._ex.snapToPixel?~~(i+Bt):i),this._ex.__ctx.restore()}drawLine(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{color:C.Black};this._ex.__ctx.save(),this._ex.__ctx.beginPath(),this._ex.__ctx.strokeStyle=n.color.toString(),this._ex.__ctx.moveTo(this._ex.snapToPixel?~~(t.x+Bt):t.x,this._ex.snapToPixel?~~(t.y+Bt):t.y),this._ex.__ctx.lineTo(this._ex.snapToPixel?~~(e.x+Bt):e.x,this._ex.snapToPixel?~~(e.y+Bt):e.y),this._ex.__ctx.lineWidth=2,this._ex.__ctx.stroke(),this._ex.__ctx.closePath(),this._ex.__ctx.restore()}drawPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:C.Black,size:5};this._ex.__ctx.save(),this._ex.__ctx.beginPath(),this._ex.__ctx.fillStyle=e.color.toString(),this._ex.__ctx.arc(this._ex.snapToPixel?~~(t.x+Bt):t.x,this._ex.snapToPixel?~~(t.y+Bt):t.y,e.size,0,2*Math.PI),this._ex.__ctx.fill(),this._ex.__ctx.closePath(),this._ex.__ctx.restore()}drawText(t,e){this._debugText.write(this._ex,t,e)}}class Dt{get width(){return this.__ctx.canvas.width}get height(){return this.__ctx.canvas.height}get opacity(){return this._state.current.opacity}set opacity(t){this._state.current.opacity=t}get tint(){return this._state.current.tint}set tint(t){this._state.current.tint=t}get smoothing(){return this.__ctx.imageSmoothingEnabled}set smoothing(t){this.__ctx.imageSmoothingEnabled=t}constructor(t){this.useDrawSorting=!1,this.z=0,this.backgroundColor=C.ExcaliburBlue,this._state=new V,this.snapToPixel=!1,this.debug=new Ft(this);const{canvasElement:e,context:n,enableTransparency:i,snapToPixel:r,antialiasing:s,backgroundColor:o}=t;if(this.__ctx=null!==n&&void 0!==n?n:e.getContext("2d",{alpha:null===i||void 0===i||i}),!this.__ctx)throw new Error("Cannot build new ExcaliburGraphicsContext2D for some reason!");this.backgroundColor=null!==o&&void 0!==o?o:this.backgroundColor,this.snapToPixel=null!==r&&void 0!==r?r:this.snapToPixel,this.smoothing=null!==s&&void 0!==s?s:this.smoothing}resetTransform(){this.__ctx.resetTransform()}updateViewport(t){}drawImage(t,e,n,i,r,s,o,a,l){if(0===i||0===r)return;if(0===a||0===l)return;if(0===t.width||0===t.height)return;this.__ctx.globalAlpha=this.opacity;const c=[t,e,n,i,r,s,o,a,l].filter((t=>void 0!==t)).map((t=>"number"===typeof t&&this.snapToPixel?~~t:t));this.__ctx.drawImage.apply(this.__ctx,c),yt.DrawCallCount++,yt.DrawnImagesCount=1}drawLine(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.__ctx.save(),this.__ctx.beginPath(),this.__ctx.strokeStyle=n.toString(),this.__ctx.moveTo(this.snapToPixel?~~(t.x+Bt):t.x,this.snapToPixel?~~(t.y+Bt):t.y),this.__ctx.lineTo(this.snapToPixel?~~(e.x+Bt):e.x,this.snapToPixel?~~(e.y+Bt):e.y),this.__ctx.lineWidth=i,this.__ctx.stroke(),this.__ctx.closePath(),this.__ctx.restore()}drawRectangle(t,e,n,i){this.__ctx.save(),this.__ctx.fillStyle=i.toString(),this.__ctx.fillRect(this.snapToPixel?~~(t.x+Bt):t.x,this.snapToPixel?~~(t.y+Bt):t.y,this.snapToPixel?~~(e+Bt):e,this.snapToPixel?~~(n+Bt):n),this.__ctx.restore()}drawCircle(t,e,n,i,r){this.__ctx.save(),this.__ctx.beginPath(),i&&(this.__ctx.strokeStyle=i.toString()),r&&(this.__ctx.lineWidth=r),this.__ctx.fillStyle=n.toString(),this.__ctx.arc(this.snapToPixel?~~(t.x+Bt):t.x,this.snapToPixel?~~(t.y+Bt):t.y,e,0,2*Math.PI),this.__ctx.fill(),i&&this.__ctx.stroke(),this.__ctx.closePath(),this.__ctx.restore()}save(){this.__ctx.save(),this._state.save()}restore(){this.__ctx.restore(),this._state.restore()}translate(t,e){this.__ctx.translate(this.snapToPixel?~~(t+Bt):t,this.snapToPixel?~~(e+Bt):e)}rotate(t){this.__ctx.rotate(t)}scale(t,e){this.__ctx.scale(t,e)}getTransform(){throw new Error("Not implemented")}multiply(t){this.__ctx.setTransform(this.__ctx.getTransform().multiply(t.toDOMMatrix()))}addPostProcessor(t){}removePostProcessor(t){}clearPostProcessors(){}updatePostProcessors(t){}beginDrawLifecycle(){}endDrawLifecycle(){}set material(t){this._state.current.material=t}get material(){return this._state.current.material}createMaterial(t){return null}clear(){this.__ctx.clearRect(0,0,this.width,this.height),this.__ctx.fillStyle=this.backgroundColor.toString(),this.__ctx.fillRect(0,0,this.width,this.height),yt.clear()}flush(){}dispose(){this.__ctx=null}}var jt;!function(t){t.Fixed="Fixed",t.FitContainerAndFill="FitContainerAndFill",t.FitScreenAndFill="FitScreenAndFill",t.FitContainerAndZoom="FitContainerAndZoom",t.FitScreenAndZoom="FitScreenAndZoom",t.FitScreen="FitScreen",t.FillScreen="FillScreen",t.FitContainer="FitContainer",t.FillContainer="FillContainer"}(jt||(jt={}));class Ot{static get SVGA(){return{width:800,height:600}}static get Standard(){return{width:1920,height:1080}}static get Atari2600(){return{width:160,height:192}}static get GameBoy(){return{width:160,height:144}}static get GameBoyAdvance(){return{width:240,height:160}}static get NintendoDS(){return{width:256,height:192}}static get NES(){return{width:256,height:224}}static get SNES(){return{width:256,height:244}}}const Lt={ScreenResize:"resize",PixelRatioChange:"pixelratio",FullScreenChange:"fullscreen"};class zt{constructor(t){var e,n,i,r;this.events=new h,this._antialiasing=!0,this._canvasImageRendering="auto",this._resolutionStack=[],this._viewportStack=[],this._pixelRatioOverride=null,this._isFullScreen=!1,this._isDisposed=!1,this._logger=R.getInstance(),this._fullscreenChangeHandler=()=>{this._isDisposed||(this._isFullScreen=!this._isFullScreen,this._logger.debug("Fullscreen Change",this._isFullScreen),this.events.emit("fullscreen",{fullscreen:this.isFullScreen}))},this._pixelRatioChangeHandler=()=>{this._isDisposed||(this._logger.debug("Pixel Ratio Change",window.devicePixelRatio),this._listenForPixelRatio(),this._devicePixelRatio=this._calculateDevicePixelRatio(),this.applyResolutionAndViewport(),this.events.emit("pixelratio",{pixelRatio:this.pixelRatio}))},this._resizeHandler=()=>{if(this._isDisposed)return;const t=this.parent;this._logger.debug("View port resized"),this._setResolutionAndViewportByDisplayMode(t),this.applyResolutionAndViewport(),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})},this._devicePixelRatio=this._calculateDevicePixelRatio(),this._contentArea=new B,this._unsafeArea=new B,this.viewport=t.viewport,this.resolution=null!==(e=t.resolution)&&void 0!==e?e:{...this.viewport},this._contentResolution=this.resolution,this._displayMode=null!==(n=t.displayMode)&&void 0!==n?n:jt.Fixed,this._canvas=t.canvas,this.graphicsContext=t.context,this._antialiasing=null!==(i=t.antialiasing)&&void 0!==i?i:this._antialiasing,this._canvasImageRendering=null!==(r=t.canvasImageRendering)&&void 0!==r?r:this._canvasImageRendering,this._browser=t.browser,this._pixelRatioOverride=t.pixelRatio,this._applyDisplayMode(),this._listenForPixelRatio(),this._canvas.addEventListener("fullscreenchange",this._fullscreenChangeHandler),this.applyResolutionAndViewport()}_listenForPixelRatio(){this._mediaQueryList&&!this._mediaQueryList.addEventListener&&this._mediaQueryList.removeListener(this._pixelRatioChangeHandler),this._mediaQueryList=this._browser.window.nativeComponent.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),this._mediaQueryList.addEventListener?this._mediaQueryList.addEventListener("change",this._pixelRatioChangeHandler,{once:!0}):this._mediaQueryList.addListener(this._pixelRatioChangeHandler)}dispose(){this._isDisposed||(this._isDisposed=!0,this.events.clear(),this._browser.window.off("resize",this._resizeHandler),this._browser.window.clear(),this._resizeObserver&&this._resizeObserver.disconnect(),this.parent.removeEventListener("resize",this._resizeHandler),this._mediaQueryList.removeEventListener?this._mediaQueryList.removeEventListener("change",this._pixelRatioChangeHandler):this._mediaQueryList.removeListener(this._pixelRatioChangeHandler),this._canvas.removeEventListener("fullscreenchange",this._fullscreenChangeHandler),this._canvas=null)}_calculateDevicePixelRatio(){if(window.devicePixelRatio<1)return 1;return window.devicePixelRatio||1}get pixelRatio(){return this._pixelRatioOverride?this._pixelRatioOverride:this._devicePixelRatio}get pixelRatioOverride(){return this._pixelRatioOverride}set pixelRatioOverride(t){this._pixelRatioOverride=t}get isHiDpi(){return 1!==this.pixelRatio}get displayMode(){return this._displayMode}get canvas(){return this._canvas}get parent(){switch(this.displayMode){case jt.FillContainer:case jt.FitContainer:case jt.FitContainerAndFill:case jt.FitContainerAndZoom:return this.canvas.parentElement||document.body;default:return window}}get resolution(){return this._resolution}set resolution(t){this._resolution=t}get viewport(){return this._viewport?this._viewport:this._resolution}set viewport(t){this._viewport=t}get aspectRatio(){return this._resolution.width/this._resolution.height}get scaledWidth(){return this._resolution.width*this.pixelRatio}get scaledHeight(){return this._resolution.height*this.pixelRatio}setCurrentCamera(t){this._camera=t}pushResolutionAndViewport(){this._resolutionStack.push(this.resolution),this._viewportStack.push(this.viewport),this.resolution={...this.resolution},this.viewport={...this.viewport}}peekViewport(){return this._viewportStack[this._viewportStack.length-1]}peekResolution(){return this._resolutionStack[this._resolutionStack.length-1]}popResolutionAndViewport(){this._resolutionStack.length&&this._viewportStack.length&&(this.resolution=this._resolutionStack.pop(),this.viewport=this._viewportStack.pop())}applyResolutionAndViewport(){if(this.graphicsContext instanceof Mt){if(!this.graphicsContext.checkIfResolutionSupported({width:this.scaledWidth,height:this.scaledHeight})&&(this._logger.warnOnce("The currently configured resolution (".concat(this.resolution.width,"x").concat(this.resolution.height,") and pixel ratio (").concat(this.pixelRatio,")")+" are too large for the platform WebGL implementation, this may work but cause WebGL rendering to behave oddly. Try reducing the resolution or disabling Hi DPI scaling to avoid this (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution)."),!this.pixelRatioOverride)){let t=Math.max(1,this.pixelRatio-.5),e=!1;for(;t>1&&!e;){t=Math.max(1,t-.5);const n=this._resolution.width*t,i=this._resolution.height*t;e=this.graphicsContext.checkIfResolutionSupported({width:n,height:i})}this.pixelRatioOverride=t,this._logger.warnOnce("Scaled resolution too big attempted recovery!"+" Pixel ratio was automatically reduced to (".concat(this.pixelRatio,") to avoid 4k texture limit.")+" Setting `ex.Engine({pixelRatio: ...}) will override any automatic recalculation, do so at your own risk.`  (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution).")}}this._canvas.width=this.scaledWidth,this._canvas.height=this.scaledHeight,"auto"===this._canvasImageRendering?this._canvas.style.imageRendering="auto":(this._canvas.style.imageRendering="pixelated",""===this._canvas.style.imageRendering&&(this._canvas.style.imageRendering="crisp-edges"));const t="percent"===this.viewport.widthUnit?"%":"px",e="percent"===this.viewport.heightUnit?"%":"px";this._canvas.style.width=this.viewport.width+t,this._canvas.style.height=this.viewport.height+e,this.graphicsContext.updateViewport(this.resolution),this.graphicsContext.resetTransform(),this.graphicsContext.smoothing=this._antialiasing,this.graphicsContext instanceof Dt&&this.graphicsContext.scale(this.pixelRatio,this.pixelRatio)}get antialiasing(){return this._antialiasing}set antialiasing(t){this._antialiasing=t,this.graphicsContext.smoothing=this._antialiasing}get isFullScreen(){return this._isFullScreen}goFullScreen(t){if(t){const e=document.getElementById(t);if(e){e.getAttribute("ex-fullscreen-listener")||(e.setAttribute("ex-fullscreen-listener","true"),e.addEventListener("fullscreenchange",this._fullscreenChangeHandler));return e.requestFullscreen()}}return this._canvas.requestFullscreen()}exitFullScreen(){return document.exitFullscreen()}_viewportToPixels(t){return{width:"percent"===t.widthUnit?this.canvas.offsetWidth:t.width,height:"percent"===t.heightUnit?this.canvas.offsetHeight:t.height}}pageToScreenCoordinates(t){let e=t.x,n=t.y;this._isFullScreen||(e-=F(this._canvas).x,n-=F(this._canvas).y);const i=this._viewportToPixels(this.viewport);if(this._isFullScreen)if(window.innerWidth/this.aspectRatio<window.innerHeight){const t=window.innerWidth/this.aspectRatio;n=(n-(window.innerHeight-t)/2)/t*i.height,e=e/window.innerWidth*i.width}else{const t=window.innerHeight*this.aspectRatio;e=(e-(window.innerWidth-t)/2)/t*i.width,n=n/window.innerHeight*i.height}return e=e/i.width*this.resolution.width,n=n/i.height*this.resolution.height,e-=this.contentArea.left,n-=this.contentArea.top,new A(e,n)}screenToPageCoordinates(t){let e=t.x,n=t.y;const i=this._viewportToPixels(this.viewport);if(e=e/this.resolution.width*i.width,n=n/this.resolution.height*i.height,this._isFullScreen)if(window.innerWidth/this.aspectRatio<window.innerHeight){const t=window.innerWidth/this.aspectRatio,r=(window.innerHeight-t)/2;n=n/i.height*t+r,e=e/i.width*window.innerWidth}else{const t=window.innerHeight*this.aspectRatio,r=(window.innerWidth-t)/2;e=e/i.width*t+r,n=n/i.height*window.innerHeight}return this._isFullScreen||(e+=F(this._canvas).x,n+=F(this._canvas).y),new A(e,n)}screenToWorldCoordinates(t){return t=t.add(S(this.contentArea.left,this.contentArea.top)),this._camera?this._camera.inverse.multiply(t):t.sub(S(this.resolution.width/2,this.resolution.height/2))}worldToScreenCoordinates(t){return this._camera?this._camera.transform.multiply(t):t.add(S(this.resolution.width/2,this.resolution.height/2))}pageToWorldCoordinates(t){const e=this.pageToScreenCoordinates(t);return this.screenToWorldCoordinates(e)}worldToPageCoordinates(t){const e=this.worldToScreenCoordinates(t);return this.screenToPageCoordinates(e)}getWorldBounds(){return B.fromDimension(this.resolution.width,this.resolution.height,A.Half).scale(S(1/this._camera.zoom,1/this._camera.zoom)).rotate(this._camera.rotation).translate(this._camera.drawPos)}getScreenBounds(){return B.fromDimension(this.resolution.width,this.resolution.height,A.Zero,A.Zero)}get canvasWidth(){return this.canvas.width}get halfCanvasWidth(){return this.canvas.width/2}get canvasHeight(){return this.canvas.height}get halfCanvasHeight(){return this.canvas.height/2}get drawWidth(){return this._camera?this.resolution.width/this._camera.zoom:this.resolution.width}get halfDrawWidth(){return this.drawWidth/2}get drawHeight(){return this._camera?this.resolution.height/this._camera.zoom:this.resolution.height}get halfDrawHeight(){return this.drawHeight/2}get center(){return S(this.halfDrawWidth,this.halfDrawHeight)}get contentArea(){return this._contentArea}get unsafeArea(){return this._unsafeArea}_computeFit(){document.body.style.margin="0px",document.body.style.overflow="hidden";const t=this.aspectRatio;let e=0,n=0;window.innerWidth/t<window.innerHeight?(e=window.innerWidth,n=window.innerWidth/t):(e=window.innerHeight*t,n=window.innerHeight),this.viewport={width:e,height:n},this._contentArea=B.fromDimension(this.resolution.width,this.resolution.height,A.Zero),this._unsafeArea=B.fromDimension(this.resolution.width,this.resolution.height,A.Zero),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_computeFitScreenAndFill(){document.body.style.margin="0px",document.body.style.overflow="hidden";const t=window.innerWidth,e=window.innerHeight;this._computeFitAndFill(t,e),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_computeFitContainerAndFill(){this.canvas.style.width="100%",this.canvas.style.height="100%",this._computeFitAndFill(this.canvas.offsetWidth,this.canvas.offsetHeight,{width:100,widthUnit:"percent",height:100,heightUnit:"percent"}),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_computeFitAndFill(t,e,n){if(this.viewport=null!==n&&void 0!==n?n:{width:t,height:e},t/e<=this._contentResolution.width/this._contentResolution.height){this.resolution={width:t*this._contentResolution.width/t,height:t*this._contentResolution.width/t*e/t};const n=(this.resolution.height-this._contentResolution.height)/2;this._contentArea=new B({top:n,left:0,right:this._contentResolution.width,bottom:this.resolution.height-n}),this._unsafeArea=new B({top:-n,left:0,right:this._contentResolution.width,bottom:this.resolution.height+n})}else{this.resolution={width:e*this._contentResolution.height/e*t/e,height:e*this._contentResolution.height/e};const n=(this.resolution.width-this._contentResolution.width)/2;this._contentArea=new B({top:0,left:n,right:this.resolution.width-n,bottom:this._contentResolution.height}),this._unsafeArea=new B({top:0,left:-n,right:this.resolution.width+n,bottom:this._contentResolution.height})}}_computeFitScreenAndZoom(){document.body.style.margin="0px",document.body.style.overflow="hidden",this.canvas.style.position="absolute";const t=window.innerWidth,e=window.innerHeight;this._computeFitAndZoom(t,e),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_computeFitContainerAndZoom(){this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="relative";this.canvas.parentElement.style.overflow="hidden";const{offsetWidth:t,offsetHeight:e}=this.canvas;this._computeFitAndZoom(t,e),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_computeFitAndZoom(t,e){const n=this.aspectRatio;let i=0,r=0;t/n<e?(i=t,r=t/n):(i=e*n,r=e);const s=t/i,o=e/r,a=Math.max(s,o),l=i*a,c=r*a;this.canvas.style.left=l>t?-(l-t)/2+"px":"",this.canvas.style.top=c>e?-(c-e)/2+"px":"",this.viewport={width:l,height:c};const h=B.fromDimension(this.viewport.width,this.viewport.height,A.Zero);if(this.viewport.width>t){const e=(this.viewport.width-t)/this.viewport.width*this.resolution.width;h.top=0,h.left=e/2,h.right=this.resolution.width-e/2,h.bottom=this.resolution.height}if(this.viewport.height>e){const t=(this.viewport.height-e)/this.viewport.height*this.resolution.height;h.top=t/2,h.left=0,h.bottom=this.resolution.height-t/2,h.right=this.resolution.width}this._contentArea=h}_computeFitContainer(){const t=this.aspectRatio;let e=0,n=0,i="pixel",r="pixel";const s=this.canvas.parentElement;s.clientWidth/t<s.clientHeight?(this.canvas.style.width="100%",e=100,i="percent",n=this.canvas.offsetWidth/t):(this.canvas.style.height="100%",n=100,r="percent",e=this.canvas.offsetHeight*t),this.viewport={width:e,widthUnit:i,height:n,heightUnit:r},this._contentArea=B.fromDimension(this.resolution.width,this.resolution.height,A.Zero),this.events.emit("resize",{resolution:this.resolution,viewport:this.viewport})}_applyDisplayMode(){this._setResolutionAndViewportByDisplayMode(this.parent),this.parent instanceof Window?this._browser.window.on("resize",this._resizeHandler):(this._resizeObserver=new ResizeObserver((()=>{this._resizeHandler()})),this._resizeObserver.observe(this.parent)),this.parent.addEventListener("resize",this._resizeHandler)}_setResolutionAndViewportByDisplayMode(t){this.displayMode===jt.FillContainer&&(this.canvas.style.width="100%",this.canvas.style.height="100%",this.viewport={width:100,widthUnit:"percent",height:100,heightUnit:"percent"},this.resolution={width:this.canvas.offsetWidth,height:this.canvas.offsetHeight}),this.displayMode===jt.FillScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.resolution={width:t.innerWidth,height:t.innerHeight},this.viewport=this.resolution),this._contentArea=B.fromDimension(this.resolution.width,this.resolution.height,A.Zero),this.displayMode===jt.FitScreen&&this._computeFit(),this.displayMode===jt.FitContainer&&this._computeFitContainer(),this.displayMode===jt.FitScreenAndFill&&this._computeFitScreenAndFill(),this.displayMode===jt.FitContainerAndFill&&this._computeFitContainerAndFill(),this.displayMode===jt.FitScreenAndZoom&&this._computeFitScreenAndZoom(),this.displayMode===jt.FitContainerAndZoom&&this._computeFitContainerAndZoom()}}class Nt{static create(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new AudioContext),this._INSTANCE}}Nt._INSTANCE=null;class Ut{static unlock(){return new Promise(((t,e)=>{if(Ut._UNLOCKED||!Nt.create())return t(!0);const n=setTimeout((()=>{R.getInstance().warn("Excalibur was unable to unlock the audio context, audio probably will not play in this browser."),t(!1)}),200),i=Nt.create();i.resume().then((()=>{const e=i.createBuffer(1,1,22050),r=i.createBufferSource();let s=!1;r.buffer=e,r.connect(i.destination),r.onended=()=>s=!0,r.start(0),setTimeout((()=>{!function(t){return!!t.playbackState}(r)?(i.currentTime>0||s)&&(Ut._UNLOCKED=!0):r.playbackState!==r.PLAYING_STATE&&r.playbackState!==r.FINISHED_STATE||(Ut._UNLOCKED=!0)}),0),clearTimeout(n),t(!0)}),(()=>{e()}))}))}static isUnlocked(){return this._UNLOCKED}}Ut._UNLOCKED=!1;class Ht extends Y{constructor(t){var e,n,i,r,s,o,a,l,c,h;super(N(t,["width","height"])),this.filtering=null,this.lineCap="butt",this.quality=1,this._dirty=!0,this._smoothing=!1,this._color=X(C.Black,(()=>this.flagDirty())),this._lineWidth=1,this._lineDash=[],this._padding=0,t&&(this.quality=null!==(e=t.quality)&&void 0!==e?e:this.quality,this.color=null!==(n=t.color)&&void 0!==n?n:C.Black,this.strokeColor=null===t||void 0===t?void 0:t.strokeColor,this.smoothing=null!==(i=t.smoothing)&&void 0!==i?i:this.smoothing,this.lineWidth=null!==(r=t.lineWidth)&&void 0!==r?r:this.lineWidth,this.lineDash=null!==(s=t.lineDash)&&void 0!==s?s:this.lineDash,this.lineCap=null!==(o=t.lineCap)&&void 0!==o?o:this.lineCap,this.padding=null!==(a=t.padding)&&void 0!==a?a:this.padding,this.filtering=null!==(l=t.filtering)&&void 0!==l?l:this.filtering),this._bitmap=document.createElement("canvas");const d=null!==(c=null===t||void 0===t?void 0:t.width)&&void 0!==c?c:this._bitmap.width,u=null!==(h=null===t||void 0===t?void 0:t.height)&&void 0!==h?h:this._bitmap.height;this.width=d,this.height=u;const p=this._bitmap.getContext("2d");if(!p)throw new Error("Browser does not support 2d canvas drawing, cannot create Raster graphic");this._ctx=p}cloneRasterOptions(){return{color:this.color?this.color.clone():null,strokeColor:this.strokeColor?this.strokeColor.clone():null,smoothing:this.smoothing,lineWidth:this.lineWidth,lineDash:this.lineDash,lineCap:this.lineCap,quality:this.quality,padding:this.padding}}get dirty(){return this._dirty}flagDirty(){this._dirty=!0}get width(){return Math.abs(this._getTotalWidth()*this.scale.x)}set width(t){t/=Math.abs(this.scale.x),this._bitmap.width=t,this._originalWidth=t,this.flagDirty()}get height(){return Math.abs(this._getTotalHeight()*this.scale.y)}set height(t){t/=Math.abs(this.scale.y),this._bitmap.height=t,this._originalHeight=t,this.flagDirty()}_getTotalWidth(){var t;return 1*((null!==(t=this._originalWidth)&&void 0!==t?t:this._bitmap.width)+2*this.padding)}_getTotalHeight(){var t;return 1*((null!==(t=this._originalHeight)&&void 0!==t?t:this._bitmap.height)+2*this.padding)}get localBounds(){return B.fromDimension(this._getTotalWidth()*this.scale.x,this._getTotalHeight()*this.scale.y,A.Zero)}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this.flagDirty()}get color(){return this._color}set color(t){this.flagDirty(),this._color=X(t,(()=>this.flagDirty()))}get strokeColor(){return this._strokeColor}set strokeColor(t){this.flagDirty(),this._strokeColor=X(t,(()=>this.flagDirty()))}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.flagDirty()}get lineDash(){return this._lineDash}set lineDash(t){this._lineDash=t,this.flagDirty()}get padding(){return this._padding}set padding(t){this._padding=t,this.flagDirty()}rasterize(){this._dirty=!1,this._ctx.clearRect(0,0,this._getTotalWidth(),this._getTotalHeight()),this._ctx.save(),this._applyRasterProperties(this._ctx),this.execute(this._ctx),this._ctx.restore()}_applyRasterProperties(t){var e,n,i;this._bitmap.width=this._getTotalWidth()*this.quality,this._bitmap.height=this._getTotalHeight()*this.quality,this._bitmap.setAttribute("filtering",this.filtering),this._bitmap.setAttribute("forceUpload","true"),t.scale(this.quality,this.quality),t.translate(this.padding,this.padding),t.imageSmoothingEnabled=this.smoothing,t.lineWidth=this.lineWidth,t.setLineDash(null!==(e=this.lineDash)&&void 0!==e?e:t.getLineDash()),t.lineCap=this.lineCap,t.strokeStyle=null===(n=this.strokeColor)||void 0===n?void 0:n.toString(),t.fillStyle=null===(i=this.color)||void 0===i?void 0:i.toString()}_drawImage(t,e,n){this._dirty&&this.rasterize(),t.scale(1/this.quality,1/this.quality),t.drawImage(this._bitmap,e,n)}}class Wt extends Ht{get ctx(){return this._ctx}constructor(t){super(t),this._options=t}clone(){return new Wt({...this._options,...this.cloneGraphicOptions(),...this.cloneRasterOptions()})}execute(t){var e,n;(null===(e=this._options)||void 0===e?void 0:e.draw)&&(null===(n=this._options)||void 0===n||n.draw(t)),this._options.cache||this.flagDirty()}}class Vt{}Vt.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"};class Gt{constructor(){this.states=new Map}get currentState(){return this._currentState}set currentState(t){this._currentState=t}static create(t,e){const n=new Gt;n.data=e;for(const i in t.states)n.states.set(i,{name:i,...t.states[i]});for(const i of n.states.values())for(const t of i.transitions)if("*"!==t&&!n.states.has(t))throw Error("Invalid state machine, state [".concat(i.name,"] has a transition to another state that doesn't exist [").concat(t,"]"));return n.currentState=n.startState=n.states.get(t.start),n}in(t){return this.currentState.name===t}go(t,e){var n,i;if(this.currentState.transitions.includes(t)||this.currentState.transitions.includes("*")){const r=this.states.get(t);if(this.currentState.onExit){if(!1===(null===(n=this.currentState)||void 0===n?void 0:n.onExit({to:r.name,data:this.data})))return!1}if(null===r||void 0===r?void 0:r.onEnter){if(!1===(null===r||void 0===r?void 0:r.onEnter({from:this.currentState.name,eventData:e,data:this.data})))return!1}return this.currentState=r,(null===(i=this.currentState)||void 0===i?void 0:i.onState)&&this.currentState.onState(),!0}return!1}update(t){this.currentState.onUpdate&&this.currentState.onUpdate(this.data,t)}save(t){localStorage.setItem(t,JSON.stringify({currentState:this.currentState.name,data:this.data}))}restore(t){const e=JSON.parse(localStorage.getItem(t));this.currentState=this.states.get(e.currentState),this.data=e.data}}class qt{_createNewBufferSource(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.value=this._playbackRate,this._instance.connect(this._volumeNode),this._volumeNode.connect(this._audioContext.destination)}_handleEnd(){this.loop||(this._instance.onended=()=>{this._playingFuture.resolve(!0)})}set loop(t){this._loop=t,this._instance&&(this._instance.loop=t,this.loop||(this._instance.onended=()=>{this._playingFuture.resolve(!0)}))}get loop(){return this._loop}set volume(t){t=m(t,0,1),this._volume=t,this._stateMachine.in("PLAYING")&&this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,.1):this._volumeNode.gain.value=t}get volume(){return this._volume}get duration(){var t;return null!==(t=this._duration)&&void 0!==t?t:this.getTotalPlaybackDuration()}set duration(t){this._duration=t}constructor(t){this._src=t,this._audioContext=Nt.create(),this._volumeNode=this._audioContext.createGain(),this._playingFuture=new c,this._stateMachine=Gt.create({start:"STOPPED",states:{PLAYING:{onEnter:t=>{let{data:e}=t;this._createNewBufferSource(),this._handleEnd(),this.loop?this._instance.start(0,e.pausedAt*this._playbackRate):this._instance.start(0,e.pausedAt*this._playbackRate,this.duration),e.startedAt=this._audioContext.currentTime-e.pausedAt,e.pausedAt=0},onState:()=>this._playStarted(),onExit:t=>{let{to:e}=t;"STOPPED"===e&&this._playingFuture.resolve(!0),this._instance.onended=null,this._instance.disconnect(),this._instance.stop(0),this._instance=null},transitions:["STOPPED","PAUSED","SEEK"]},SEEK:{onEnter:t=>{let{eventData:e,data:n}=t;n.pausedAt=(null!==e&&void 0!==e?e:0)/this._playbackRate,n.startedAt=0},transitions:["*"]},STOPPED:{onEnter:t=>{let{data:e}=t;e.pausedAt=0,e.startedAt=0,this._playingFuture.resolve(!0)},transitions:["PLAYING","PAUSED","SEEK"]},PAUSED:{onEnter:t=>{let{data:e}=t;e.pausedAt=this._audioContext.currentTime-e.startedAt},transitions:["PLAYING","STOPPED","SEEK"]}}},{startedAt:0,pausedAt:0}),this._volume=1,this._loop=!1,this._playStarted=()=>{},this._playbackRate=1,this._createNewBufferSource()}isPlaying(){return this._stateMachine.in("PLAYING")}isPaused(){return this._stateMachine.in("PAUSED")||this._stateMachine.in("SEEK")}isStopped(){return this._stateMachine.in("STOPPED")}play(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return this._playStarted=t,this._stateMachine.go("PLAYING"),this._playingFuture.promise}pause(){this._stateMachine.go("PAUSED")}stop(){this._stateMachine.go("STOPPED")}seek(t){this._stateMachine.go("PAUSED"),this._stateMachine.go("SEEK",t)}getTotalPlaybackDuration(){return this._src.duration}getPlaybackPosition(){const{pausedAt:t,startedAt:e}=this._stateMachine.data;return t?t*this._playbackRate:e?(this._audioContext.currentTime-e)*this._playbackRate:0}set playbackRate(t){this._instance.playbackRate.value=this._playbackRate=t}get playbackRate(){return this._instance.playbackRate.value}}var Xt;!function(t){t.Kill="kill",t.PreKill="prekill",t.PostKill="postkill",t.PreDraw="predraw",t.PostDraw="postdraw",t.PreDebugDraw="predebugdraw",t.PostDebugDraw="postdebugdraw",t.PreUpdate="preupdate",t.PostUpdate="postupdate",t.PreFrame="preframe",t.PostFrame="postframe",t.PreCollision="precollision",t.CollisionStart="collisionstart",t.CollisionEnd="collisionend",t.PostCollision="postcollision",t.Initialize="initialize",t.Activate="activate",t.Deactivate="deactivate",t.ExitViewport="exitviewport",t.EnterViewport="enterviewport",t.ExitTrigger="exit",t.EnterTrigger="enter",t.Connect="connect",t.Disconnect="disconnect",t.Button="button",t.Axis="axis",t.Visible="visible",t.Hidden="hidden",t.Start="start",t.Stop="stop",t.PointerUp="pointerup",t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerEnter="pointerenter",t.PointerLeave="pointerleave",t.PointerCancel="pointercancel",t.PointerWheel="pointerwheel",t.Up="up",t.Down="down",t.Move="move",t.Enter="enter",t.Leave="leave",t.Cancel="cancel",t.Wheel="wheel",t.Press="press",t.Release="release",t.Hold="hold",t.PointerDragStart="pointerdragstart",t.PointerDragEnd="pointerdragend",t.PointerDragEnter="pointerdragenter",t.PointerDragLeave="pointerdragleave",t.PointerDragMove="pointerdragmove",t.ActionStart="actionstart",t.ActionComplete="actioncomplete"}(Xt||(Xt={}));class Qt{constructor(){this._bubbles=!0}get bubbles(){return this._bubbles}set bubbles(t){this._bubbles=t}stopPropagation(){this.bubbles=!1}}class Kt extends Qt{constructor(t){super(),this.target=t}}class Yt extends Qt{constructor(t){super(),this.target=t}}class Zt extends Qt{constructor(t){super(),this.target=t}}class Jt extends Qt{constructor(t){super(),this.target=t}}class $t extends Qt{constructor(t){super(),this.target=t}}class te extends Qt{constructor(t,e,n){super(),this.ctx=t,this.delta=e,this.target=n}}class ee extends Qt{constructor(t,e,n){super(),this.ctx=t,this.delta=e,this.target=n}}class ne extends Qt{constructor(t,e,n){super(),this.ctx=t,this.delta=e,this.target=n}}class ie extends Qt{constructor(t,e,n){super(),this.ctx=t,this.delta=e,this.target=n}}class re extends Qt{constructor(t,e){super(),this.ctx=t,this.target=e}}class se extends Qt{constructor(t,e){super(),this.ctx=t,this.target=e}}class oe extends Qt{constructor(t,e,n){super(),this.engine=t,this.delta=e,this.target=n}}class ae extends Qt{constructor(t,e,n){super(),this.engine=t,this.delta=e,this.target=n}}class le extends Qt{constructor(t,e){super(),this.engine=t,this.prevStats=e,this.target=t}}class ce extends Qt{constructor(t,e){super(),this.engine=t,this.stats=e,this.target=t}}class he extends Qt{constructor(t,e){super(),this.index=t,this.gamepad=e,this.target=e}}class de extends Qt{constructor(t,e){super(),this.index=t,this.gamepad=e,this.target=e}}class ue extends Qt{constructor(t,e,n){super(),this.button=t,this.value=e,this.target=n}}class pe extends Qt{constructor(t,e,n){super(),this.axis=t,this.value=e,this.target=n}}class fe extends Qt{constructor(t){super(),this.target=t}}class ge extends Qt{constructor(t){super(),this.target=t}}class me extends Qt{constructor(t,e,n,i,r){super(),this.other=e,this.side=n,this.intersection=i,this.contact=r,this.target=t}}class ve extends Qt{constructor(t,e,n,i,r){super(),this.other=e,this.side=n,this.intersection=i,this.contact=r,this.target=t}get actor(){return this.target}set actor(t){this.target=t}}class ye{constructor(t,e,n,i){this.target=t,this.other=e,this.side=n,this.contact=i}}class xe{constructor(t,e,n,i){this.target=t,this.other=e,this.side=n,this.lastContact=i}}class _e{constructor(t,e,n,i,r){this.target=t,this.other=e,this.side=n,this.intersection=i,this.contact=r}}class be{constructor(t,e,n,i,r){this.target=t,this.other=e,this.side=n,this.intersection=i,this.contact=r}}class we extends Qt{constructor(t,e,n,i){super(),this.other=e,this.side=n,this.contact=i,this.target=t}get actor(){return this.target}set actor(t){this.target=t}}class Ae extends Qt{constructor(t,e,n,i){super(),this.other=e,this.side=n,this.lastContact=i,this.target=t}get actor(){return this.target}set actor(t){this.target=t}}class Se extends Qt{constructor(t,e){super(),this.engine=t,this.target=e}}class Ce extends Qt{constructor(t,e){super(),this.context=t,this.target=e}}class Ee extends Qt{constructor(t,e){super(),this.context=t,this.target=e}}class ke extends Qt{constructor(t){super(),this.target=t}}class Te extends Qt{constructor(t){super(),this.target=t}}class Pe extends Qt{constructor(t,e){super(),this.target=t,this.actor=e}}class Re extends Qt{constructor(t,e){super(),this.target=t,this.actor=e}}class Ie extends Qt{constructor(t,e){super(),this.action=t,this.target=e}}class Me extends Qt{constructor(t,e){super(),this.action=t,this.target=e}}class Be extends Qt{set bubbles(t){}get bubbles(){return!1}get _path(){return null}set _path(t){}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MediaEvent";super(),this.target=t,this._name=e}stopPropagation(){}action(){}propagate(){}layPath(t){}}class Fe extends Be{constructor(t,e){super(t,"NativeSoundEvent"),this.track=e}}class De extends Be{constructor(t,e){super(t,"NativeSoundProcessedEvent"),this._processedData=e,this.data=this._processedData}}function je(t){try{const e=new Audio,n=/.*\.([A-Za-z0-9]+)(?:(?:\?|\#).*)*$/,i=t.match(n)[1];return!!e.canPlayType("audio/"+i)}catch(Gm){return R.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",Gm),!1}}const Oe={VolumeChange:"volumechange",Processed:"processed",Pause:"pause",Stop:"stop",PlaybackEnd:"playbackend",Resume:"resume",PlaybackStart:"playbackstart"};class Le{set loop(t){this._loop=t;for(const e of this._tracks)e.loop=this._loop;this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)}get loop(){return this._loop}set volume(t){this._volume=t;for(const e of this._tracks)e.volume=this._volume;this.events.emit("volumechange",new Fe(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)}get volume(){return this._volume}get duration(){return this._duration}set duration(t){this._duration=t}get instances(){return this._tracks}get path(){return this._resource.path}set path(t){this._resource.path=t}get bustCache(){return this._resource.bustCache}set bustCache(t){this._resource.bustCache=t}constructor(){this.events=new h,this.logger=R.getInstance(),this._loop=!1,this._volume=1,this._isStopped=!1,this._tracks=[],this._wasPlayingOnHidden=!1,this._playbackRate=1,this._audioContext=Nt.create(),this._resource=new q("",Vt.type.arraybuffer);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const i of e)if(je(i)){this.path=i;break}this.path||(this.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),this.logger.warn("Attempting to use",e[0]),this.path=e[0])}isLoaded(){return!!this.data}async load(){var t,e;if(this.data)return this.data;const n=await this._resource.load(),i=await this.decodeAudio(n.slice(0));return this._duration=null!==(e=null!==(t=this._duration)&&void 0!==t?t:null===i||void 0===i?void 0:i.duration)&&void 0!==e?e:void 0,this.events.emit("processed",new De(this,i)),this.data=i}async decodeAudio(t){try{return await this._audioContext.decodeAudioData(t.slice(0))}catch(Gm){return this.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),await Promise.reject()}}wireEngine(t){t&&(this._engine=t,this._engine.on("hidden",(()=>{t.pauseAudioWhenHidden&&this.isPlaying()&&(this._wasPlayingOnHidden=!0,this.pause())})),this._engine.on("visible",(()=>{t.pauseAudioWhenHidden&&this._wasPlayingOnHidden&&(this.play(),this._wasPlayingOnHidden=!1)})),this._engine.on("start",(()=>{this._isStopped=!1})),this._engine.on("stop",(()=>{this.stop(),this._isStopped=!0})))}instanceCount(){return this._tracks.length}isPlaying(){return this._tracks.some((t=>t.isPlaying()))}isPaused(){return this._tracks.some((t=>t.isPaused()))}isStopped(){return this._tracks.some((t=>t.isStopped()))}play(t){return this.isLoaded()?this._isStopped?(this.logger.warn("Cannot start playing. Engine is in a stopped state."),Promise.resolve(!1)):(this.volume=t||this.volume,this.isPaused()?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),Promise.resolve(!0))}pause(){if(this.isPlaying()){for(const t of this._tracks)t.pause();this.events.emit("pause",new Fe(this)),this.logger.debug("Paused all instances of sound",this.path)}}stop(){for(const t of this._tracks)t.stop();this.events.emit("stop",new Fe(this)),this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._tracks.forEach((t=>{t.playbackRate=this._playbackRate}))}seek(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===this._tracks.length&&this._getTrackInstance(this.data),this._tracks[e].seek(t)}getTotalPlaybackDuration(){return this.isLoaded()?this.data.duration:(this.logger.warnOnce("Sound from ".concat(this.path," is not loaded, cannot return total playback duration.")+"Did you forget to add Sound to a loader? https://excaliburjs.com/docs/loaders/"),0)}getPlaybackPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._tracks.length?this._tracks[t].getPlaybackPosition():0}getTrackId(t){return this._tracks.indexOf(t)}async _resumePlayback(){if(this.isPaused){const t=[];for(const e of this._tracks)t.push(e.play().then((()=>(this._tracks.splice(this.getTrackId(e),1),!0))));this.events.emit("resume",new Fe(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),await Promise.all(t)}return!0}async _startPlayback(){const t=this._getTrackInstance(this.data),e=await t.play((()=>{this.events.emit("playbackstart",new Fe(this,t)),this.logger.debug("Playing new instance for sound",this.path)}));this.events.emit("playbackend",new Fe(this,t));const n=this.getTrackId(t);return-1!==n&&this._tracks.splice(n,1),e}_getTrackInstance(t){const e=new qt(t);return e.loop=this.loop,e.volume=this.volume,e.duration=this.duration,e.playbackRate=this._playbackRate,this._tracks.push(e),e}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}}const ze={BeforeLoad:"beforeload",AfterLoad:"afterload",UserAction:"useraction",LoadResourceStart:"loadresourcestart",LoadResourceEnd:"loadresourceend"};function Ne(t){var e,n;return!!(null===t||void 0===t?void 0:t.prototype)&&!!(null===(n=null===(e=null===t||void 0===t?void 0:t.prototype)||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)}class Ue{get resources(){return this._resources}constructor(t){var e;this.events=new h,this.canvas=new Wt({filtering:J.Blended,smoothing:!0,cache:!1,draw:this.onDraw.bind(this)}),this._resources=[],this._numLoaded=0,this._totalTimeMs=0,this._loadingFuture=new c,t&&(null===(e=t.loadables)||void 0===e?void 0:e.length)&&this.addResources(t.loadables)}onInitialize(t){this.engine=t,this.canvas.width=this.engine.screen.resolution.width,this.canvas.height=this.engine.screen.resolution.height}async onUserAction(){return await Promise.resolve()}async onBeforeLoad(){}async onAfterLoad(){await z(500,this.engine.clock)}addResource(t){this._resources.push(t)}addResources(t){let e=0;const n=t.length;for(;e<n;e++)this.addResource(t[e])}markResourceComplete(){this._numLoaded++}get progress(){const t=this._resources.length;return t>0?m(this._numLoaded,0,t)/t:1}isLoaded(){return this._numLoaded===this._resources.length}onUpdate(t,e){this._totalTimeMs+=e}onDraw(t){const e=this._totalTimeMs/1e3;t.fillStyle=C.Black.toRGBA(),t.fillRect(0,0,this.engine.screen.resolution.width,this.engine.screen.resolution.height),t.save(),t.translate(this.engine.screen.resolution.width/2,this.engine.screen.resolution.height/2);const n=10*e;t.strokeStyle="white",t.lineWidth=10,t.lineCap="round",t.arc(0,0,40,n,n+3*Math.PI/2),t.stroke(),t.fillStyle="white",t.font="16px sans-serif";const i=(100*this.progress).toFixed(0)+"%",r=t.measureText(i),s=Math.abs(r.actualBoundingBoxLeft)+Math.abs(r.actualBoundingBoxRight),o=Math.abs(r.actualBoundingBoxAscent)+Math.abs(r.actualBoundingBoxDescent);t.fillText(i,-s/2,o/2),t.restore()}areResourcesLoaded(){return this._loadingFuture.promise}async load(){await this.onBeforeLoad(),this.events.emit("beforeload"),this.canvas.flagDirty(),await Promise.all(this._resources.map((async t=>{this.events.emit("loadresourcestart",t),await t.load().finally((()=>{this._numLoaded++,this.canvas.flagDirty(),this.events.emit("loadresourceend",t)}))})));for(const t of this._resources)t instanceof Le&&t.wireEngine(this.engine);return this._loadingFuture.resolve(),this.canvas.flagDirty(),await this.onUserAction(),this.events.emit("useraction"),await Ut.unlock(),await this.onAfterLoad(),this.events.emit("afterload"),this.data=this._resources}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}}function He(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Red,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";t.save(),t.beginPath(),t.lineWidth=o,t.lineCap=a,t.strokeStyle=e.toString(),t.moveTo(n,i),t.lineTo(r,s),t.closePath(),t.stroke(),t.restore()}function We(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Red,n=arguments.length>2?arguments[2]:void 0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,5,0,2*Math.PI),t.closePath(),t.stroke()}function Ve(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const s=e?e.toString():"blue",o=i.scale(r);t.beginPath(),t.strokeStyle=s,t.moveTo(n.x,n.y),t.lineTo(n.x+o.x,n.y+o.y),t.closePath(),t.stroke()}function Ge(t,e,n,i,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:C.White,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if("number"===typeof o)s={tl:o,tr:o,br:o,bl:o};else{const t={tl:0,tr:0,br:0,bl:0};for(const e in t)if(t.hasOwnProperty(e)){const n=e;s[n]=o[n]||t[n]}}t.beginPath(),t.moveTo(e+s.tl,n),t.lineTo(e+i-s.tr,n),t.quadraticCurveTo(e+i,n,e+i,n+s.tr),t.lineTo(e+i,n+r-s.br),t.quadraticCurveTo(e+i,n+r,e+i-s.br,n+r),t.lineTo(e+s.bl,n+r),t.quadraticCurveTo(e,n+r,e,n+r-s.bl),t.lineTo(e,n+s.tl),t.quadraticCurveTo(e,n,e+s.tl,n),t.closePath(),l&&(t.fillStyle=l.toString(),t.fill()),a&&(t.strokeStyle=a.toString(),t.stroke())}function qe(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C.White,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;t.beginPath(),t.arc(e,n,i,0,2*Math.PI),t.closePath(),s&&(t.fillStyle=s.toString(),t.fill()),r&&(t.strokeStyle=r.toString(),t.stroke())}var Xe=Sm(8851);class Qe extends Ue{get _image(){return this._imageElement||(this._imageElement=new Image,this._imageElement.onload=()=>this._imageLoaded.resolve(),this._imageElement.src=this.logo),this._imageElement}get playButtonRootElement(){return this._playButtonRootElement}get playButtonElement(){return this._playButtonElement}get _playButton(){const t=document.getElementById("excalibur-play-root");return t&&(this._playButtonRootElement=t),this._playButtonRootElement||(this._playButtonRootElement=document.createElement("div"),this._playButtonRootElement.id="excalibur-play-root",this._playButtonRootElement.style.position="absolute",document.body.appendChild(this._playButtonRootElement)),this._styleBlock||(this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._playButtonStyles,document.head.appendChild(this._styleBlock)),this._playButtonElement||(this._playButtonElement=this.startButtonFactory(),this._playButtonRootElement.appendChild(this._playButtonElement)),this._playButtonElement}constructor(t){const e=Array.isArray(t)?{loadables:t}:t;super(e),this._logger=R.getInstance(),this._originalOptions={loadables:[]},this.events=new h,this._playButtonShown=!1,this.logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAB2CAYAAABxhGI9AAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVR42u3dP2wjSx0H8N8hJIonIRmJjsq0SBR+BQ1dcqKhe0lD77SvSwpKkJKGPulpktfRIMUdEqKIqV57rpAokM4dbSiyq7ONPTP7x39ifz7SFbnEnp3xer47O7uzH15fXwMA6OYHmgAABCoACFQAEKgAgEAFAIEKAAIVAAQqACBQAUCgAoBABQCBCgAIVAAQqAAgUAFAoAIAAhUABCoACFQAEKgAgECFLbmOiNeFf2PbAyz68Pr6qhUgbRwR92v+/zwiJrYHMEKFMmcN///UtgcQqFBk1PD/97U9Qx8VCFSgu4EmAIEKAAIVAAQqACBQ4Z25jojP8eX+0WtNAgIVaOY+Im5j+eKh24h41jQgUIEyZ7F5NaPU7wCBCiwYd/w9cOB+qAlgJ3KLLow0EV198803RWvJfvfddx+0lhEqHKu5JgAjVCBvlhmFzjQRXUekHz9+TP79y8uLRjNChXfvoePvAYEKxNtj1e42/O5JoIJABcrdRMRVLM+X3kTEpaaB988cKuzWg9EobTWdMx0Oly8uN4dqhAoARqgnaN3arHfqu7OyH8ItKLVB/P+CEfMTHyGPY3npx1m8zWGDEeoBfUk/xdti57dr/r1Wv2+6EPow3tZ5rRdS72s1neuF97xvWd+XTH0/V+UMttDWqbI/r2nrxfp+jv2uSjSO7S+OXy/A/3lN+9xX5T5HxEUPZZ0tfB71+w57eJ/HFu+z+jkv1u92YX9fbI/HhX3JA9rp5MPr66tWaG9UfUGbrHIzi7cLUyYFf/tpTady03EEeL8mUJ6i7MKYNvWNqr4Pe2jradXO60LrvPAz2PQ5RPX684ah8dxD+2zantnCgVipSVV+m/tgB9W2DDq2Sx/vM95wcHhZhWVJm8yrv58cSgfTdc70+++/X/r522+/tUKSEepBqo+om4ZLPerMjUwuNnQCtx1GWJtee1FwdD5uWd86xLs8UaVt2aNEO1/saZ/Z5rYMW4zq6v34rGV9Bg3q2eZ9SkeNm9qwyUh30OPIHYFKx5FG03C7znSOqYBq+qW/zpQ3anH037TNHluG6f0WPsPhHvab4QFty7ogOeuxDYcNy2/zu2214WNYWxmBurNO8bGn97pNBOO8xy/9uCorZZ4I2r4C7aJgO7ZV9iE49Dm6NvOWx+pWE9CUq3zbdTp9doz38TbXtzqH9RT5CyWe422OaZoZGeZCabrhPQY9HjwsjpTvCg4YtlE2+Ta/j2bzn8fqrDqgm+6yUHOmAvWUjAtGhbNYvsBknDnqH1Qhc7VmxHgeb/NbudA5j/UXlYwif2p6luhAc9teu1npiHKnDs8if6tCm7JLX3NKpgttXe9ruc9mHMd7a83iwdxF5vt8tutARaCeklRnNK9C8WnNF7geJQ4T4XG3JhSnVdilQrG+yOnrlVHfsEGYzhNBn7Lu6tS7+HJafJQ4EMiNlNqWXZ9WPvVgnVYHG5M1ByDXkT6leX2EgTqJtyt45yv7S2qO3sEZjZhDLXeR+YKdJ0Zdk8QocvH9N732KrNtq+FZ/zzIHABcJrYpd+Xv14lOd5ap76SgrduW/VTQ1qcQpqnbgu4ifZvUMNpd9XuoZmvCtPaQ2Y/BCHVLgbrJTeRPDdVf6pfMKDU2fOkHmVFFfXr3MsouLsnNvV5kRoe5+s431PeuoKPqWnaurY/ZPBEeqwceN4l96iwO6H7Mjq4y7VGPVNe10VaZMzVCPVWpI/Z6FZbcv5fMqGCU+dLfFGzj58jP8+bCdJCo7yzKTwdOF0bu9Ug7V4c+yz7FJfYeGoysUss0HssIdVZwYLDujMqlESoCdTtGsZtbHnJBeNdDSJSs0jTKdMJN1HNX54Wv7bvsU9NkVJVa13dX+/wuArV0X/l5RHyo/lnfF4G6p6DrS0kHdtXhy35TGErDPYZUn2WfWqDOo/lVqdMD2O/hKJhD7S/odukymq9s02QN4EEPR/zbaOumZc+r15zK1Zqznl9jsfiemTM1QmV3HUuTkedlg9HIQzRbUD93dfC+2tpj2fIHEH2+RqCCQH13gZq7hWXTNpVu19OB1fc9nQ0AKOKUb5lU0P1kDyOneoWk0lOZ9cIP0x7qu8+2BhCoR2wYu1+e7DmaXzBSsu5vaX1ne2zrpmUPTmxf7PM1Dm4y/vC7ny7Nif7+z/9ZmtM0Z3panPLtPmra9f16bcK0Dpbnwk43Vd/RHtu6zfNQTy1QBy3aqG2g9nVmxml+BOoJyT3NpWmn9xhfFnu4bvDa+44BXhqqfdf3uUF9+yz77AT31Yue2mjecYQ62NLfgkA9ghHqLNEhNem4H1c6vdyDxhf/bpz5m4coW/c39wi6VH2bPtHlcaV9cvXts+zxCe6rTeqc2ndL7uGd93QwM9bFcAzMoZZ7SgTBbWx+asui61h/iq1+RmjqdbnQXQ3T1DNQ63V/U9ucqm/pMzPb1rePsk/1iTOjgvatR4W3Lc8ULB78pELyrnAfeTcj1NU509/86mfJ33/8+Mf00a05UyPUEw7UVCeWG/WNEiExyHRMt5ltW30izUPk18ytt7lNfc8i//DvtvXto+ySA5BjljsLUF8lPkqMPEtW1JomDsiGBZ9Byb4NAvUITSN9GuwsIj6t6UTOqk7jJREkmzqli8xIs96udSO20sX0H1vW92IL9e1a9rgqVyf91gbPsTy9UD9n9lOkT8k+RfkFR5PMNqxOcdSf32PBvg3vilO+zdxE+okx9Wm0ph36XYsRZCpMF993GOk5qvqB3Dct6jvssb67KvuUNJ3frw92bhr8/STSF0JdRPMLpUCgnsgo9S76PZ246ZFk1wWvK5m3vVoYvW1Sz7nN91jfXbQ1ZQc7TW6HeaoOalypG/8/p/rP1aNAc6ZHzSnfdqPUPhdy2PQw6Nz9gSVhuhiqueUHR3uu7y7K3rdDX4u46ZrPbUa0IFBZ0seKQ3XQTRt2vm3W/a2DbNKys++rvm3ep6+y1x2UdP3bWU9lzra47U1GmlctX/sQ23t+aOlByLTh/4NAPaCRxtcdO5HLSJ/6vNtCwGx67VPmPbvWd1q9frKHtp4kAqRJ2HR9j762JfX3bZ//elPtj13PPDx1+D5tqk/Xi6NO8SHz7MmH19dXrdBNfVFP6T2PT1UHNit87/t4m5+aRH+nQBdvqyhZDKJLfZs8h7XPsqdV2ZOV+tanKB8aln0dyxdAXbV4j4gvt4oMOrbP6vbU73NW7TMlbdTnPrWpfqXfh9HKZ9vke7KuTeZRNtXRSe6+1FV//ce/ln5eXfsXgcqXzr6+9261M3moOoa7E6nvTZTfy7iNsmfb7kjfgXGsvxe0vihsEts9HTquPpt1q1vtahu2TqAiUAEEKj0zhwoARqgAu/OnX/442WH+9xc/Wvr58re/Tr7f41/+ZsRqhAoACFQAEKgAcHjMoQJskJsz/eqrr5Z+vvr7v5fmQFevAl5lztQIFQAQqAAgUAHgIJlDBdhgdQ41N2eKESoAIFABQKACwFEwhwoARqgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAEKgAgUAFAoAKAQAUAgQoACFQAEKgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAQqAAgUAFAoAKAQAUAlvwPcFDns1DsH4sAAAAASUVORK5CYII=",this.logoWidth=468,this.logoHeight=118,this.loadingBarColor=C.White,this.backgroundColor="#176BAA",this._imageLoaded=new c,this.suppressPlayButton=!1,this._playButtonStyles=Xe.A.toString(),this.playButtonText="Play game",this.startButtonFactory=()=>{let t=document.getElementById("excalibur-play");return t||(t=document.createElement("button")),t.id="excalibur-play",t.textContent=this.playButtonText,t.style.display="none",t},this._configuredPixelRatio=null,this._originalOptions={...Qe._DEFAULT_LOADER_OPTIONS,...e}}onInitialize(t){this.engine=t,this.screen=t.screen,this.canvas.width=this.engine.canvas.width,this.canvas.height=this.engine.canvas.height,this.screen.events.on("resize",(()=>{this.canvas.width=this.engine.canvas.width,this.canvas.height=this.engine.canvas.height}))}async showPlayButton(){var t,e;if(!this.suppressPlayButton){const n=()=>{try{this._positionPlayButton()}catch(t){}};(null===(e=this.engine)||void 0===e?void 0:e.browser)&&this.engine.browser.window.on("resize",n),this._playButtonShown=!0,this._playButton.style.display="block",document.body.addEventListener("keyup",(t=>{"Enter"===t.key&&this._playButton.click()})),this._positionPlayButton();const i=new Promise((t=>{const e=e=>{var i;if(e.stopPropagation(),this.hidePlayButton(),(null===(i=this.engine)||void 0===i?void 0:i.browser)&&this.engine.browser.window.off("resize",n),this._originalOptions.fullscreenAfterLoad)try{this._logger.info("requesting fullscreen"),this._originalOptions.fullscreenContainer instanceof HTMLElement?this._originalOptions.fullscreenContainer.requestFullscreen():this.engine.screen.goFullScreen(this._originalOptions.fullscreenContainer)}catch(r){this._logger.error("could not go fullscreen",r)}t()};this._playButton.addEventListener("click",e),this._playButton.addEventListener("touchend",e),this._playButton.addEventListener("pointerup",e)}));return await i}this.hidePlayButton(),await z(500,null===(t=this.engine)||void 0===t?void 0:t.clock)}hidePlayButton(){this._playButtonShown=!1,this._playButton.style.display="none"}dispose(){this._playButtonRootElement.parentElement&&(this._playButtonRootElement.removeChild(this._playButtonElement),document.body.removeChild(this._playButtonRootElement),document.head.removeChild(this._styleBlock),this._playButtonRootElement=null,this._playButtonElement=null,this._styleBlock=null)}async onUserAction(){var t;await z(200,null===(t=this.engine)||void 0===t?void 0:t.clock),this.canvas.flagDirty(),await this.showPlayButton()}async onBeforeLoad(){const t=this._image;await this._imageLoaded.promise,await(null===t||void 0===t?void 0:t.decode())}async onAfterLoad(){this.screen.pixelRatioOverride=this._configuredPixelRatio,this.screen.popResolutionAndViewport(),this.screen.applyResolutionAndViewport(),this.dispose()}_positionPlayButton(){if(this.engine){const{x:t,y:e,width:n,height:i}=this.engine.canvas.getBoundingClientRect();if(this._playButtonRootElement){const r=this._playButton.clientWidth,s=this._playButton.clientHeight;this.playButtonPosition?(this._playButtonRootElement.style.left="".concat(this.playButtonPosition.x,"px"),this._playButtonRootElement.style.top="".concat(this.playButtonPosition.y,"px")):(this._playButtonRootElement.style.left="".concat(t+n/2-r/2,"px"),this._playButtonRootElement.style.top="".concat(e+i/2-s/2+100,"px"))}}}onDraw(t){const e=this.engine.canvasHeight/this.engine.pixelRatio,n=this.engine.canvasWidth/this.engine.pixelRatio;this._positionPlayButton(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,n,e);let i=e/2;const r=Math.min(this.logoWidth,.75*n);let s=n/2-r/2;this.logoPosition&&(s=this.logoPosition.x,i=this.logoPosition.y);const o=Math.floor(r*(this.logoHeight/this.logoWidth)),a=this.engine.getAntialiasing();if(this.engine.setAntialiasing(!0),this.logoPosition?t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,s,i,r,o):t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,s,i-o-20,r,o),!this.suppressPlayButton&&this._playButtonShown)return void this.engine.setAntialiasing(a);let l=s,c=i;this.loadingBarPosition&&(l=this.loadingBarPosition.x,c=this.loadingBarPosition.y),t.lineWidth=2,Ge(t,l,c,r,20,10,this.loadingBarColor);const h=r*this.progress-10;Ge(t,l+5,c+5,h>10?h:10,10,5,null,this.loadingBarColor),this.engine.setAntialiasing(a)}}Qe._DEFAULT_LOADER_OPTIONS={loadables:[],fullscreenAfterLoad:!1,fullscreenContainer:void 0};const Ke={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"};class Ye{constructor(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){const t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(Gm){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){const t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}getBrowserFeatures(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features}logBrowserFeatures(){let t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n";const e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],n=this.getBrowserFeatures();for(const i of Object.keys(Ke))n[i]?(t+="(%c\u2713%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%c\u2717%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+Ke[i]+"\n";e.unshift(t),console.log.apply(console,e)}_loadBrowserFeatures(){return{canvas:(()=>this._criticalTests.canvasSupport())(),arraybuffer:(()=>this._criticalTests.arrayBufferSupport())(),dataurl:(()=>this._criticalTests.dataUrlSupport())(),objecturl:(()=>this._criticalTests.objectUrlSupport())(),rgba:(()=>this._criticalTests.rgbaSupport())(),webaudio:(()=>this._warningTest.webAudioSupport())(),webgl:(()=>this._warningTest.webglSupport())(),gamepadapi:!!navigator.getGamepads}}test(){let t=!1;for(const e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),R.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(const e in this._warningTest)this._warningTest[e]()||R.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",e);return!0}}var Ze,Je,$e,tn,en,nn;!function(t){t.PreventCollision="PreventCollision",t.Passive="Passive",t.Active="Active",t.Fixed="Fixed"}(Ze||(Ze={})),function(t){t.World="world",t.Screen="screen"}(Je||(Je={}));class rn extends A{constructor(t){super(0,0),this._getX=t.getX,this._getY=t.getY,this._setX=t.setX,this._setY=t.setY}get x(){return this._x=this._getX()}set x(t){this._setX(t),this._x=t}get y(){return this._y=this._getY()}set y(t){this._setY(t),this._y=t}}class sn extends A{constructor(t,e){super(t.x,t.y),this.original=t,this.change=e}get x(){return this._x=this.original.x}set x(t){this.change(t,this._y),this._x=this.original.x=t}get y(){return this._y=this.original.y}set y(t){this.change(this._x,t),this._y=this.original.y=t}}class on{constructor(){this._parent=null,this._children=[],this._pos=S(0,0),this._rotation=0,this._scale=S(1,1),this._isDirty=!1,this._isInverseDirty=!1,this._matrix=H.identity(),this._inverse=H.identity()}get parent(){return this._parent}set parent(t){if(this._parent){const t=this._parent._children.indexOf(this);t>-1&&this._parent._children.splice(t,1)}this._parent=t,this._parent&&this._parent._children.push(this),this.flagDirty()}get children(){return this._children}set pos(t){t.equals(this._pos)||(this._pos.x=t.x,this._pos.y=t.y,this.flagDirty())}get pos(){return new sn(this._pos,((t,e)=>{t===this._pos.x&&e===this._pos.y||this.flagDirty()}))}set globalPos(t){let e=t.clone();this.parent&&(e=this.parent.inverse.multiply(t)),e.equals(this._pos)||(this._pos=e,this.flagDirty())}get globalPos(){return new rn({getX:()=>this.matrix.data[4],getY:()=>this.matrix.data[5],setX:t=>{if(this.parent){const{x:e}=this.parent.inverse.multiply(S(t,this.pos.y));this.pos.x=e}else this.pos.x=t;t!==this.matrix.data[4]&&this.flagDirty()},setY:t=>{if(this.parent){const{y:e}=this.parent.inverse.multiply(S(this.pos.x,t));this.pos.y=e}else this.pos.y=t;t!==this.matrix.data[5]&&this.flagDirty()}})}set rotation(t){const e=v(t);e!==this._rotation&&this.flagDirty(),this._rotation=e}get rotation(){return this._rotation}set globalRotation(t){let e=0;this.parent&&(e=this.parent.globalRotation);const n=v(t+e);n!==this._rotation&&this.flagDirty(),this._rotation=n}get globalRotation(){return this.parent?this.matrix.getRotation():this.rotation}set scale(t){t.x===this._scale.x&&t.y===this._scale.y||(this._scale.x=t.x,this._scale.y=t.y,this.flagDirty())}get scale(){return new sn(this._scale,((t,e)=>{t===this._scale.x&&e===this._scale.y||this.flagDirty()}))}set globalScale(t){let e=S(1,1);this.parent&&(e=this.parent.globalScale),this.scale=t.scale(S(1/e.x,1/e.y))}get globalScale(){return new rn({getX:()=>this.parent?this.matrix.getScaleX():this.scale.x,getY:()=>this.parent?this.matrix.getScaleY():this.scale.y,setX:t=>{if(this.parent){const e=this.parent.globalScale.x;this.scale.x=t/e}else this.scale.x=t},setY:t=>{if(this.parent){const e=this.parent.globalScale.y;this.scale.y=t/e}else this.scale.y=t}})}get matrix(){return this._isDirty&&(null===this.parent?this._matrix=this._calculateMatrix():this._matrix=this.parent.matrix.multiply(this._calculateMatrix()),this._isDirty=!1),this._matrix}get inverse(){return this._isInverseDirty&&(this._inverse=this.matrix.inverse(),this._isInverseDirty=!1),this._inverse}_calculateMatrix(){return H.identity().translate(this.pos.x,this.pos.y).rotate(this.rotation).scale(this.scale.x,this.scale.y)}flagDirty(){this._isDirty=!0,this._isInverseDirty=!0;for(let t=0;t<this._children.length;t++)this._children[t].flagDirty()}apply(t){return this.matrix.multiply(t)}applyInverse(t){return this.inverse.multiply(t)}setTransform(t,e,n){this._pos.x=t.x,this._pos.y=t.y,this._rotation=v(e),this._scale.x=n.x,this._scale.y=n.y,this.flagDirty()}clone(t){const e=null!==t&&void 0!==t?t:new on;return this._pos.clone(e._pos),e._rotation=this._rotation,this._scale.clone(e._scale),e.flagDirty(),e}}function an(t){return!!t&&!!t.prototype&&!!t.prototype.constructor}class ln{constructor(){this.owner=void 0}clone(){const t=new this.constructor;for(const n in this)if(this.hasOwnProperty(n)){const i=this[n];(null===(e=i)||void 0===e?void 0:e.clone)&&"owner"!==n&&"clone"!==n?t[n]=i.clone():t[n]=i}var e;return t}}class cn{constructor(){this.observers=[],this.subscriptions=[]}register(t){this.observers.push(t)}subscribe(t){this.subscriptions.push(t)}unregister(t){const e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)}unsubscribe(t){const e=this.subscriptions.indexOf(t);-1!==e&&this.subscriptions.splice(e,1)}notifyAll(t){const e=this.observers.length;for(let i=0;i<e;i++)this.observers[i].notify(t);const n=this.subscriptions.length;for(let i=0;i<n;i++)this.subscriptions[i](t)}clear(){this.observers.length=0,this.subscriptions.length=0}}class hn extends ln{constructor(){super(...arguments),this._logger=R.getInstance(),this._parentComponent=null,this._transform=new on,this._addChildTransform=t=>{const e=t.get(hn);e&&(e._transform.parent=this._transform,e._parentComponent=this)},this.zIndexChanged$=new cn,this._z=0,this._coordPlane=Je.World}get(){return this._transform}onAdd(t){for(const e of t.children)this._addChildTransform(e);t.childrenAdded$.subscribe((t=>this._addChildTransform(t))),t.childrenRemoved$.subscribe((t=>{const e=t.get(hn);e&&(e._transform.parent=null,e._parentComponent=null)}))}onRemove(t){this._transform.parent=null,this._parentComponent=null}get z(){return this._z}set z(t){const e=this._z;this._z=t,e!==t&&this.zIndexChanged$.notifyAll(t)}get coordPlane(){return this._parentComponent?this._parentComponent.coordPlane:this._coordPlane}set coordPlane(t){var e;this._parentComponent?this._logger.warn("Cannot set coordinate plane on child entity ".concat(null===(e=this.owner)||void 0===e?void 0:e.name,", children inherit their coordinate plane from their parents.")):this._coordPlane=t}get pos(){return this._transform.pos}set pos(t){this._transform.pos=t}get globalPos(){return this._transform.globalPos}set globalPos(t){this._transform.globalPos=t}get rotation(){return this._transform.rotation}set rotation(t){this._transform.rotation=t}get globalRotation(){return this._transform.globalRotation}set globalRotation(t){this._transform.globalRotation=t}get scale(){return this._transform.scale}set scale(t){this._transform.scale=t}get globalScale(){return this._transform.globalScale}set globalScale(t){this._transform.globalScale=t}applyInverse(t){return this._transform.applyInverse(t)}apply(t){return this._transform.apply(t)}clone(){const t=new hn;return t._transform=this._transform.clone(),t._z=this._z,t}}class dn extends ln{constructor(){super(...arguments),this.vel=A.Zero,this.acc=A.Zero,this.scaleFactor=A.Zero,this.angularVelocity=0,this.torque=0,this.inertia=1}}class un{static create(t,e){if(this._CURRENT_GROUP>this._MAX_GROUPS)throw new Error("Cannot have more than ".concat(this._MAX_GROUPS," collision groups"));if(this._GROUPS.get(t)){const n=this._GROUPS.get(t);if(n.mask===e)return n;throw new Error("Collision group ".concat(t," already exists with a different mask!"))}const n=new pn(t,this._CURRENT_BIT,void 0!==e?e:~this._CURRENT_BIT);return this._CURRENT_BIT=this._CURRENT_BIT<<1,this._CURRENT_GROUP++,this._GROUPS.set(t,n),n}static get groups(){return Array.from(this._GROUPS.values())}static groupByName(t){return this._GROUPS.get(t)}static reset(){this._GROUPS=new Map,this._CURRENT_BIT=this._STARTING_BIT,this._CURRENT_GROUP=1}}un._STARTING_BIT=1,un._MAX_GROUPS=32,un._CURRENT_GROUP=1,un._CURRENT_BIT=un._STARTING_BIT,un._GROUPS=new Map;class pn{constructor(t,e,n){this._name=t,this._category=e,this._mask=n}get name(){return this._name}get category(){return this._category}get mask(){return this._mask}canCollide(t){const e=this.category&t.mask,n=this.mask&t.category;return 0!==e&&0!==n}invert(){const t=un.create("~("+this.name+")",0|~this.mask);return t._category=~this.category,t}static combine(t){const e=t.map((t=>t.name)).join("+"),n=~t.reduce(((t,e)=>e.category|t),0);return un.create(e,n)}static collidesWith(t){const e="collidesWith(".concat(t.map((t=>t.name)).join("+"),")"),n=t.reduce(((t,e)=>e.category|t),0);return un.create(e,n)}toString(){return"\ncategory: ".concat(this.category.toString(2).padStart(32,"0"),"\nmask:     ").concat((this.mask>>>0).toString(2).padStart(32,"0"),"\n    ")}}pn.All=new pn("Collide with all groups",-1,-1);class fn{constructor(t,e){this.colliderA=t,this.colliderB=e,this.id=null,this.id=fn.calculatePairHash(t.id,e.id)}static canCollide(t,e){var n,i;const r=null===(n=null===t||void 0===t?void 0:t.owner)||void 0===n?void 0:n.get(Un),s=null===(i=null===e||void 0===e?void 0:e.owner)||void 0===i?void 0:i.get(Un);return t.id!==e.id&&((!t.owner||!e.owner||t.owner.id!==e.owner.id)&&(!t.localBounds.hasZeroDimensions()&&!e.localBounds.hasZeroDimensions()&&(!(!r||!s)&&(!!r.group.canCollide(s.group)&&((r.collisionType!==Ze.Fixed||s.collisionType!==Ze.Fixed)&&(s.collisionType!==Ze.PreventCollision&&r.collisionType!==Ze.PreventCollision&&!(!r.active||!s.active)))))))}get canCollide(){const t=this.colliderA,e=this.colliderB;return fn.canCollide(t,e)}collide(){return this.colliderA.collide(this.colliderB)}hasCollider(t){return t===this.colliderA||t===this.colliderB}static calculatePairHash(t,e){return t.value<e.value?"#".concat(t.value,"+").concat(e.value):"#".concat(e.value,"+").concat(t.value)}}class gn{constructor(t,e){this.min=t,this.max=e}overlaps(t){return this.max>t.min&&t.max>this.min}getOverlap(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0}}class mn{constructor(t){this.parent=t,this.parent=t||null,this.data=null,this.bounds=new B,this.left=null,this.right=null,this.height=0}isLeaf(){return!this.left&&!this.right}}class vn{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);this._config=t,this.worldBounds=e,this.root=null,this.nodes={}}_insert(t){if(null===this.root)return this.root=t,void(this.root.parent=null);const e=t.bounds;let n=this.root;for(;!n.isLeaf();){const t=n.left,i=n.right,r=n.bounds.getPerimeter(),s=n.bounds.combine(e).getPerimeter(),o=2*s,a=2*(s-r);let l=0;const c=e.combine(t.bounds);let h,d;t.isLeaf()?l=c.getPerimeter()+a:(d=t.bounds.getPerimeter(),h=c.getPerimeter(),l=h-d+a);let u=0;const p=e.combine(i.bounds);if(i.isLeaf()?u=p.getPerimeter()+a:(d=i.bounds.getPerimeter(),h=p.getPerimeter(),u=h-d+a),o<l&&o<u)break;n=l<u?t:i}const i=n.parent,r=new mn(i);r.bounds=e.combine(n.bounds),r.height=n.height+1,null!==i?(i.left===n?i.left=r:i.right=r,r.left=n,r.right=t,n.parent=r,t.parent=r):(r.left=n,r.right=t,n.parent=r,t.parent=r,this.root=r);let s=t.parent;for(;s;){if(s=this._balance(s),!s.left)throw new Error("Parent of current leaf cannot have a null left child"+s);if(!s.right)throw new Error("Parent of current leaf cannot have a null right child"+s);s.height=1+Math.max(s.left.height,s.right.height),s.bounds=s.left.bounds.combine(s.right.bounds),s=s.parent}}_remove(t){if(t===this.root)return void(this.root=null);const e=t.parent,n=e.parent;let i;if(i=e.left===t?e.right:e.left,n){n.left===e?n.left=i:n.right=i,i.parent=n;let t=n;for(;t;)t=this._balance(t),t.bounds=t.left.bounds.combine(t.right.bounds),t.height=1+Math.max(t.left.height,t.right.height),t=t.parent}else this.root=i,i.parent=null}trackCollider(t){const e=new mn;e.data=t,e.bounds=t.bounds,e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.id.value]=e,this._insert(e)}updateCollider(t){var e;const n=this.nodes[t.id.value];if(!n)return!1;const i=t.bounds;if(!this.worldBounds.contains(i))return R.getInstance().warn("Collider with id "+t.id.value+" is outside the world bounds and will no longer be tracked for physics"),this.untrackCollider(t),!1;if(n.bounds.contains(i))return!1;if(this._remove(n),i.left-=this._config.boundsPadding,i.top-=this._config.boundsPadding,i.right+=this._config.boundsPadding,i.bottom+=this._config.boundsPadding,t.owner){const n=null===(e=t.owner)||void 0===e?void 0:e.get(Un);if(n){const t=32*n.vel.x/1e3*this._config.velocityMultiplier,e=32*n.vel.y/1e3*this._config.velocityMultiplier;t<0?i.left+=t:i.right+=t,e<0?i.top+=e:i.bottom+=e}}return n.bounds=i,this._insert(n),!0}untrackCollider(t){const e=this.nodes[t.id.value];e&&(this._remove(e),this.nodes[t.id.value]=null,delete this.nodes[t.id.value])}_balance(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;const e=t.left,n=t.right,i=t,r=e,s=n,o=e.left,a=e.right,l=n.left,c=n.right,h=s.height-r.height;if(h>1)return s.left=i,s.parent=i.parent,i.parent=s,s.parent?s.parent.left===i?s.parent.left=s:s.parent.right=s:this.root=s,l.height>c.height?(s.right=l,i.right=c,c.parent=i,i.bounds=r.bounds.combine(c.bounds),s.bounds=i.bounds.combine(l.bounds),i.height=1+Math.max(r.height,c.height),s.height=1+Math.max(i.height,l.height)):(s.right=c,i.right=l,l.parent=i,i.bounds=r.bounds.combine(l.bounds),s.bounds=i.bounds.combine(c.bounds),i.height=1+Math.max(r.height,l.height),s.height=1+Math.max(i.height,c.height)),s;if(h<-1){if(r.left=i,r.parent=i.parent,i.parent=r,r.parent)if(r.parent.left===i)r.parent.left=r;else{if(r.parent.right!==i)throw"Error rotating Dynamic Tree";r.parent.right=r}else this.root=r;return o.height>a.height?(r.right=o,i.left=a,a.parent=i,i.bounds=s.bounds.combine(a.bounds),r.bounds=i.bounds.combine(o.bounds),i.height=1+Math.max(s.height,a.height),r.height=1+Math.max(i.height,o.height)):(r.right=a,i.left=o,o.parent=i,i.bounds=s.bounds.combine(o.bounds),r.bounds=i.bounds.combine(a.bounds),i.height=1+Math.max(s.height,o.height),r.height=1+Math.max(i.height,a.height)),r}return t}getHeight(){return null===this.root?0:this.root.height}query(t,e){const n=t.bounds,i=r=>{if(r&&r.bounds.overlaps(n)){if(!r.isLeaf()||r.data===t)return i(r.left)||i(r.right);if(e.call(t,r.data))return!0}return!1};i(this.root)}rayCastQuery(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2?arguments[2]:void 0;const i=r=>{if(r&&r.bounds.rayCast(t,e)){if(!r.isLeaf())return i(r.left)||i(r.right);if(n.call(t,r.data))return!0}return!1};i(this.root)}getNodes(){const t=e=>e?[e].concat(t(e.left),t(e.right)):[];return t(this.root)}debug(t){const e=n=>{n&&(n.isLeaf()?n.bounds.draw(t,C.Green):n.bounds.draw(t,C.White),n.left&&e(n.left),n.right&&e(n.right))};e(this.root)}}class yn{constructor(t,e){this.pos=t,this.dir=e.normalize()}intersect(t){const e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;const n=this.dir.cross(t.getSlope());if(0===n)return-1;const i=e.cross(t.getSlope())/n;if(i>=0){const r=e.cross(this.dir)/n/t.getLength();if(r>=0&&r<=1)return i}return-1}intersectPoint(t){const e=this.intersect(t);return e<0?null:this.getPoint(e)}getPoint(t){return this.pos.add(this.dir.scale(t))}}class xn{constructor(t){this._config=t,this._pairs=new Set,this._collisionPairCache=[],this._colliders=[],this._dynamicCollisionTree=new vn(t.dynamicTree)}getColliders(){return this._colliders}rayCast(t,e){var n,i,r;const s=[],o=null!==(n=null===e||void 0===e?void 0:e.maxDistance)&&void 0!==n?n:1/0,a=null===e||void 0===e?void 0:e.collisionGroup,l=a?a.category:null!==(i=null===e||void 0===e?void 0:e.collisionMask)&&void 0!==i?i:pn.All.category,c=null!==(r=null===e||void 0===e?void 0:e.searchAllColliders)&&void 0!==r&&r;return this._dynamicCollisionTree.rayCastQuery(t,o,(n=>{const i=n.owner.get(Un);if((null===e||void 0===e?void 0:e.ignoreCollisionGroupAll)&&i.group===pn.All)return!1;const r=0!==(l&i.group.category);if((null===i||void 0===i?void 0:i.group)&&!r)return!1;const a=n.rayCast(t,o);if(a)if(null===e||void 0===e?void 0:e.filter){if(e.filter(a)&&(s.push(a),!c))return!0}else if(s.push(a),!c)return!0;return!1})),s}track(t){if(t)if(t instanceof kn){const e=t.getColliders();for(const n of e)n.owner=t.owner,this._colliders.push(n),this._dynamicCollisionTree.trackCollider(n)}else this._colliders.push(t),this._dynamicCollisionTree.trackCollider(t);else R.getInstance().warn("Cannot track null collider")}untrack(t){if(t)if(t instanceof kn){const e=t.getColliders();for(const t of e){const e=this._colliders.indexOf(t);-1!==e&&this._colliders.splice(e,1),this._dynamicCollisionTree.untrackCollider(t)}}else{const e=this._colliders.indexOf(t);-1!==e&&this._colliders.splice(e,1),this._dynamicCollisionTree.untrackCollider(t)}else R.getInstance().warn("Cannot untrack a null collider")}_pairExists(t,e){const n=fn.calculatePairHash(t.id,e.id);return this._pairs.has(n)}broadphase(t,e,n){const i=e/1e3,r=t.filter((t=>{var e,n;const i=null===(e=t.owner)||void 0===e?void 0:e.get(Un);return(null===(n=t.owner)||void 0===n?void 0:n.active)&&i.collisionType!==Ze.PreventCollision}));let s;this._collisionPairCache=[],this._pairs.clear();for(let o=0,a=r.length;o<a;o++)s=r[o],this._dynamicCollisionTree.query(s,(t=>{if(!this._pairExists(s,t)&&fn.canCollide(s,t)){const e=new fn(s,t);this._pairs.add(e.id),this._collisionPairCache.push(e)}return!1}));if(n&&(n.physics.pairs=this._collisionPairCache.length),this._config.continuous.checkForFastBodies)for(const o of r){const t=o.owner.get(Un);if(t.collisionType!==Ze.Active)continue;const e=t.vel.size*i+.5*t.acc.size*i*i,r=Math.min(o.bounds.height,o.bounds.width);if(this._config.continuous.disableMinimumSpeedForFastBody||e>r/2){n&&n.physics.fastBodies++;const i=t.globalPos.sub(t.oldPos),r=o.center,s=o.getFurthestPoint(t.vel),a=s.sub(i),l=new yn(a,t.vel);let c;l.pos=l.pos.add(l.dir.scale(-2*this._config.continuous.surfaceEpsilon));let h=new A(1/0,1/0);if(this._dynamicCollisionTree.rayCastQuery(l,e+2*this._config.continuous.surfaceEpsilon,(t=>{if(!this._pairExists(o,t)&&fn.canCollide(o,t)){const n=t.rayCast(l,e+10*this._config.continuous.surfaceEpsilon);if(n){const e=n.point.sub(a);e.size<h.size&&(h=e,c=t)}}return!1})),c&&A.isValid(h)){const e=new fn(o,c);this._pairs.has(e.id)||(this._pairs.add(e.id),this._collisionPairCache.push(e));const i=r.sub(s);t.globalPos=a.add(i).add(h).add(l.dir.scale(10*this._config.continuous.surfaceEpsilon)),o.update(t.transform.get()),n&&n.physics.fastBodyCollisions++}}}return this._collisionPairCache}narrowphase(t,e){let n=[];for(let i=0;i<t.length;i++){const r=t[i].collide();if(n=n.concat(r),e&&r.length>0)for(const t of r)e.physics.contacts.set(t.id,t)}return e&&(e.physics.collisions+=n.length),n}update(t){let e=0;const n=t.length;for(let i=0;i<n;i++)this._dynamicCollisionTree.updateCollider(t[i])&&e++;return e}debug(t){this._dynamicCollisionTree.debug(t)}}class _n{constructor(){this.id=l("collider",_n._ID++),this.composite=null,this.events=new h,this.offset=A.Zero}touching(t){return!!this.collide(t)}}_n._ID=0,function(t){t.Arcade="arcade",t.Realistic="realistic"}($e||($e={})),function(t){t[t.DynamicAABBTree=0]="DynamicAABBTree"}(tn||(tn={})),function(t){t[t.Euler=0]="Euler"}(en||(en={}));class bn{static get gravity(){return bn.acc}static set gravity(t){bn.acc=t}static useArcadePhysics(){bn.collisionResolutionStrategy=$e.Arcade}static useRealisticPhysics(){bn.collisionResolutionStrategy=$e.Realistic}}bn.acc=new A(0,0),bn.enabled=!0,bn.broadphaseStrategy=tn.DynamicAABBTree,bn.collisionResolutionStrategy=$e.Arcade,bn.defaultMass=10,bn.integrator=en.Euler,bn.dynamicTreeVelocityMultiplier=2,bn.boundsPadding=5,bn.positionIterations=3,bn.velocityIterations=8,bn.slop=1,bn.steeringFactor=.2,bn.warmStart=!0,bn.bodiesCanSleepByDefault=!1,bn.surfaceEpsilon=.1,bn.sleepEpsilon=.07,bn.wakeThreshold=3*bn.sleepEpsilon,bn.sleepBias=.9,bn.checkForFastBodies=!0,bn.disableMinimumSpeedForFastBody=!1,function(t){t.None="none",t.VerticalFirst="vertical-first",t.HorizontalFirst="horizontal-first"}(nn||(nn={}));const wn={vertical:1,horizontal:2},An={horizontal:1,vertical:2},Sn={horizontal:0,vertical:0},Cn={enabled:!0,gravity:S(0,0),solver:$e.Arcade,colliders:{compositeStrategy:"together"},continuous:{checkForFastBodies:!0,disableMinimumSpeedForFastBody:!1,surfaceEpsilon:.1},bodies:{canSleepByDefault:!1,sleepEpsilon:.07,wakeThreshold:.07*3,sleepBias:.9,defaultMass:10},dynamicTree:{boundsPadding:5,velocityMultiplier:2},arcade:{contactSolveBias:nn.None},realistic:{positionIterations:3,velocityIterations:8,slop:1,steeringFactor:.2,warmStart:!0}};function En(){return{enabled:bn.enabled,gravity:bn.gravity,solver:bn.collisionResolutionStrategy,continuous:{checkForFastBodies:bn.checkForFastBodies,disableMinimumSpeedForFastBody:bn.disableMinimumSpeedForFastBody,surfaceEpsilon:bn.surfaceEpsilon},colliders:{compositeStrategy:"together"},bodies:{canSleepByDefault:bn.bodiesCanSleepByDefault,sleepEpsilon:bn.sleepEpsilon,wakeThreshold:bn.wakeThreshold,sleepBias:bn.sleepBias,defaultMass:bn.defaultMass},dynamicTree:{boundsPadding:bn.boundsPadding,velocityMultiplier:bn.dynamicTreeVelocityMultiplier},arcade:{contactSolveBias:nn.None},realistic:{positionIterations:bn.positionIterations,velocityIterations:bn.velocityIterations,slop:bn.slop,steeringFactor:bn.steeringFactor,warmStart:bn.warmStart}}}class kn extends _n{set compositeStrategy(t){this._compositeStrategy=t}get compositeStrategy(){return this._compositeStrategy}constructor(t){super(),this._collisionProcessor=new xn(Cn),this._dynamicAABBTree=new vn(Cn.dynamicTree),this._colliders=[];for(const e of t)this.addCollider(e)}clearColliders(){this._colliders=[]}addCollider(t){let e;t instanceof kn?(e=t.getColliders(),e.forEach((e=>e.offset.addEqual(t.offset)))):e=[t];for(const n of e)n.events.pipe(this.events),n.composite=this,this._colliders.push(n),this._collisionProcessor.track(n),this._dynamicAABBTree.trackCollider(n)}removeCollider(t){t.events.pipe(this.events),t.composite=null,j(t,this._colliders),this._collisionProcessor.untrack(t),this._dynamicAABBTree.untrackCollider(t)}getColliders(){return this._colliders}get worldPos(){var t,e;return(null!==(e=null===(t=this._transform)||void 0===t?void 0:t.pos)&&void 0!==e?e:A.Zero).add(this.offset)}get center(){var t,e;return(null!==(e=null===(t=this._transform)||void 0===t?void 0:t.pos)&&void 0!==e?e:A.Zero).add(this.offset)}get bounds(){var t,e;const n=this.getColliders();return n.reduce(((t,e)=>t.combine(e.bounds)),null!==(e=null===(t=n[0])||void 0===t?void 0:t.bounds)&&void 0!==e?e:(new B).translate(this.worldPos)).translate(this.offset)}get localBounds(){var t,e;const n=this.getColliders();return n.reduce(((t,e)=>t.combine(e.localBounds)),null!==(e=null===(t=n[0])||void 0===t?void 0:t.localBounds)&&void 0!==e?e:new B)}get axes(){const t=this.getColliders();let e=[];for(const n of t)e=e.concat(n.axes);return e}getFurthestPoint(t){const e=this.getColliders(),n=[];for(const s of e)n.push(s.getFurthestPoint(t));let i=n[0],r=-Number.MAX_VALUE;for(const s of n){const e=s.dot(t);e>r&&(i=s,r=e)}return i}getInertia(t){const e=this.getColliders();let n=0;for(const i of e)n+=i.getInertia(t);return n}collide(t){let e=[t];t instanceof kn&&(e=t.getColliders());const n=[];for(const r of e)this._dynamicAABBTree.query(r,(t=>(n.push(new fn(r,t)),!1)));let i=[];for(const r of n)i=i.concat(r.collide());return i}getClosestLineBetween(t){const e=this.getColliders(),n=[];if(t instanceof kn){const i=t.getColliders();for(const t of e)for(const e of i){const i=t.getClosestLineBetween(e);i&&n.push(i)}}else for(const i of e){const e=t.getClosestLineBetween(i);e&&n.push(e)}if(n.length){let t=n[0].getLength(),e=n[0];for(const i of n){const n=i.getLength();n<t&&(t=n,e=i)}return e}return null}contains(t){const e=this.getColliders();for(const n of e)if(n.contains(t))return!0;return!1}rayCast(t,e){const n=this.getColliders(),i=[];for(const r of n){const n=r.rayCast(t,e);n&&i.push(n)}if(i.length){let e=i[0],n=e.point.dot(t.dir);for(const r of i){const i=t.dir.dot(r.point);i<n&&(e=r,n=i)}return e}return null}project(t){const e=this.getColliders(),n=[];for(const i of e){const e=i.project(t);e&&n.push(e)}if(n.length){const t=new gn(n[0].min,n[0].max);for(const e of n)t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max);return t}return null}update(t){if(t){const e=this.getColliders();for(const n of e)n.owner=this.owner,n.update(t)}}debug(t,e,n){const i=this.getColliders();t.save(),t.translate(this.offset.x,this.offset.y);for(const r of i)r.debug(t,e,n);t.restore()}clone(){const t=new kn(this._colliders.map((t=>t.clone())));return t.offset=this.offset.clone(),t}}class Tn{constructor(t,e){this.begin=t,this.end=e}get slope(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)}get intercept(){return this.begin.y-this.slope*this.begin.x}normal(){return this._normal?this._normal:this._normal=this.end.sub(this.begin).normal()}dir(){return this._dir?this._dir:this._dir=this.end.sub(this.begin)}getPoints(){return[this.begin,this.end]}getSlope(){if(this._slope)return this._slope;const t=this.begin,e=this.end,n=t.distance(e);return this._slope=e.sub(t).scale(1/n)}getEdge(){const t=this.begin;return this.end.sub(t)}getLength(){if(this._length)return this._length;const t=this.begin,e=this.end,n=t.distance(e);return this._length=n}get midpoint(){return this.begin.add(this.end).scale(.5)}flip(){return new Tn(this.end,this.begin)}below(t){return(this.end.x-this.begin.x)*(t.y-this.begin.y)-(this.end.y-this.begin.y)*(t.x-this.begin.x)>=0}clip(t,e){let n=t;n=n.normalize();const i=n.dot(this.begin)-e,r=n.dot(this.end)-e,s=[];if(i<=0&&s.push(this.begin),r<=0&&s.push(this.end),i*r<0){const t=i/(i-r);s.push(this.begin.add(this.end.sub(this.begin).scale(t)))}return 2!==s.length?null:new Tn(s[0],s[1])}distanceToPoint(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.x,i=t.y,r=this.getLength(),s=((this.end.y-this.begin.y)*n-(this.end.x-this.begin.x)*i+this.end.x*this.begin.y-this.end.y*this.begin.x)/r;return e?s:Math.abs(s)}findVectorToPoint(t){const e=this.begin.sub(t),n=this.getSlope();return e.sub(n.scale(e.dot(n)))}findPoint(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.slope,i=this.intercept;if(null!==t)return new A(t,n*t+i);if(null!==e)return new A((e-i)/n,e);throw new Error("You must provide an X or a Y value")}hasPoint(){let t,e=0;if("number"===typeof arguments[0]&&"number"===typeof arguments[1])t=new A(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof A))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}const n=t.x-this.begin.x,i=t.y-this.begin.y,r=this.end.x-this.begin.x,s=this.end.y-this.begin.y,o=n*s-i*r;return!(Math.abs(o)>e)&&(Math.abs(r)>=Math.abs(s)?r>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:s>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)}}function Pn(t,e,n,i){const r=t.sub(n),s=e.dot(e),o=e.dot(i),a=i.dot(i),l=e.dot(r),c=i.dot(r),h=s*a-o*o;let d=h,u=h;if(0===h||h<=.01){const e=l/o;return new Tn(t,n.add(i.scale(e)))}let p=o*c-a*l,f=s*c-o*l;return p<0?(p=0,f=c,u=a):p>d&&(p=d,f=c+o,u=a),f<0?(f=0,-l<0?p=0:-l>s?p=d:(p=-l,d=s)):f>u&&(f=u,-l+o<0?p=0:-l+o>s?p=d:(p=-l+o,d=s)),p=Math.abs(p)<.001?0:p/d,f=Math.abs(f)<.001?0:f/u,new Tn(t.add(e.scale(p)),n.add(i.scale(f)))}const Rn={PolygonPolygonClosestLine(t,e){const n=e.worldPos,i=n.sub(t.worldPos),r=i.negate(),s=new yn(t.worldPos,i),o=new yn(n,r),a=t.rayCast(s).point.add(s.dir.scale(.1)),l=e.rayCast(o).point.add(o.dir.scale(.1)),c=t.getClosestFace(a),h=e.getClosestFace(l);return Pn(c.face.begin,c.face.getEdge(),h.face.begin,h.face.getEdge())},PolygonEdgeClosestLine(t,e){const n=e.worldPos.sub(t.worldPos),i=new yn(t.worldPos,n),r=t.rayCast(i).point.add(i.dir.scale(.1)),s=t.getClosestFace(r),o=s.face.begin,a=s.face.getEdge(),l=e.asLine();return Pn(o,a,l.begin,l.getEdge())},PolygonCircleClosestLine(t,e){const n=e.worldPos,i=n.sub(t.worldPos),r=new yn(t.worldPos,i.normalize()),s=t.rayCast(r).point.add(r.dir.scale(.1)),o=t.getClosestFace(s),a=o.face.begin,l=o.face.getEdge();let c=(l.x*(n.x-a.x)+l.y*(n.y-a.y))/(l.x*l.x+l.y*l.y);c>1?c=1:c<0&&(c=0);const h=Math.sqrt(Math.pow(a.x+l.x*c-n.x,2)+Math.pow(a.y+l.y*c-n.y,2))-e.radius,d=(a.x+l.x*c-n.x)*e.radius/(e.radius+h),u=(a.y+l.y*c-n.y)*e.radius/(e.radius+h);return new Tn(l.scale(c).add(a),new A(n.x+d,n.y+u))},CircleCircleClosestLine(t,e){const n=e.worldPos.sub(t.worldPos),i=t.worldPos.sub(e.worldPos),r=new yn(t.worldPos,n),s=new yn(e.worldPos,i),o=t.rayCast(r),a=e.rayCast(s);return new Tn(o.point,a.point)},CircleEdgeClosestLine(t,e){const n=t.worldPos,i=e.asLine(),r=i.begin,s=i.getEdge();let o=(s.x*(n.x-r.x)+s.y*(n.y-r.y))/(s.x*s.x+s.y*s.y);o>1?o=1:o<0&&(o=0);const a=Math.sqrt(Math.pow(r.x+s.x*o-n.x,2)+Math.pow(r.y+s.y*o-n.y,2))-t.radius,l=(r.x+s.x*o-n.x)*t.radius/(t.radius+a),c=(r.y+s.y*o-n.y)*t.radius/(t.radius+a);return new Tn(s.scale(o).add(r),new A(n.x+l,n.y+c))},EdgeEdgeClosestLine(t,e){const n=t.asLine(),i=n.begin,r=n.getEdge(),s=e.asLine();return Pn(i,r,s.begin,s.getEdge())}};class In extends _n{get worldPos(){return this._globalMatrix.getPosition()}get radius(){var t;const e=this._transform,n=null!==(t=null===e||void 0===e?void 0:e.globalScale)&&void 0!==t?t:A.One;return this._naturalRadius*Math.min(n.x,n.y)}set radius(t){var e;const n=this._transform,i=null!==(e=null===n||void 0===n?void 0:n.globalScale)&&void 0!==e?e:A.One;this._naturalRadius=t/Math.min(i.x,i.y)}constructor(t){super(),this.offset=A.Zero,this._globalMatrix=H.identity(),this.offset=t.offset||A.Zero,this.radius=t.radius||0,this._globalMatrix.translate(this.offset.x,this.offset.y)}clone(){return new In({offset:this.offset.clone(),radius:this.radius})}get center(){return this._globalMatrix.getPosition()}contains(t){var e,n;return(null!==(n=null===(e=this._transform)||void 0===e?void 0:e.pos)&&void 0!==n?n:this.offset).distance(t)<=this.radius}rayCast(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;var n,i;const r=this.center,s=t.dir,o=t.pos,a=Math.sqrt(Math.pow(s.dot(o.sub(r)),2)-Math.pow(o.sub(r).distance(),2)+Math.pow(this.radius,2));if(a<0)return null;{let l=0;if(0===a){if(l=-s.dot(o.sub(r)),l>0&&l<e){const e=t.getPoint(l);return{point:e,normal:e.sub(r).normalize(),collider:this,body:null===(n=this.owner)||void 0===n?void 0:n.get(Un),distance:l}}return null}{const n=-s.dot(o.sub(r))+a,l=-s.dot(o.sub(r))-a,c=[];n>=0&&c.push(n),l>=0&&c.push(l);const h=Math.min(...c);if(h<=e){const e=t.getPoint(h);return{point:e,normal:e.sub(r).normalize(),collider:this,body:null===(i=this.owner)||void 0===i?void 0:i.get(Un),distance:h}}return null}}}getClosestLineBetween(t){if(t instanceof In)return Rn.CircleCircleClosestLine(this,t);if(t instanceof On)return Rn.PolygonCircleClosestLine(t,this).flip();if(t instanceof Dn)return Rn.CircleEdgeClosestLine(this,t).flip();throw new Error("Polygon could not collide with unknown CollisionShape ".concat(typeof t))}collide(t){if(t instanceof In)return Fn.CollideCircleCircle(this,t);if(t instanceof On)return Fn.CollideCirclePolygon(this,t);if(t instanceof Dn)return Fn.CollideCircleEdge(this,t);throw new Error("Circle could not collide with unknown CollisionShape ".concat(typeof t))}getFurthestPoint(t){return this.center.add(t.normalize().scale(this.radius))}getFurthestLocalPoint(t){return t.normalize().scale(this.radius)}get bounds(){var t,e,n;const i=this._transform,r=null!==(t=null===i||void 0===i?void 0:i.globalScale)&&void 0!==t?t:A.One,s=null!==(e=null===i||void 0===i?void 0:i.globalRotation)&&void 0!==e?e:0,o=null!==(n=null===i||void 0===i?void 0:i.globalPos)&&void 0!==n?n:A.Zero;return new B(this.offset.x-this._naturalRadius,this.offset.y-this._naturalRadius,this.offset.x+this._naturalRadius,this.offset.y+this._naturalRadius).rotate(s).scale(r).translate(o)}get localBounds(){return new B(this.offset.x-this._naturalRadius,this.offset.y-this._naturalRadius,this.offset.x+this._naturalRadius,this.offset.y+this._naturalRadius)}get axes(){return[]}getInertia(t){return t*this.radius*this.radius/2}update(t){var e;this._transform=t;(null!==(e=t.matrix)&&void 0!==e?e:this._globalMatrix).clone(this._globalMatrix),this._globalMatrix.translate(this.offset.x,this.offset.y)}project(t){const e=[],n=this.center.dot(t);return e.push(n),e.push(n+this.radius),e.push(n-this.radius),new gn(Math.min.apply(Math,e),Math.max.apply(Math,e))}debug(t,e,n){var i,r,s,o;const{lineWidth:a}={lineWidth:1,...n},l=this._transform,c=null!==(i=null===l||void 0===l?void 0:l.globalScale)&&void 0!==i?i:A.One,h=null!==(r=null===l||void 0===l?void 0:l.globalRotation)&&void 0!==r?r:0,d=null!==(s=null===l||void 0===l?void 0:l.globalPos)&&void 0!==s?s:A.Zero;t.save(),t.translate(d.x,d.y),t.rotate(h),t.scale(c.x,c.y),t.drawCircle(null!==(o=this.offset)&&void 0!==o?o:A.Zero,this._naturalRadius,C.Transparent,e,a),t.restore()}}class Mn{constructor(t,e,n,i,r,s,o,a){var l,c,h,d,u,p;if(this._canceled=!1,this.colliderA=t,this.colliderB=e,this.mtv=n,this.normal=i,this.tangent=r,this.points=s,this.localPoints=o,this.info=a,this.id=fn.calculatePairHash(t.id,e.id),t.composite||e.composite){const n="separate"===(null===(l=t.composite)||void 0===l?void 0:l.compositeStrategy)?t.id:null!==(h=null===(c=t.composite)||void 0===c?void 0:c.id)&&void 0!==h?h:t.id,i="separate"===(null===(d=e.composite)||void 0===d?void 0:d.compositeStrategy)?e.id:null!==(p=null===(u=e.composite)||void 0===u?void 0:u.id)&&void 0!==p?p:e.id;this.id+="|"+fn.calculatePairHash(n,i)}}matchAwake(){const t=this.colliderA.owner.get(Un),e=this.colliderB.owner.get(Un);t&&e&&t.sleeping!==e.sleeping&&(t.sleeping&&t.collisionType!==Ze.Fixed&&e.sleepMotion>=t.wakeThreshold&&t.setSleeping(!1),e.sleeping&&e.collisionType!==Ze.Fixed&&t.sleepMotion>=e.wakeThreshold&&e.setSleeping(!1))}isCanceled(){return this._canceled}cancel(){this._canceled=!0}}class Bn{static findPolygonPolygonSeparation(t,e){let n=-Number.MAX_VALUE,i=null,r=null,s=-1,o=null;const a=t.getSides(),l=t.getLocalSides();for(let c=0;c<a.length;c++){const t=a[c],l=t.normal(),h=e.getFurthestPoint(l.negate()),d=t.distanceToPoint(h,!0);d>n&&(n=d,i=t,r=l,s=c,o=h)}return{collider:t,separation:r?n:99,axis:r,side:i,localSide:l[s],sideId:s,point:o,localPoint:r?e.getFurthestLocalPoint(r.negate()):null}}static findCirclePolygonSeparation(t,e){const n=e.axes,i=e.center.sub(t.worldPos),r=e.getFurthestPoint(i.negate());n.push(r.sub(t.worldPos).normalize());let s=Number.MAX_VALUE,o=null,a=-1;for(let l=0;l<n.length;l++){const i=e.project(n[l]),r=t.project(n[l]),c=i.getOverlap(r);if(c<=0)return null;c<s&&(s=c,o=n[l],a=l)}return a<0?null:o.normalize().scale(s)}}const Fn={CollideCircleCircle(t,e){const n=t.worldPos,i=e.worldPos,r=t.radius+e.radius,s=n.distance(i);if(s>r)return[];const o=r-s,a=i.sub(n).normalize(),l=a.perpendicular(),c=a.scale(o),h=t.getFurthestPoint(a),d=t.getFurthestLocalPoint(a);return[new Mn(t,e,c,a,l,[h],[d],{collider:t,separation:o,axis:a,point:h})]},CollideCirclePolygon(t,e){var n,i;let r=Bn.findCirclePolygonSeparation(t,e);if(!r)return[];const s=r.dot(e.center.sub(t.center));r=s<0?r.negate():r;const o=t.getFurthestPoint(r),a=(null!==(i=null===(n=t.owner)||void 0===n?void 0:n.get(hn))&&void 0!==i?i:new hn).applyInverse(o),l=r.normalize(),c={collider:t,separation:-r.size,axis:l,point:o,localPoint:a,side:e.findSide(l.negate()),localSide:e.findLocalSide(l.negate())};return[new Mn(t,e,r,l,l.perpendicular(),[o],[a],c)]},CollideCircleEdge(t,e){const n=t.center,i=e.asLine(),r=i.end.sub(i.begin),s=r.dot(i.end.sub(n)),o=r.dot(n.sub(i.begin)),a=e.asLine(),l=e.asLocalLine();if(o<=0){const r=i.begin.sub(n),s=r.dot(r);if(s>t.radius*t.radius)return[];const o=r.normalize(),c=t.radius-Math.sqrt(s),h={collider:t,separation:c,axis:o,point:a.begin,side:a,localSide:l};return[new Mn(t,e,o.scale(c),o,o.perpendicular(),[a.begin],[l.begin],h)]}if(s<=0){const r=i.end.sub(n),s=r.dot(r);if(s>t.radius*t.radius)return[];const o=r.normalize(),c=t.radius-Math.sqrt(s),h={collider:t,separation:c,axis:o,point:a.end,side:a,localSide:l};return[new Mn(t,e,o.scale(c),o,o.perpendicular(),[a.end],[l.end],h)]}const c=r.dot(r),h=i.begin.scale(s).add(i.end.scale(o)).scale(1/c),d=n.sub(h),u=d.dot(d);if(u>t.radius*t.radius)return[];let p=r.perpendicular();p.dot(n.sub(i.begin))<0&&(p.x=-p.x,p.y=-p.y),p=p.normalize();const f=t.radius-Math.sqrt(u),g=p.scale(f),m={collider:t,separation:f,axis:p,point:h,side:a,localSide:l};return[new Mn(t,e,g,p.negate(),p.negate().perpendicular(),[h],[h.sub(e.worldPos)],m)]},CollideEdgeEdge:()=>[],CollidePolygonEdge(t,e){var n;const i=t.center,r=e.center.sub(i).normalize(),s=new On({points:[e.begin,e.end,e.end.add(r.scale(100)),e.begin.add(r.scale(100))],offset:e.offset});s.owner=e.owner;(null===(n=e.owner)||void 0===n?void 0:n.get(hn))&&s.update(e.owner.get(hn).get());const o=this.CollidePolygonPolygon(t,s);return o.length&&(o[0].colliderB=e,o[0].id=fn.calculatePairHash(t.id,e.id)),o},CollidePolygonPolygon(t,e){var n,i,r,s;const o=Bn.findPolygonPolygonSeparation(t,e);if(o.separation>0)return[];const a=Bn.findPolygonPolygonSeparation(e,t);if(a.separation>0)return[];const l=o.separation>a.separation?o:a,c=(l.collider===t?e:t).findSide(l.axis.negate()),h=l.side,d=h.dir().normalize(),u=c.clip(d.negate(),-d.dot(h.begin));let p=null;if(u&&(p=u.clip(d,d.dot(h.end))),p){const o=p.getPoints().filter((t=>h.below(t)));let a=l.axis,c=a.perpendicular();e.center.sub(t.center).dot(a)<0&&(a=a.negate(),c=a.perpendicular());let d=[];if(l.collider===t){const t=null!==(i=null===(n=e.owner)||void 0===n?void 0:n.get(hn))&&void 0!==i?i:new hn;d=o.map((e=>t.applyInverse(e)))}else{const e=null!==(s=null===(r=t.owner)||void 0===r?void 0:r.get(hn))&&void 0!==s?s:new hn;d=o.map((t=>e.applyInverse(t)))}return[new Mn(t,e,a.scale(-l.separation),a,c,o,d,l)]}return[]},FindContactSeparation(t,e){var n,i,r,s;const o=t.colliderA,a=null!==(i=null===(n=t.colliderA.owner)||void 0===n?void 0:n.get(hn))&&void 0!==i?i:new hn,l=t.colliderB,c=null!==(s=null===(r=t.colliderB.owner)||void 0===r?void 0:r.get(hn))&&void 0!==s?s:new hn;if(o instanceof In&&l instanceof In){return-(o.radius+l.radius-a.pos.distance(c.pos))}if(o instanceof On&&l instanceof On&&t.info.localSide){let n,i;return t.info.collider===o?(n=new Tn(a.apply(t.info.localSide.begin),a.apply(t.info.localSide.end)),i=c.apply(e)):(n=new Tn(c.apply(t.info.localSide.begin),c.apply(t.info.localSide.end)),i=a.apply(e)),n.distanceToPoint(i,!0)}if(o instanceof On&&l instanceof In||l instanceof On&&o instanceof In){const n=a.apply(e);if(t.info.side)return t.info.side.distanceToPoint(n,!0)}if(o instanceof Dn&&l instanceof On||l instanceof Dn&&o instanceof On){let n;if(n=t.info.collider===o?c.apply(e):a.apply(e),t.info.side)return t.info.side.distanceToPoint(n,!0)}if(o instanceof In&&l instanceof Dn||l instanceof In&&o instanceof Dn){const n=c.apply(e);let i;o instanceof In&&(i=o.getFurthestPoint(t.normal));const r=n.distance(i);if(t.info.side)return r>0?-r:0}return 0}};class Dn extends _n{constructor(t){var e;super(),this._globalMatrix=H.identity(),this.begin=t.begin||A.Zero,this.end=t.end||A.Zero,this.offset=null!==(e=t.offset)&&void 0!==e?e:A.Zero}clone(){return new Dn({begin:this.begin.clone(),end:this.end.clone()})}get worldPos(){var t;const e=this._transform;return null!==(t=null===e||void 0===e?void 0:e.globalPos.add(this.offset))&&void 0!==t?t:this.offset}get center(){const t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.average(e)}_getTransformedBegin(){return this._globalMatrix.multiply(this.begin)}_getTransformedEnd(){return this._globalMatrix.multiply(this.end)}getSlope(){const t=this._getTransformedBegin(),e=this._getTransformedEnd(),n=t.distance(e);return e.sub(t).scale(1/n)}getLength(){const t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)}contains(){return!1}rayCast(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;var n;const i=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==i.cross(t.dir))return null;const r=t.dir.cross(this.getSlope());if(0===r)return null;const s=i.cross(this.getSlope())/r;if(s>=0&&s<=e){const e=i.cross(t.dir)/r/this.getLength();if(e>=0&&e<=1)return{distance:s,normal:this.asLine().normal(),collider:this,body:null===(n=this.owner)||void 0===n?void 0:n.get(Un),point:t.getPoint(s)}}return null}getClosestLineBetween(t){if(t instanceof In)return Rn.CircleEdgeClosestLine(t,this);if(t instanceof On)return Rn.PolygonEdgeClosestLine(t,this).flip();if(t instanceof Dn)return Rn.EdgeEdgeClosestLine(this,t);throw new Error("Polygon could not collide with unknown CollisionShape ".concat(typeof t))}collide(t){if(t instanceof In)return Fn.CollideCircleEdge(t,this);if(t instanceof On)return Fn.CollidePolygonEdge(t,this);if(t instanceof Dn)return Fn.CollideEdgeEdge();throw new Error("Edge could not collide with unknown CollisionShape ".concat(typeof t))}getFurthestPoint(t){const e=this._getTransformedBegin(),n=this._getTransformedEnd();return t.dot(e)>0?e:n}_boundsFromBeginEnd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return new B(Math.min(t.x,e.x)-n,Math.min(t.y,e.y)-n,Math.max(t.x,e.x)+n,Math.max(t.y,e.y)+n)}get bounds(){const t=this._getTransformedBegin(),e=this._getTransformedEnd();return this._boundsFromBeginEnd(t,e)}get localBounds(){return this._boundsFromBeginEnd(this.begin,this.end)}asLine(){return new Tn(this._getTransformedBegin(),this._getTransformedEnd())}asLocalLine(){return new Tn(this.begin,this.end)}get axes(){const t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e}getInertia(t){const e=this.end.sub(this.begin).distance()/2;return t*e*e}update(t){var e;this._transform=t;(null!==(e=t.matrix)&&void 0!==e?e:this._globalMatrix).clone(this._globalMatrix),this._globalMatrix.translate(this.offset.x,this.offset.y)}project(t){const e=[],n=[this._getTransformedBegin(),this._getTransformedEnd()],i=n.length;for(let r=0;r<i;r++)e.push(n[r].dot(t));return new gn(Math.min.apply(Math,e),Math.max.apply(Math,e))}debug(t,e){const n=this._getTransformedBegin(),i=this._getTransformedEnd();t.drawLine(n,i,e,2),t.drawCircle(n,2,e),t.drawCircle(i,2,e)}}class jn{static registerGraphicsContext(t){jn._ctx=t}static draw(t){this._drawCalls.push(t)}static drawPoint(t,e){jn.draw((n=>{n.debug.drawPoint(t,e)}))}static drawLine(t,e,n){jn.draw((i=>{i.debug.drawLine(t,e,n)}))}static drawLines(t,e){t.length>1&&jn.draw((n=>{for(let i=0;i<t.length-1;i++)n.debug.drawLine(t[i],t[i+1],e)}))}static drawText(t,e){jn.draw((n=>{n.debug.drawText(t,e)}))}static drawPolygon(t,e){t.length>1&&jn.draw((n=>{const i=t[0],r=[...t,i];for(let t=0;t<r.length-1;t++)n.debug.drawLine(r[t],r[t+1],e)}))}static drawCircle(t,e,n){const{color:i,strokeColor:r,width:s}={color:C.Black,strokeColor:void 0,width:void 0,...n};jn.draw((n=>{n.drawCircle(t,e,i,r,s)}))}static drawBounds(t,e){jn.draw((n=>{n.debug.drawRect(t.left,t.top,t.width,t.height,e)}))}static drawRay(t,e){const{distance:n,color:i}={color:C.Blue,distance:10,...e};jn.draw((e=>{const r=t.pos,s=t.pos.add(t.dir.scale(n));e.debug.drawLine(r,s,{color:i})}))}static flush(t){t.save(),t.z=jn.z;for(const e of jn._drawCalls)e(t);t.restore(),jn.clear()}static clear(){jn._drawCalls.length=0}}jn._drawCalls=[],jn.z=1/0;class On extends _n{flagDirty(){this._localBoundsDirty=!0,this._localSidesDirty=!0,this._transformedPointsDirty=!0,this._sidesDirty=!0}set points(t){this._points=t,this.flagDirty()}get points(){return this._points}constructor(t){var e,n;super(),this._logger=R.getInstance(),this._transformedPoints=[],this._sides=[],this._localSides=[],this._globalMatrix=H.identity(),this._transformedPointsDirty=!0,this._sidesDirty=!0,this._localSidesDirty=!0,this._localBoundsDirty=!0,this.offset=null!==(e=t.offset)&&void 0!==e?e:A.Zero,this._globalMatrix.translate(this.offset.x,this.offset.y),this.points=null!==(n=t.points)&&void 0!==n?n:[];this._isCounterClockwiseWinding(this.points)||this.points.reverse(),this.isConvex()||t.suppressConvexWarning||this._logger.warn("Excalibur only supports convex polygon colliders and will not behave properly.Call PolygonCollider.triangulate() to build a new collider composed of smaller convex triangles"),this._calculateTransformation()}_isCounterClockwiseWinding(t){let e=0;for(let n=0;n<t.length;n++)e+=(t[(n+1)%t.length].x-t[n].x)*(t[(n+1)%t.length].y+t[n].y);return e<0}isConvex(){if(this.points.length<3)return!1;let t=this.points[this.points.length-2],e=this.points[this.points.length-1],n=Math.atan2(e.y-t.y,e.x-t.x),i=0,r=0,s=0;for(const[o,a]of this.points.entries()){if(t=e,i=n,e=a,n=Math.atan2(e.y-t.y,e.x-t.x),t.equals(e))return!1;let l=n-i;if(l<=-Math.PI?l+=2*Math.PI:l>Math.PI&&(l-=2*Math.PI),0===o){if(0===l)return!1;r=l>0?1:-1}else if(r*l<=0)return!1;s+=l}return 1===Math.abs(Math.round(s/(2*Math.PI)))}tessellate(){const t=[];for(let e=1;e<this.points.length-2;e++)t.push([this.points[0],this.points[e+1],this.points[e+2]]);return t.push([this.points[0],this.points[1],this.points[2]]),new kn(t.map((t=>Ln.Polygon(t))))}triangulate(){if(this.points.length<3)throw Error("Invalid polygon");const t=[],e=[...this.points].reverse();let n=e.length;function i(t){return 0===t?n-1:t-1}function r(t){return t===n-1?0:t+1}function s(t){const n=i(t),s=r(t),o=e[n],a=e[t],l=e[s],c=o.sub(a),h=l.sub(a);return!(c.cross(h)<0)}const o=e.map(((t,e)=>s(e)));function a(t,e,n,i){const r=n.sub(e),s=i.sub(n),o=e.sub(i),a=t.sub(e),l=t.sub(n),c=t.sub(i),h=r.cross(a),d=s.cross(l),u=o.cross(c);return!(h>0||d>0||u>0)}function l(){for(let t=0;t<n;t++)if(o[t]){const s=i(t),o=r(t),l=e[s],c=e[t],h=e[o];let d=!0;for(let i=0;i<n;i++){if(i===t||i===s||i===o)continue;if(a(e[i],l,c,h)){d=!1;break}}if(d)return t}for(let t=0;t<n;t++)if(o[t])return t;return 0}function c(s){const a=i(s),l=r(s),c=e[a],h=e[s],d=e[l];t.push([c,h,d]),e.splice(s,1),o.splice(s,1),n--}for(;n>3;){c(l());for(let t=0;t<n;t++)o[t]=s(t)}return t.push([e[0],e[1],e[2]]),new kn(t.map((t=>Ln.Polygon(t,A.Zero,!0))))}clone(){return new On({offset:this.offset.clone(),points:this.points.map((t=>t.clone()))})}get worldPos(){return this._transform?this._transform.pos.add(this.offset):this.offset}get center(){return this.bounds.center}_calculateTransformation(){const t=this.points,e=t.length;this._transformedPoints.length=0;for(let n=0;n<e;n++)this._transformedPoints[n]=this._globalMatrix.multiply(t[n].clone())}getTransformedPoints(){return this._transformedPointsDirty&&(this._calculateTransformation(),this._transformedPointsDirty=!1),this._transformedPoints}getSides(){if(this._sidesDirty){const t=[],e=this.getTransformedPoints(),n=e.length;for(let i=0;i<n;i++)t.push(new Tn(e[i],e[(i+1)%n]));this._sides=t,this._sidesDirty=!1}return this._sides}getLocalSides(){if(this._localSidesDirty){const t=[],e=this.points,n=e.length;for(let i=0;i<n;i++)t.push(new Tn(e[i],e[(i+1)%n]));this._localSides=t,this._localSidesDirty=!1}return this._localSides}findSide(t){const e=this.getSides();let n=e[0],i=-Number.MAX_VALUE;for(let r=0;r<e.length;r++){const s=e[r],o=s.normal().dot(t);o>i&&(n=s,i=o)}return n}findLocalSide(t){const e=this.getLocalSides();let n=e[0],i=-Number.MAX_VALUE;for(let r=0;r<e.length;r++){const s=e[r],o=s.normal().dot(t);o>i&&(n=s,i=o)}return n}get axes(){const t=[],e=this.getSides();for(let n=0;n<e.length;n++)t.push(e[n].normal());return t}update(t){var e;if(t){this._transform=t,this._transformedPointsDirty=!0,this._sidesDirty=!0;(null!==(e=t.matrix)&&void 0!==e?e:this._globalMatrix).clone(this._globalMatrix),this._globalMatrix.translate(this.offset.x,this.offset.y)}}contains(t){const e=new yn(t,new A(1,0));return this.getSides().reduce((function(t,n){return e.intersect(n)>=0?t+1:t}),0)%2!==0}getClosestLineBetween(t){if(t instanceof In)return Rn.PolygonCircleClosestLine(this,t);if(t instanceof On)return Rn.PolygonPolygonClosestLine(this,t);if(t instanceof Dn)return Rn.PolygonEdgeClosestLine(this,t);throw new Error("Polygon could not collide with unknown CollisionShape ".concat(typeof t))}collide(t){if(t instanceof In)return Fn.CollideCirclePolygon(t,this);if(t instanceof On)return Fn.CollidePolygonPolygon(this,t);if(t instanceof Dn)return Fn.CollidePolygonEdge(this,t);throw new Error("Polygon could not collide with unknown CollisionShape ".concat(typeof t))}getFurthestPoint(t){const e=this.getTransformedPoints();let n=null,i=-Number.MAX_VALUE;for(let r=0;r<e.length;r++){const s=t.dot(e[r]);s>i&&(i=s,n=e[r])}return n}getFurthestLocalPoint(t){const e=this.points;let n=e[0],i=-Number.MAX_VALUE;for(let r=0;r<e.length;r++){const s=t.dot(e[r]);s>i&&(i=s,n=e[r])}return n}getClosestFace(t){const e=this.getSides();let n=Number.POSITIVE_INFINITY,i=-1,r=-1;for(let s=0;s<e.length;s++){const o=e[s].distanceToPoint(t);o<n&&(n=o,i=s,r=o)}return-1!==i?{distance:e[i].normal().scale(r),face:e[i]}:null}get bounds(){return this.localBounds.transform(this._globalMatrix)}get localBounds(){return this._localBoundsDirty&&(this._localBounds=B.fromPoints(this.points),this._localBoundsDirty=!1),this._localBounds}getInertia(t){if(this._cachedMass===t&&this._cachedInertia)return this._cachedInertia;let e=0,n=0;const i=this.points;for(let r=0;r<i.length;r++){const t=(r+1)%i.length,s=i[t].cross(i[r]);e+=s*(i[r].dot(i[r])+i[r].dot(i[t])+i[t].dot(i[t])),n+=s}return this._cachedMass=t,this._cachedInertia=t/6*(e/n)}rayCast(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;var n;const i=this.getSides(),r=i.length;let s,o=Number.MAX_VALUE,a=-1;for(let l=0;l<r;l++){const n=t.intersect(i[l]);n>=0&&n<o&&n<=e&&(o=n,s=i[l],a=l)}return a>=0?{collider:this,distance:o,body:null===(n=this.owner)||void 0===n?void 0:n.get(Un),point:t.getPoint(o),normal:s.normal()}:null}project(t){const e=this.getTransformedPoints(),n=e.length;let i=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let s=0;s<n;s++){const n=e[s].dot(t);i=Math.min(i,n),r=Math.max(r,n)}return new gn(i,r)}debug(t,e,n){const i=this.getTransformedPoints();jn.drawPolygon(i,{color:e})}}class Ln{static Box(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Half,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A.Zero;return new On({points:new B(-t*n.x,-e*n.y,t-t*n.x,e-e*n.y).getPoints(),offset:i})}static Polygon(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;return new On({points:t,offset:e,suppressConvexWarning:arguments.length>2&&void 0!==arguments[2]&&arguments[2]})}static Circle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;return new In({radius:t,offset:e})}static Edge(t,e){return new Dn({begin:t,end:e})}static Capsule(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Zero;const i=R.getInstance();t===e&&i.warn("A capsule collider with equal width and height is a circle, consider using a ex.Shape.Circle or ex.CircleCollider");if(e>=t){return new kn([Ln.Circle(t/2,S(0,-e/2+t/2).add(n)),Ln.Box(t,e-t,A.Half,n),Ln.Circle(t/2,S(0,e/2-t/2).add(n))])}return new kn([Ln.Circle(e/2,S(-t/2+e/2,0).add(n)),Ln.Box(t-e,e,A.Half,n),Ln.Circle(e/2,S(t/2-e/2,0).add(n))])}}class zn extends ln{constructor(t){super(),this.events=new h,this.$colliderAdded=new cn,this.$colliderRemoved=new cn,this._collidersToRemove=[],this.set(t)}get(){return this._collider}set(t){return this.clear(),t&&(this._collider=t,this._collider.owner=this.owner,t.events.pipe(this.events),this.$colliderAdded.notifyAll(t),this.update()),t}clear(){this._collider&&(this._collidersToRemove.push(this._collider),this._collider=null)}processColliderRemoval(){for(const t of this._collidersToRemove)t.events.unpipe(this.events),this.$colliderRemoved.notifyAll(t),t.owner=null}clone(){return new zn(this._collider.clone())}get bounds(){var t,e;return null!==(e=null===(t=this._collider)||void 0===t?void 0:t.bounds)&&void 0!==e?e:new B}get localBounds(){var t,e;return null!==(e=null===(t=this._collider)||void 0===t?void 0:t.localBounds)&&void 0!==e?e:new B}update(){var t;const e=null===(t=this.owner)||void 0===t?void 0:t.get(hn);this._collider&&(this._collider.owner=this.owner,e&&this._collider.update(e.get()))}collide(t){let e=this._collider,n=t._collider;if(!e||!n)return[];let i=!1;if(n instanceof kn&&(e=n,n=this._collider,i=!0),this._collider){const r=e.collide(n);return r?(i&&r.forEach((e=>{e.mtv=e.mtv.negate(),e.normal=e.normal.negate(),e.tangent=e.normal.perpendicular(),e.colliderA=this._collider,e.colliderB=t._collider})),r):[]}return[]}onAdd(t){this._collider&&this.update(),this.events.on("precollision",(e=>{const n=e;t.events.emit("precollision",new me(n.target.owner,n.other.owner,n.side,n.intersection,n.contact)),t instanceof Di&&t.onPreCollisionResolve(n.target,n.other,n.side,n.contact)})),this.events.on("postcollision",(e=>{const n=e;t.events.emit("postcollision",new ve(n.target.owner,n.other.owner,n.side,n.intersection,n.contact)),t instanceof Di&&t.onPostCollisionResolve(n.target,n.other,n.side,n.contact)})),this.events.on("collisionstart",(e=>{const n=e;t.events.emit("collisionstart",new we(n.target.owner,n.other.owner,n.side,n.contact)),t instanceof Di&&t.onCollisionStart(n.target,n.other,n.side,n.contact)})),this.events.on("collisionend",(e=>{const n=e;t.events.emit("collisionend",new Ae(n.target.owner,n.other.owner,n.side,n.lastContact)),t instanceof Di&&t.onCollisionEnd(n.target,n.other,n.side,n.lastContact)}))}onRemove(){this.events.clear(),this.$colliderRemoved.notifyAll(this._collider)}useBoxCollider(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Half,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A.Zero;const r=Ln.Box(t,e,n,i);return this.set(r)}usePolygonCollider(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;const n=Ln.Polygon(t,e);return this.set(n)}useCircleCollider(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Zero;const n=Ln.Circle(t,e);return this.set(n)}useEdgeCollider(t,e){const n=Ln.Edge(t,e);return this.set(n)}useCompositeCollider(t){return this.set(new kn(t))}}var Nn;!function(t){t.Rotation="rotation",t.X="x",t.Y="y"}(Nn||(Nn={}));class Un extends ln{constructor(t){var e,n,i;super(),this.dependencies=[hn,dn],this.id=l("body",Un._ID++),this.events=new h,this.oldTransform=new on,this.__oldTransformCaptured=!1,this.enableFixedUpdateInterpolate=!0,this.collisionType=Ze.PreventCollision,this.group=pn.All,this._sleeping=!1,this.bounciness=.2,this.friction=.99,this.useGravity=!0,this.limitDegreeOfFreedom=[],this.oldVel=new A(0,0),this.oldAcc=A.Zero,t?(this.collisionType=null!==(e=t.type)&&void 0!==e?e:this.collisionType,this.group=null!==(n=t.group)&&void 0!==n?n:this.group,this.useGravity=null!==(i=t.useGravity)&&void 0!==i?i:this.useGravity,this._bodyConfig={...Cn.bodies,...t.config}):this._bodyConfig={...Cn.bodies},this.updatePhysicsConfig(this._bodyConfig),this._mass=Un._DEFAULT_CONFIG.defaultMass}get matrix(){return this.transform.get().matrix}updatePhysicsConfig(t){this._bodyConfig={...Cn.bodies,...t},this.canSleep=this._bodyConfig.canSleepByDefault,this.sleepMotion=5*this._bodyConfig.sleepEpsilon,this.wakeThreshold=this._bodyConfig.wakeThreshold}static updateDefaultPhysicsConfig(t){Un._DEFAULT_CONFIG=t}get mass(){return this._mass}set mass(t){this._mass=t,this._cachedInertia=void 0,this._cachedInverseInertia=void 0}get inverseMass(){return this.collisionType===Ze.Fixed?0:1/this.mass}get sleeping(){return this._sleeping}setSleeping(t){this._sleeping=t,t?(this.vel=A.Zero,this.acc=A.Zero,this.angularVelocity=0,this.sleepMotion=0):this.sleepMotion=5*this._bodyConfig.sleepEpsilon}updateMotion(){this._sleeping&&this.setSleeping(!0);const t=this.vel.size*this.vel.size+Math.abs(this.angularVelocity*this.angularVelocity),e=this._bodyConfig.sleepBias;this.sleepMotion=e*this.sleepMotion+(1-e)*t,this.sleepMotion=m(this.sleepMotion,0,10*this._bodyConfig.sleepEpsilon),this.canSleep&&this.sleepMotion<this._bodyConfig.sleepEpsilon&&this.setSleeping(!0)}get inertia(){if(this._cachedInertia)return this._cachedInertia;const t=this.owner.get(zn);if(t){t.$colliderAdded.subscribe((()=>{this._cachedInertia=null})),t.$colliderRemoved.subscribe((()=>{this._cachedInertia=null}));const e=t.get();if(e)return this._cachedInertia=e.getInertia(this.mass)}return 0}get inverseInertia(){return this._cachedInverseInertia?this._cachedInverseInertia:this._cachedInverseInertia=this.collisionType===Ze.Fixed?0:1/this.inertia}get active(){var t;return!!(null===(t=this.owner)||void 0===t?void 0:t.active)}get center(){return this.globalPos}get transform(){var t;return null===(t=this.owner)||void 0===t?void 0:t.get(hn)}get motion(){var t;return null===(t=this.owner)||void 0===t?void 0:t.get(dn)}get pos(){return this.transform.pos}set pos(t){this.transform.pos=t}get globalPos(){return this.transform.globalPos}set globalPos(t){this.transform.globalPos=t}get oldPos(){return this.oldTransform.pos}get vel(){return this.motion.vel}set vel(t){this.motion.vel=t}get acc(){return this.motion.acc}set acc(t){this.motion.acc=t}get torque(){return this.motion.torque}set torque(t){this.motion.torque=t}get oldRotation(){return this.oldTransform.rotation}get rotation(){return this.transform.globalRotation}set rotation(t){this.transform.globalRotation=t}get scale(){return this.transform.globalScale}set scale(t){this.transform.globalScale=t}get oldScale(){return this.oldTransform.scale}get scaleFactor(){return this.motion.scaleFactor}set scaleFactor(t){this.motion.scaleFactor=t}get angularVelocity(){return this.motion.angularVelocity}set angularVelocity(t){this.motion.angularVelocity=t}applyImpulse(t,e){if(this.collisionType!==Ze.Active)return;const n=e.scale(this.inverseMass);if(this.limitDegreeOfFreedom.includes(Nn.X)&&(n.x=0),this.limitDegreeOfFreedom.includes(Nn.Y)&&(n.y=0),this.vel.addEqual(n),!this.limitDegreeOfFreedom.includes(Nn.Rotation)){const n=t.sub(this.globalPos);this.angularVelocity+=this.inverseInertia*n.cross(e)}}applyLinearImpulse(t){if(this.collisionType!==Ze.Active)return;const e=t.scale(this.inverseMass);this.limitDegreeOfFreedom.includes(Nn.X)&&(e.x=0),this.limitDegreeOfFreedom.includes(Nn.Y)&&(e.y=0),this.vel=this.vel.add(e)}applyAngularImpulse(t,e){if(this.collisionType===Ze.Active&&!this.limitDegreeOfFreedom.includes(Nn.Rotation)){const n=t.sub(this.globalPos);this.angularVelocity+=this.inverseInertia*n.cross(e)}}captureOldTransform(){this.__oldTransformCaptured=!0;const t=this.transform.get();t.clone(this.oldTransform),this.oldTransform.parent=t.parent,this.oldVel.setTo(this.vel.x,this.vel.y),this.oldAcc.setTo(this.acc.x,this.acc.y)}clone(){return super.clone()}}Un._ID=0,Un._DEFAULT_CONFIG={...Cn.bodies};class Hn{constructor(t){this.data=t,this.type="Component Added"}}function Wn(t){return!!t&&"Component Added"===t.type}class Vn{constructor(t){this.data=t,this.type="Component Removed"}}function Gn(t){return!!t&&"Component Removed"===t.type}const qn={Initialize:"initialize",PreUpdate:"preupdate",PostUpdate:"postupdate",Kill:"kill"};class Xn{constructor(t,e){let n,i;if(this.id=Xn._ID++,this.name="Entity#".concat(this.id),this.events=new h,this._tags=new Set,this.componentAdded$=new cn,this.componentRemoved$=new cn,this.tagAdded$=new cn,this.tagRemoved$=new cn,this.components=new Map,this._componentsToRemove=[],this._instanceOfComponentCacheDirty=!0,this._instanceOfComponentCache=new Map,this.scene=null,this.active=!0,this._parent=null,this.childrenAdded$=new cn,this.childrenRemoved$=new cn,this._children=[],this._isInitialized=!1,Array.isArray(t))n=t,i=e;else if(t&&"object"===typeof t){const{components:e,name:r}=t;n=e,i=r}if(i&&(this.name=i),n)for(const r of n)this.addComponent(r)}kill(){this.active&&(this.active=!1,this.unparent()),this.emit("kill",new Kt(this))}isKilled(){return!this.active}get tags(){return this._tags}hasTag(t){return this._tags.has(t)}addTag(t){return this._tags.add(t),this.tagAdded$.notifyAll(t),this}removeTag(t){return this._tags.delete(t),this.tagRemoved$.notifyAll(t),this}get types(){return Array.from(this.components.keys())}getComponents(){return Array.from(this.components.values())}hasAll(t){for(let e=0;e<t.length;e++)if(!this.components.has(t[e]))return!1;return!0}hasAllTags(t){for(let e=0;e<t.length;e++)if(!this.tags.has(t[e]))return!1;return!0}_getCachedInstanceOfType(t){if(this._instanceOfComponentCacheDirty&&(this._instanceOfComponentCacheDirty=!1,this._instanceOfComponentCache.clear()),this._instanceOfComponentCache.has(t))return this._instanceOfComponentCache.get(t);for(const e of this.components.values())if(e instanceof t)return this._instanceOfComponentCache.set(t,e),e}get(t){const e=this._getCachedInstanceOfType(t);return null!==e&&void 0!==e?e:this.components.get(t)}get parent(){return this._parent}get children(){return this._children}unparent(){this._parent&&(this._parent.removeChild(this),this._parent=null)}addChild(t){if(null!==t.parent)throw new Error("Entity already has a parent, cannot add without unparenting");if(this.getAncestors().includes(t))throw new Error("Cycle detected, cannot add entity");return this._children.push(t),t._parent=this,this.childrenAdded$.notifyAll(t),this}removeChild(t){return t.parent===this&&(j(t,this._children),t._parent=null,this.childrenRemoved$.notifyAll(t)),this}removeAllChildren(){for(let t=this.children.length-1;t>=0;t--)this.removeChild(this.children[t]);return this}getAncestors(){const t=[this];let e=this.parent;for(;e;)t.push(e),e=e.parent;return t.reverse()}getDescendants(){let t=[this],e=[this];for(;e.length>0;){const n=e.pop();n&&(e=e.concat(n.children),t=t.concat(n.children))}return t}clone(){const t=new Xn;for(const e of this.types){const n=this.get(e);n&&t.addComponent(n.clone())}for(const e of this.children)t.addChild(e.clone());return t}addTemplate(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const n of t.getComponents())this.addComponent(n.clone(),e);for(const n of t.children)this.addChild(n.clone().addTemplate(n));return this}addComponent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._instanceOfComponentCacheDirty=!0,this.has(t.constructor)){if(!e)return this;this.removeComponent(t.constructor,!0)}if(t.dependencies&&t.dependencies.length)for(const n of t.dependencies)this.addComponent(new n);return t.owner=this,this.components.set(t.constructor,t),t.onAdd&&t.onAdd(this),this.componentAdded$.notifyAll(t),this}removeComponent(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=an(t)?t:t.constructor,n){const t=this.components.get(e);t&&(this.componentRemoved$.notifyAll(t),t.owner=void 0,t.onRemove&&t.onRemove(this)),this.components.delete(e),this._instanceOfComponentCacheDirty=!0}else this._componentsToRemove.push(e);return this}clearComponents(){const t=this.types;for(const e of t)this.removeComponent(e)}processComponentRemoval(){for(const t of this._componentsToRemove)this.removeComponent(t,!0);this._componentsToRemove.length=0}has(t){return this.components.has(t)}get isInitialized(){return this._isInitialized}_initialize(t){this.isInitialized||(this.onInitialize(t),this.events.emit("initialize",new Se(t,this)),this._isInitialized=!0)}_preupdate(t,e){this.events.emit("preupdate",new oe(t,e,this)),this.onPreUpdate(t,e)}_postupdate(t,e){this.events.emit("postupdate",new ae(t,e,this)),this.onPostUpdate(t,e)}onInitialize(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}update(t,e){this._initialize(t),this._preupdate(t,e);for(const n of this.children)n.update(t,e);this._postupdate(t,e)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){e?this.events.off(t,e):this.events.off(t)}}var Qn,Kn;Xn._ID=0,function(t){t.Forward="forward",t.Backward="backward"}(Qn||(Qn={})),function(t){t.End="end",t.Loop="loop",t.PingPong="pingpong",t.Freeze="freeze"}(Kn||(Kn={}));const Yn={Frame:"frame",Loop:"loop",End:"end"};class Zn extends Y{constructor(t){var e,n,i;super(t),this.events=new h,this.frames=[],this.strategy=Kn.Loop,this.frameDuration=100,this._idempotencyToken=-1,this._firstTick=!0,this._currentFrame=0,this._timeLeftInFrame=0,this._pingPongDirection=1,this._done=!1,this._playing=!0,this._speed=1,this._reversed=!1,this.frames=t.frames,this.speed=null!==(e=t.speed)&&void 0!==e?e:this.speed,this.strategy=null!==(n=t.strategy)&&void 0!==n?n:this.strategy,this.frameDuration=t.totalDuration?t.totalDuration/this.frames.length:null!==(i=t.frameDuration)&&void 0!==i?i:this.frameDuration,t.reverse&&this.reverse(),this.goToFrame(0)}clone(){return new Zn({frames:this.frames.map((t=>({...t}))),frameDuration:this.frameDuration,speed:this.speed,reverse:this._reversed,strategy:this.strategy,...this.cloneGraphicOptions()})}get width(){const t=this.currentFrame;return t?Math.abs(t.graphic.width*this.scale.x):0}get height(){const t=this.currentFrame;return t?Math.abs(t.graphic.height*this.scale.y):0}static fromSpriteSheet(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kn.Loop;const r=t.sprites.length-1,s=e.filter((t=>t<0||t>r));return s.length&&Zn._LOGGER.warn("Indices into SpriteSheet were provided that don't exist: ".concat(s.join(",")," no frame will be shown")),new Zn({frames:t.sprites.filter(((t,n)=>e.indexOf(n)>-1)).map((t=>({graphic:t,duration:n}))),strategy:i})}static fromSpriteSheetCoordinates(t){const{spriteSheet:e,frameCoordinates:n,durationPerFrameMs:i,speed:r,strategy:s,reverse:o}=t,a=null!==i&&void 0!==i?i:100,l=[];for(const c of n){const{x:t,y:n,duration:i,options:r}=c,s=e.getSprite(t,n,r);s?l.push({graphic:s,duration:null!==i&&void 0!==i?i:a}):Zn._LOGGER.warn("Skipping frame! SpriteSheet does not have coordinate (".concat(t,", ").concat(n,"), please check your SpriteSheet to confirm that sprite exists"))}return new Zn({frames:l,strategy:s,speed:r,reverse:o})}get speed(){return this._speed}set speed(t){this._speed=m(Math.abs(t),0,1/0)}get currentFrame(){return this._currentFrame>=0&&this._currentFrame<this.frames.length?this.frames[this._currentFrame]:null}get currentFrameIndex(){return this._currentFrame}get currentFrameTimeLeft(){return this._timeLeftInFrame}get isPlaying(){return this._playing}reverse(){this.frames=this.frames.slice().reverse(),this._reversed=!this._reversed}get direction(){return!(!this._reversed||1!==this._pingPongDirection)?Qn.Backward:Qn.Forward}play(){this._playing=!0}pause(){this._playing=!1,this._firstTick=!0}reset(){this._done=!1,this._firstTick=!0,this._currentFrame=0,this._timeLeftInFrame=this.frameDuration;const t=this.frames[this._currentFrame];t&&(this._timeLeftInFrame=(null===t||void 0===t?void 0:t.duration)||this.frameDuration)}get canFinish(){switch(this.strategy){case Kn.End:case Kn.Freeze:return!0;default:return!1}}get done(){return this._done}goToFrame(t,e){this._currentFrame=t,this._timeLeftInFrame=null!==e&&void 0!==e?e:this.frameDuration;const n=this.frames[this._currentFrame];n&&!this._done&&(this._timeLeftInFrame=null!==e&&void 0!==e?e:(null===n||void 0===n?void 0:n.duration)||this.frameDuration,this.events.emit("frame",{...n,frameIndex:this.currentFrameIndex}))}_nextFrame(){const t=this._currentFrame;if(this._done)return t;let e=-1;switch(this.strategy){case Kn.Loop:e=(t+1)%this.frames.length,0===e&&this.events.emit("loop",this);break;case Kn.End:e=t+1,e>=this.frames.length&&(this._done=!0,this._currentFrame=this.frames.length,this.events.emit("end",this));break;case Kn.Freeze:e=m(t+1,0,this.frames.length-1),e>=this.frames.length-1&&(this._done=!0,this.events.emit("end",this));break;case Kn.PingPong:t+this._pingPongDirection>=this.frames.length&&(this._pingPongDirection=-1,this.events.emit("loop",this)),t+this._pingPongDirection<0&&(this._pingPongDirection=1,this.events.emit("loop",this)),e=t+this._pingPongDirection%this.frames.length}return e}tick(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._idempotencyToken!==e&&(this._idempotencyToken=e,this._playing&&(this._firstTick&&(this._firstTick=!1,this.events.emit("frame",{...this.currentFrame,frameIndex:this.currentFrameIndex})),this._timeLeftInFrame-=t*this._speed,this._timeLeftInFrame<=0&&this.goToFrame(this._nextFrame())))}_drawImage(t,e,n){this.currentFrame&&this.currentFrame.graphic.draw(t,e,n)}}Zn._LOGGER=R.getInstance();class Jn extends Y{constructor(t){var e;super(t),this._logger=R.getInstance(),this.useAnchor=!0,this.members=[],this.members=t.members,this.useAnchor=null!==(e=t.useAnchor)&&void 0!==e?e:this.useAnchor,this._updateDimensions()}clone(){return new Jn({members:[...this.members],...this.cloneGraphicOptions()})}_updateDimensions(){const t=this.localBounds;return this.width=t.width,this.height=t.height,t}get localBounds(){let t=new B;for(const e of this.members)if(e instanceof Y)t=e.localBounds.combine(t);else{const{graphic:n,offset:i,useBounds:r}=e;n?(void 0===r||r)&&(t=n.localBounds.translate(i).combine(t)):this._logger.warnOnce("Graphics group member has an null or undefined graphic, member definition: ".concat(JSON.stringify(e),"."))}return t}_isAnimationOrGroup(t){return t instanceof Zn||t instanceof Jn}tick(t,e){for(const n of this.members){let i;i=n instanceof Y?n:n.graphic,this._isAnimationOrGroup(i)&&i.tick(t,e)}}reset(){for(const t of this.members){let e;e=t instanceof Y?t:t.graphic,this._isAnimationOrGroup(e)&&e.reset()}}_preDraw(t,e,n){this._updateDimensions(),super._preDraw(t,this.useAnchor?e:0,this.useAnchor?n:0)}_drawImage(t,e,n){const i=A.Zero;for(const r of this.members){let s;r instanceof Y?s=r:(s=r.graphic,r.offset.clone(i)),s&&(t.save(),t.translate(e,n),s.draw(t,i.x,i.y),this.showDebug&&t.debug.drawRect(0,0,this.width,this.height),t.restore())}}}function $n(t){return!!t.tick}class ti extends ln{get offset(){return new sn(this._offset,(()=>{this.recalculateBounds()}))}set offset(t){this._offset=t,this.recalculateBounds()}get anchor(){return new sn(this._anchor,(()=>{this.recalculateBounds()}))}set anchor(t){this._anchor=t,this.recalculateBounds()}constructor(t){super(),this._logger=R.getInstance(),this._current="default",this._graphics={},this._options={},this.material=null,this.visible=!0,this.opacity=1,this._offset=A.Zero,this._anchor=A.Half,this.flipHorizontal=!1,this.flipVertical=!1,this.copyGraphics=!1,this._localBounds=null,t={visible:this.visible,graphics:{},...t};const{current:e,anchor:n,opacity:i,visible:r,graphics:s,offset:o,copyGraphics:a,onPreDraw:l,onPostDraw:c,onPreTransformDraw:h,onPostTransformDraw:d}=t;for(const[u,p]of Object.entries(s))p instanceof Y?this._graphics[u]=p:(this._graphics[u]=p.graphic,this._options[u]=p.options);this.offset=null!==o&&void 0!==o?o:this.offset,this.opacity=null!==i&&void 0!==i?i:this.opacity,this.anchor=null!==n&&void 0!==n?n:this.anchor,this.copyGraphics=null!==a&&void 0!==a?a:this.copyGraphics,this.onPreDraw=null!==l&&void 0!==l?l:this.onPreDraw,this.onPostDraw=null!==c&&void 0!==c?c:this.onPostDraw,this.onPreDraw=null!==h&&void 0!==h?h:this.onPreTransformDraw,this.onPostTransformDraw=null!==d&&void 0!==d?d:this.onPostTransformDraw,this.visible=!!r,this._current=null!==e&&void 0!==e?e:this._current,e&&this._graphics[e]&&this.use(e)}getGraphic(t){return this._graphics[t]}getOptions(t){return this._options[t]}getNames(){return Object.keys(this._graphics)}get current(){return this._graphics[this._current]}get currentOptions(){return this._options[this._current]}get graphics(){return this._graphics}get options(){return this._options}add(t,e,n){let i,r="default",s=null;return"string"===typeof t&&e instanceof Y&&(r=t,s=e,i=n),t instanceof Y&&!(e instanceof Y)&&(s=t,i=e),this._graphics[r]=this.copyGraphics?s.clone():s,this._options[r]=this.copyGraphics?{...i}:i,"default"===r&&this.use("default"),s}remove(t){delete this._graphics[t],delete this._options[t],this._current===t&&(this._current="default",this.recalculateBounds())}show(t,e){return this.use(t,e)}use(t,e){var n;if(t instanceof Y){let n=t;this.copyGraphics&&(n=t.clone()),this._current="default",this._graphics[this._current]=n,this._options[this._current]=e}else this._current=t,this._options[this._current]=e,this._current in this._graphics||this._logger.warn("Graphic ".concat(this._current," is not registered with the graphics component owned by ").concat(null===(n=this.owner)||void 0===n?void 0:n.name,". Nothing will be drawn."));return this.recalculateBounds(),this.current}hide(){this._current="ex.none"}set localBounds(t){this._localBounds=t}recalculateBounds(){let t=new B;const e=this._graphics[this._current],n=this._options[this._current];if(!e)return void(this._localBounds=t);let i=this.anchor,r=this.offset;(null===n||void 0===n?void 0:n.anchor)&&(i=n.anchor),(null===n||void 0===n?void 0:n.offset)&&(r=n.offset);const s=e.localBounds,o=-s.width*i.x+r.x,a=-s.height*i.y+r.y;t=e instanceof Jn&&!e.useAnchor?null===e||void 0===e?void 0:e.localBounds.combine(t):null===e||void 0===e?void 0:e.localBounds.translate(S(o,a)).combine(t),this._localBounds=t}get localBounds(){return this._localBounds&&!this._localBounds.hasZeroDimensions()||this.recalculateBounds(),this._localBounds}get bounds(){let t=this.localBounds;if(this.owner){const e=this.owner.get(hn);e&&(t=t.transform(e.get().matrix))}return t}update(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.current;n&&$n(n)&&n.tick(t,e)}clone(){const t=new ti;return t._graphics={...this._graphics},t._options={...this._options},t.offset=this.offset.clone(),t.opacity=this.opacity,t.anchor=this.anchor.clone(),t.copyGraphics=this.copyGraphics,t.onPreDraw=this.onPreDraw,t.onPostDraw=this.onPostDraw,t.visible=this.visible,t}}class ei extends Ht{constructor(t){super(t),this.width=t.width,this.height=t.height,this.rasterize()}clone(){return new ei({width:this.width,height:this.height,...this.cloneGraphicOptions(),...this.cloneRasterOptions()})}execute(t){this.color&&t.fillRect(0,0,this.width,this.height),this.strokeColor&&t.strokeRect(0,0,this.width,this.height)}}class ni extends Ht{get radius(){return this._radius}set radius(t){this._radius=t,this.width=2*this._radius,this.height=2*this._radius,this.flagDirty()}constructor(t){var e,n,i;super(t),this._radius=0;const r=null!==(e=t.lineWidth)&&void 0!==e?e:t.strokeColor?1:0;this.padding=null!==(n=t.padding)&&void 0!==n?n:2+r/2,this.radius=t.radius,this.filtering=null!==(i=t.filtering)&&void 0!==i?i:J.Blended,this.rasterize()}clone(){return new ni({radius:this.radius,...this.cloneGraphicOptions(),...this.cloneRasterOptions()})}execute(t){this.radius>0&&(t.beginPath(),t.arc(this.radius,this.radius,this.radius,0,2*Math.PI),this.color&&t.fill(),this.strokeColor&&t.stroke())}}class ii extends ln{constructor(t){var e,n;super(),this.useColliderShape=!0,this.useGraphicsBounds=!0,this.useColliderShape=null!==(e=null===t||void 0===t?void 0:t.useColliderShape)&&void 0!==e?e:this.useColliderShape,this.useGraphicsBounds=null!==(n=null===t||void 0===t?void 0:t.useGraphicsBounds)&&void 0!==n?n:this.useGraphicsBounds,this.localBounds=null===t||void 0===t?void 0:t.localBounds}}class ri{static CreateReversibleEasingFunction(t){return(e,n,i,r)=>i<n?n-(t(e,i,n,r)-i):t(e,n,i,r)}static CreateVectorEasingFunction(t){return(e,n,i,r)=>new A(t(e,n.x,i.x,r),t(e,n.y,i.y,r))}}ri.Linear=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(n-=e)*t/i+e)),ri.EaseInQuad=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(n-=e)*(t/=i)*t+e)),ri.EaseOutQuad=ri.CreateReversibleEasingFunction(((t,e,n,i)=>-(n-=e)*(t/=i)*(t-2)+e)),ri.EaseInOutQuad=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(n-=e,(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e))),ri.EaseInCubic=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(n-=e)*(t/=i)*t*t+e)),ri.EaseOutCubic=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(t/=i,(n-=e)*(--t*t*t+1)+e))),ri.EaseInOutCubic=ri.CreateReversibleEasingFunction(((t,e,n,i)=>(n-=e,(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e)));class si{constructor(t){this._actions=[],this._currentAction=null,this._completedActions=[],this._entity=t}add(t){this._actions.push(t)}remove(t){const e=this._actions.indexOf(t);this._actions.splice(e,1)}clearActions(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()}getActions(){return this._actions.concat(this._completedActions)}hasNext(){return this._actions.length>0}isComplete(){return 0===this._actions.length}reset(){this._actions=this.getActions();const t=this._actions.length;for(let e=0;e<t;e++)this._actions[e].reset();this._completedActions=[]}update(t){if(this._actions.length>0&&(this._currentAction!==this._actions[0]&&(this._currentAction=this._actions[0],this._entity.emit("actionstart",new Ie(this._currentAction,this._entity))),this._currentAction.update(t),this._currentAction.isComplete(this._entity))){this._entity.emit("actioncomplete",new Me(this._currentAction,this._entity));const t=this._actions.shift();t&&this._completedActions.push(t)}}}class oi{constructor(t,e,n){this._stopped=!1,this._repeatBuilder=e,this._repeatContext=new Pi(t),this._actionQueue=this._repeatContext.getQueue(),this._repeat=n,this._originalRepeat=n,this._repeatBuilder(this._repeatContext),this._repeat--}update(t){this._actionQueue.isComplete()&&(this._actionQueue.clearActions(),this._repeatBuilder(this._repeatContext),this._repeat--),this._actionQueue.update(t)}isComplete(){return this._stopped||this._repeat<=0&&this._actionQueue.isComplete()}stop(){this._stopped=!0}reset(){this._repeat=this._originalRepeat}}class ai{constructor(t,e){this._stopped=!1,this._repeatBuilder=e,this._repeatContext=new Pi(t),this._actionQueue=this._repeatContext.getQueue(),this._repeatBuilder(this._repeatContext)}update(t){this._stopped||(this._actionQueue.isComplete()&&(this._actionQueue.clearActions(),this._repeatBuilder(this._repeatContext)),this._actionQueue.update(t))}isComplete(){return this._stopped}stop(){this._stopped=!0,this._actionQueue.clearActions()}reset(){}}class li{constructor(t,e,n,i){if(this._started=!1,this._stopped=!1,this._entity=t,this._tx=t.get(hn),this._motion=t.get(dn),this._speed=i,this._offset=new A(e,n),i<=0)throw R.getInstance().error("Attempted to moveBy with speed less than or equal to zero : "+i),new Error("Speed must be greater than 0 pixels per second")}update(t){this._started||(this._started=!0,this._start=new A(this._tx.pos.x,this._tx.pos.y),this._end=this._start.add(this._offset),this._distance=this._offset.size,this._dir=this._end.sub(this._start).normalize()),this.isComplete(this._entity)?(this._tx.pos=S(this._end.x,this._end.y),this._motion.vel=S(0,0)):this._motion.vel=this._dir.scale(this._speed)}isComplete(t){const e=t.get(hn);return this._stopped||e.pos.distance(this._start)>=this._distance}stop(){this._motion.vel=S(0,0),this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}class ci{constructor(t,e,n,i){this.entity=t,this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._end=new A(e,n),this._speed=i}update(t){this._started||(this._started=!0,this._start=new A(this._tx.pos.x,this._tx.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());const e=this._dir.scale(this._speed);this._motion.vel=S(e.x,e.y),this.isComplete(this.entity)&&(this._tx.pos=S(this._end.x,this._end.y),this._motion.vel=S(0,0))}isComplete(t){const e=t.get(hn);return this._stopped||new A(e.pos.x,e.pos.y).distance(this._start)>=this._distance}stop(){this._motion.vel=S(0,0),this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}var hi,di,ui,pi,fi,gi;!function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(hi||(hi={}));class mi{constructor(t,e,n,i){this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._end=e,this._speed=n,this._rotationType=i||hi.ShortestPath}update(t){if(!this._started){this._started=!0,this._start=this._tx.rotation,this._currentNonCannonAngle=this._tx.rotation;const t=Math.abs(this._end-this._start),e=p-t;switch(t>e?(this._shortDistance=e,this._longDistance=t):(this._shortDistance=t,this._longDistance=e),this._shortestPathIsPositive=(this._start-this._end+p)%p>=Math.PI,this._rotationType){case hi.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case hi.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case hi.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case hi.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._motion.angularVelocity=this._direction*this._speed,this._currentNonCannonAngle+=this._direction*this._speed*(t/1e3),this.isComplete()&&(this._tx.rotation=this._end,this._motion.angularVelocity=0,this._stopped=!0)}isComplete(){const t=Math.abs(this._currentNonCannonAngle-this._start);return this._stopped||t>=Math.abs(this._distance)}stop(){this._motion.angularVelocity=0,this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}class vi{constructor(t,e,n,i){this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._speed=n,this._offset=e,this._rotationType=i||hi.ShortestPath}update(t){if(!this._started){this._started=!0,this._start=this._tx.rotation,this._currentNonCannonAngle=this._tx.rotation,this._end=this._start+this._offset;const t=Math.abs(this._end-this._start),e=p-t;switch(t>e?(this._shortDistance=e,this._longDistance=t):(this._shortDistance=t,this._longDistance=e),this._shortestPathIsPositive=(this._start-this._end+p)%p>=Math.PI,this._rotationType){case hi.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case hi.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case hi.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case hi.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}}this._motion.angularVelocity=this._direction*this._speed,this._currentNonCannonAngle+=this._direction*this._speed*(t/1e3),this.isComplete()&&(this._tx.rotation=this._end,this._motion.angularVelocity=0,this._stopped=!0)}isComplete(){const t=Math.abs(this._currentNonCannonAngle-this._start);return this._stopped||t>=Math.abs(this._distance)}stop(){this._motion.angularVelocity=0,this._stopped=!0}reset(){this._started=!1,this._stopped=!1,this._start=void 0,this._currentNonCannonAngle=void 0,this._distance=void 0}}class yi{constructor(t,e,n,i,r){this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._endX=e,this._endY=n,this._speedX=i,this._speedY=r}update(t){if(this._started||(this._started=!0,this._startX=this._tx.scale.x,this._startY=this._tx.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._tx.scale.x-this._startX)>=this._distanceX)this._motion.scaleFactor.x=0;else{const t=this._endY<this._startY?-1:1;this._motion.scaleFactor.x=this._speedX*t}if(Math.abs(this._tx.scale.y-this._startY)>=this._distanceY)this._motion.scaleFactor.y=0;else{const t=this._endY<this._startY?-1:1;this._motion.scaleFactor.y=this._speedY*t}this.isComplete()&&(this._tx.scale=S(this._endX,this._endY),this._motion.scaleFactor.x=0,this._motion.scaleFactor.y=0)}isComplete(){return this._stopped||Math.abs(this._tx.scale.x-this._startX)>=this._distanceX-.01&&Math.abs(this._tx.scale.y-this._startY)>=this._distanceY-.01}stop(){this._motion.scaleFactor.x=0,this._motion.scaleFactor.y=0,this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}class xi{constructor(t,e,n,i){this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._offset=new A(e,n),this._speedX=this._speedY=i}update(t){this._started||(this._started=!0,this._startScale=this._tx.scale.clone(),this._endScale=this._startScale.add(this._offset),this._distanceX=Math.abs(this._endScale.x-this._startScale.x),this._distanceY=Math.abs(this._endScale.y-this._startScale.y),this._directionX=this._endScale.x<this._startScale.x?-1:1,this._directionY=this._endScale.y<this._startScale.y?-1:1),this._motion.scaleFactor.x=this._speedX*this._directionX,this._motion.scaleFactor.y=this._speedY*this._directionY,this.isComplete()&&(this._tx.scale=this._endScale,this._motion.scaleFactor.x=0,this._motion.scaleFactor.y=0)}isComplete(){return this._stopped||Math.abs(this._tx.scale.x-this._startScale.x)>=this._distanceX-.01&&Math.abs(this._tx.scale.y-this._startScale.y)>=this._distanceY-.01}stop(){this._motion.scaleFactor.x=0,this._motion.scaleFactor.y=0,this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}class _i{constructor(t){this._method=null,this._hasBeenCalled=!1,this._method=t}update(t){this._method(),this._hasBeenCalled=!0}isComplete(){return this._hasBeenCalled}reset(){this._hasBeenCalled=!1}stop(){this._hasBeenCalled=!0}}class bi{constructor(t,e,n,i,r){this.easingFcn=r,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new A(0,0),this._lerpEnd=new A(0,0),this._initialized=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._lerpDuration=i,this._lerpEnd=new A(e,n)}_initialize(){this._lerpStart=new A(this._tx.pos.x,this._tx.pos.y),this._currentLerpTime=0}update(t){this._initialized||(this._initialize(),this._initialized=!0),this._currentLerpTime+=t;let e=this._tx.pos.x,n=this._tx.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),n=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this._motion.vel=S((e-this._tx.pos.x)/(t/1e3),(n-this._tx.pos.y)/(t/1e3))):(this._tx.pos=S(this._lerpEnd.x,this._lerpEnd.y),this._motion.vel=A.Zero)}isComplete(){return this._stopped||this._currentLerpTime>=this._lerpDuration}reset(){this._initialized=!1,this._stopped=!1,this._currentLerpTime=0}stop(){this._motion.vel=S(0,0),this._stopped=!0}}class wi{constructor(t,e,n,i,r){this.easingFcn=r,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new A(0,0),this._lerpEnd=new A(0,0),this._initialized=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._lerpDuration=i,this._offset=new A(e,n)}_initialize(){this._lerpStart=new A(this._tx.pos.x,this._tx.pos.y),this._currentLerpTime=0,this._lerpEnd=this._lerpStart.add(this._offset)}update(t){this._initialized||(this._initialize(),this._initialized=!0),this._currentLerpTime+=t;let e=this._tx.pos.x,n=this._tx.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),n=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this._motion.vel=S((e-this._tx.pos.x)/(t/1e3),(n-this._tx.pos.y)/(t/1e3))):(this._tx.pos=S(this._lerpEnd.x,this._lerpEnd.y),this._motion.vel=A.Zero)}isComplete(){return this._stopped||this._currentLerpTime>=this._lerpDuration}reset(){this._initialized=!1,this._stopped=!1,this._currentLerpTime=0}stop(){this._motion.vel=S(0,0),this._stopped=!0}}class Ai{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._graphics=t.get(ti),this._timeVisible=e,this._timeNotVisible=n,this._duration=(e+n)*i}update(t){this._started||(this._started=!0,this._elapsedTime=0,this._totalTime=0),this._graphics&&(this._elapsedTime+=t,this._totalTime+=t,this._graphics.visible&&this._elapsedTime>=this._timeVisible&&(this._graphics.visible=!1,this._elapsedTime=0),!this._graphics.visible&&this._elapsedTime>=this._timeNotVisible&&(this._graphics.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._graphics.visible=!0))}isComplete(){return this._stopped||this._totalTime>=this._duration}stop(){this._graphics&&(this._graphics.visible=!0),this._stopped=!0}reset(){this._started=!1,this._stopped=!1,this._elapsedTime=0,this._totalTime=0}}class Si{constructor(t,e,n){this._multiplier=1,this._started=!1,this._stopped=!1,this._graphics=t.get(ti),this._endOpacity=e,this._speed=this._ogspeed=n}update(t){this._graphics&&(this._started||(this._started=!0,this._speed=this._ogspeed,this._endOpacity<this._graphics.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._graphics.opacity+=this._multiplier*(Math.abs(this._graphics.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._graphics.opacity=this._endOpacity),R.getInstance().debug("[Action fade] Actor opacity:",this._graphics.opacity))}isComplete(){return this._stopped||Math.abs(this._graphics.opacity-this._endOpacity)<.05}stop(){this._stopped=!0}reset(){this._started=!1,this._stopped=!1}}class Ci{constructor(t){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._delay=t}update(t){this._started||(this._started=!0),this._elapsedTime+=t}isComplete(){return this._stopped||this._elapsedTime>=this._delay}stop(){this._stopped=!0}reset(){this._elapsedTime=0,this._started=!1,this._stopped=!1}}class Ei{constructor(t){this._stopped=!1,this._entity=t}update(t){this._entity.get(Ri).clearActions(),this._entity.kill(),this._stopped=!0}isComplete(){return this._stopped}stop(){}reset(){}}class ki{constructor(t,e,n){this._started=!1,this._stopped=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._followTx=e.get(hn),this._followMotion=e.get(dn),this._current=new A(this._tx.pos.x,this._tx.pos.y),this._end=new A(this._followTx.pos.x,this._followTx.pos.y),this._maximumDistance=void 0!==n?n:this._current.distance(this._end),this._speed=0}update(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());const e=Math.sqrt(Math.pow(this._followMotion.vel.x,2)+Math.pow(this._followMotion.vel.y,2));if(0!==e&&(this._speed=e),this._current=S(this._tx.pos.x,this._tx.pos.y),this._end=S(this._followTx.pos.x,this._followTx.pos.y),this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){const t=this._dir.scale(this._speed);this._motion.vel=S(t.x,t.y)}else this._motion.vel=S(0,0);this.isComplete()&&(this._tx.pos=S(this._end.x,this._end.y),this._motion.vel=S(0,0))}stop(){this._motion.vel=S(0,0),this._stopped=!0}isComplete(){return this._stopped}reset(){this._started=!1,this._stopped=!1}}class Ti{constructor(t,e,n){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._tx=t.get(hn),this._motion=t.get(dn),this._meetTx=e.get(hn),this._meetMotion=e.get(dn),this._current=new A(this._tx.pos.x,this._tx.pos.y),this._end=new A(this._meetTx.pos.x,this._meetTx.pos.y),this._speed=n||0,void 0!==n&&(this._speedWasSpecified=!0)}update(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());const e=Math.sqrt(Math.pow(this._meetMotion.vel.x,2)+Math.pow(this._meetMotion.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current=S(this._tx.pos.x,this._tx.pos.y),this._end=S(this._meetTx.pos.x,this._meetTx.pos.y),this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();const n=this._dir.scale(this._speed);this._motion.vel=S(n.x,n.y),this.isComplete()&&(this._tx.pos=S(this._end.x,this._end.y),this._motion.vel=S(0,0))}isComplete(){return this._stopped||this._distanceBetween<=1}stop(){this._motion.vel=S(0,0),this._stopped=!0}reset(){this._started=!1,this._stopped=!1,this._distanceBetween=void 0}}class Pi{constructor(t){this._entity=t,this._queue=new si(t)}getQueue(){return this._queue}update(t){this._queue.update(t)}clearActions(){this._queue.clearActions()}runAction(t){return t.reset(),this._queue.add(t),this}easeTo(){var t,e;let n=0,i=0,r=0,s=ri.Linear;for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return a[0]instanceof A?(n=a[0].x,i=a[0].y,r=a[1],s=null!==(t=a[2])&&void 0!==t?t:s):(n=a[0],i=a[1],r=a[2],s=null!==(e=a[3])&&void 0!==e?e:s),this._queue.add(new bi(this._entity,n,i,r,s)),this}easeBy(){var t,e;let n=0,i=0,r=0,s=ri.Linear;for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return a[0]instanceof A?(n=a[0].x,i=a[0].y,r=a[1],s=null!==(t=a[2])&&void 0!==t?t:s):(n=a[0],i=a[1],r=a[2],s=null!==(e=a[3])&&void 0!==e?e:s),this._queue.add(new wi(this._entity,n,i,r,s)),this}moveTo(t,e,n){let i=0,r=0,s=0;return t instanceof A?(i=t.x,r=t.y,s=e):(i=t,r=e,s=n),this._queue.add(new ci(this._entity,i,r,s)),this}moveBy(t,e,n){let i=0,r=0,s=0;return t instanceof A?(i=t.x,r=t.y,s=e):(i=t,r=e,s=n),this._queue.add(new li(this._entity,i,r,s)),this}rotateTo(t,e,n){return this._queue.add(new mi(this._entity,t,e,n)),this}rotateBy(t,e,n){return this._queue.add(new vi(this._entity,t,e,n)),this}scaleTo(t,e,n,i){let r=1,s=1,o=0,a=0;return t instanceof A&&e instanceof A&&(r=t.x,s=t.y,o=e.x,a=e.y),"number"===typeof t&&"number"===typeof e&&(r=t,s=e,o=n,a=i),this._queue.add(new yi(this._entity,r,s,o,a)),this}scaleBy(t,e,n){let i=1,r=1;return t instanceof A&&(i=t.x,r=t.y,n=e),"number"===typeof t&&"number"===typeof e&&(i=t,r=e),this._queue.add(new xi(this._entity,i,r,n)),this}blink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._queue.add(new Ai(this._entity,t,e,n)),this}fade(t,e){return this._queue.add(new Si(this._entity,t,e)),this}delay(t){return this._queue.add(new Ci(t)),this}die(){return this._queue.add(new Ei(this._entity)),this}callMethod(t){return this._queue.add(new _i(t)),this}repeat(t,e){return e?(this._queue.add(new oi(this._entity,t,e)),this):(this.repeatForever(t),this)}repeatForever(t){return this._queue.add(new ai(this._entity,t)),this}follow(t,e){return void 0===e?this._queue.add(new ki(this._entity,t)):this._queue.add(new ki(this._entity,t,e)),this}meet(t,e){return void 0===e?this._queue.add(new Ti(this._entity,t)):this._queue.add(new Ti(this._entity,t,e)),this}toPromise(){return new Promise((t=>{this._queue.add(new _i((()=>{t()})))}))}}class Ri extends ln{constructor(){super(...arguments),this.dependencies=[hn,dn],this._ctx=null}onAdd(t){this._ctx=new Pi(t)}onRemove(){this._ctx=null}_getCtx(){if(!this._ctx)throw new Error("Actions component not attached to an entity, no context available");return this._ctx}getQueue(){if(!this._ctx)throw new Error("Actions component not attached to an entity, no queue available");return this._ctx.getQueue()}runAction(t){if(!this._ctx)throw new Error("Actions component not attached to an entity, cannot run action");return this._ctx.runAction(t)}update(t){var e;return null===(e=this._ctx)||void 0===e?void 0:e.update(t)}clearActions(){var t;null===(t=this._ctx)||void 0===t||t.clearActions()}easeTo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._getCtx().easeTo.apply(this._ctx,e)}easeBy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._getCtx().easeBy.apply(this._ctx,e)}moveTo(t,e,n){return this._getCtx().moveTo.apply(this._ctx,[t,e,n])}moveBy(t,e,n){return this._getCtx().moveBy.apply(this._ctx,[t,e,n])}rotateTo(t,e,n){return this._getCtx().rotateTo(t,e,n)}rotateBy(t,e,n){return this._getCtx().rotateBy(t,e,n)}scaleTo(t,e,n,i){return this._getCtx().scaleTo.apply(this._ctx,[t,e,n,i])}scaleBy(t,e,n){return this._getCtx().scaleBy.apply(this._ctx,[t,e,n])}blink(t,e,n){return this._getCtx().blink(t,e,n)}fade(t,e){return this._getCtx().fade(t,e)}delay(t){return this._getCtx().delay(t)}die(){return this._getCtx().die()}callMethod(t){return this._getCtx().callMethod(t)}repeat(t,e){return this._getCtx().repeat(t,e)}repeatForever(t){return this._getCtx().repeatForever(t)}follow(t,e){return this._getCtx().follow(t,e)}meet(t,e){return this._getCtx().meet(t,e)}toPromise(){return this._getCtx().toPromise()}}!function(t){t.Em="em",t.Rem="rem",t.Px="px",t.Pt="pt",t.Percent="%"}(di||(di={})),function(t){t.Left="left",t.Right="right",t.Center="center",t.Start="start",t.End="end"}(ui||(ui={})),function(t){t.Top="top",t.Hanging="hanging",t.Middle="middle",t.Alphabetic="alphabetic",t.Ideographic="ideographic",t.Bottom="bottom"}(pi||(pi={})),function(t){t.Normal="normal",t.Italic="italic",t.Oblique="oblique"}(fi||(fi={})),function(t){t.LeftToRight="ltr",t.RightToLeft="rtl"}(gi||(gi={}));class Ii{constructor(t,e,n,i){this.font=t,this.text=e,this.color=n,this.maxWidth=i,this._textFragments=[],this.disposed=!1,this._dirty=!0,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.dimensions=this.measureText(e),this._setDimension(this.dimensions,this.ctx),this._lastHashCode=this.getHashCode()}measureText(t,e){if(this.disposed)throw Error("Accessing disposed text instance! "+this.text);let n=null;n=null!=e?this._getLinesFromText(t,e):t.split("\n");const i=n.reduce(((t,e)=>t.length>e.length?t:e));this._applyFont(this.ctx);const r=this.ctx.measureText(i);let s=Math.abs(r.actualBoundingBoxAscent)+Math.abs(r.actualBoundingBoxDescent);const o=s*n.length;s=o;const a=o-Math.abs(r.actualBoundingBoxAscent);return new B({left:0-Math.abs(r.actualBoundingBoxLeft)-this.font.padding,top:0-Math.abs(r.actualBoundingBoxAscent)-this.font.padding,bottom:0+a+this.font.padding,right:0+Math.abs(r.actualBoundingBoxRight)+this.font.padding})}_setDimension(t,e){let n=1;this.font.lineHeight&&(n=this.font.lineHeight/this.font.size),e.canvas.width=2*(t.width+2*this.font.padding)*this.font.quality,e.canvas.height=2*(t.height+2*this.font.padding)*this.font.quality*n}static getHashCode(t,e,n){var i;return e+"__hashcode__"+t.fontString+t.showDebug+t.textAlign+t.baseAlign+t.direction+t.lineHeight+JSON.stringify(t.shadow)+(t.padding.toString()+t.smoothing.toString()+t.lineWidth.toString()+t.lineDash.toString()+(null===(i=t.strokeColor)||void 0===i?void 0:i.toString())+(n?n.toString():t.color.toString()))}getHashCode(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ii.getHashCode(this.font,this.text,t?this.color:void 0)}_applyRasterProperties(t){var e,n;t.translate(this.font.padding,this.font.padding),t.imageSmoothingEnabled=this.font.smoothing,t.lineWidth=this.font.lineWidth,t.setLineDash(null!==(e=this.font.lineDash)&&void 0!==e?e:t.getLineDash()),t.strokeStyle=null===(n=this.font.strokeColor)||void 0===n?void 0:n.toString(),t.fillStyle=this.color.toString()}_applyFont(t){t.resetTransform(),t.translate(this.font.padding+t.canvas.width/2,this.font.padding+t.canvas.height/2),t.scale(this.font.quality,this.font.quality),t.textAlign=this.font.textAlign,t.textBaseline=this.font.baseAlign,t.font=this.font.fontString,t.direction=this.font.direction,this.font.shadow&&(t.shadowColor=this.font.shadow.color.toString(),t.shadowBlur=this.font.shadow.blur,t.shadowOffsetX=this.font.shadow.offset.x,t.shadowOffsetY=this.font.shadow.offset.y)}_drawText(t,e,n){this._applyRasterProperties(t),this._applyFont(t);for(let i=0;i<e.length;i++){const r=e[i];this.color&&t.fillText(r,0,i*n),this.font.strokeColor&&t.strokeText(r,0,i*n)}this.font.showDebug&&(He(t,C.Green,-t.canvas.width/2,0,t.canvas.width/2,0,2),He(t,C.Red,0,-t.canvas.height/2,0,t.canvas.height/2,2))}_splitTextBitmap(t){const e=[];let n=0,i=0;const r=Math.min(4096,t.canvas.width),s=Math.min(4096,t.canvas.height);for(;n<t.canvas.width;){for(;i<t.canvas.height;){const o=document.createElement("canvas");o.width=r,o.height=s;o.getContext("2d").drawImage(t.canvas,n,i,r,s,0,0,r,s),e.push({x:n,y:i,canvas:o}),i+=s}n+=r,i=0}return e}flagDirty(){this._dirty=!0}render(t,e,n,i){var r;if(this.disposed)throw Error("Accessing disposed text instance! "+this.text);this._ex=t;const s=this.getHashCode();if(this._lastHashCode!==s&&(this._dirty=!0),this._dirty){this.dimensions=this.measureText(this.text,i),this._setDimension(this.dimensions,this.ctx);const e=this._getLinesFromText(this.text,i),n=null!==(r=this.font.lineHeight)&&void 0!==r?r:this.dimensions.height/e.length;if(this._drawText(this.ctx,e,n),t instanceof Mt)for(const i of this._textFragments)t.textureLoader.delete(i.canvas);if(this._textFragments=this._splitTextBitmap(this.ctx),t instanceof Mt)for(const i of this._textFragments)t.textureLoader.load(i.canvas,{filtering:this.font.filtering},!0);this._lastHashCode=s,this._dirty=!1}for(const o of this._textFragments)t.drawImage(o.canvas,0,0,o.canvas.width,o.canvas.height,o.x/this.font.quality+e-this.ctx.canvas.width/this.font.quality/2,o.y/this.font.quality+n-this.ctx.canvas.height/this.font.quality/2,o.canvas.width/this.font.quality,o.canvas.height/this.font.quality)}dispose(){if(this.disposed=!0,this.dimensions=void 0,this.canvas=void 0,this.ctx=void 0,this._ex instanceof Mt)for(const t of this._textFragments)this._ex.textureLoader.delete(t.canvas);this._textFragments.length=0}_getLinesFromText(t,e){if(this._cachedText===t&&this._cachedRenderWidth===e)return this._cachedLines;const n=t.split("\n");if(null==e)return n;for(let i=0;i<n.length;i++){let t=n[i],r="";if(this.measureText(t).width>e){for(;this.measureText(t).width>e;)r=t[t.length-1]+r,t=t.slice(0,-1);n[i]=t,n[i+1]=r}}return this._cachedText=t,this._cachedLines=n,this._cachedRenderWidth=e,n}}class Mi{static measureText(t,e,n){const i=Ii.getHashCode(e,t);if(Mi._MEASURE_CACHE.has(i))return Mi._MEASURE_CACHE.get(i);Mi._LOGGER.debug("Font text measurement cache miss");const r=e.measureTextWithoutCache(t,n);return Mi._MEASURE_CACHE.set(i,r),r}static getTextInstance(t,e,n){const i=Ii.getHashCode(e,t,n);let r=Mi._TEXT_CACHE.get(i);return r||(r=new Ii(e,t,n),Mi._TEXT_CACHE.set(i,r),Mi._LOGGER.debug("Font text instance cache miss")),Mi._TEXT_USAGE.set(r,performance.now()),r}static checkAndClearCache(){const t=[],e=new Set;for(const[i,r]of Mi._TEXT_USAGE.entries())if(r+Mi.FONT_TIMEOUT<performance.now())Mi._LOGGER.debug("Text cache entry timed out ".concat(i.text)),t.push(i),i.dispose();else{const t=i.getHashCode(!1);e.add(t)}t.forEach((t=>{Mi._TEXT_USAGE.delete(t)})),this._TEXT_CACHE.clear();for(const[i]of this._TEXT_USAGE.entries())this._TEXT_CACHE.set(i.getHashCode(),i);const n=new Map;for(const i of e)Mi._MEASURE_CACHE.has(i)&&n.set(i,Mi._MEASURE_CACHE.get(i));this._MEASURE_CACHE.clear(),this._MEASURE_CACHE=n}static get cacheSize(){return Mi._TEXT_USAGE.size}static clearCache(){for(const[t]of Mi._TEXT_USAGE.entries())t.dispose();Mi._TEXT_USAGE.clear(),Mi._TEXT_CACHE.clear(),Mi._MEASURE_CACHE.clear()}}Mi.FONT_TIMEOUT=500,Mi._LOGGER=R.getInstance(),Mi._TEXT_USAGE=new Map,Mi._TEXT_CACHE=new Map,Mi._MEASURE_CACHE=new Map;class Bi extends Y{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e,n,i,r,s,o,a,l,c,h,d,u,p,f,g,m,v,y,x,_;super(t),this.filtering=J.Blended,this.quality=2,this.padding=2,this.smoothing=!1,this.lineWidth=1,this.lineDash=[],this.color=C.Black,this.family="sans-serif",this.style=fi.Normal,this.bold=!1,this.unit=di.Px,this.textAlign=ui.Left,this.baseAlign=pi.Top,this.direction=gi.LeftToRight,this.lineHeight=void 0,this.size=10,this.shadow=null,this._textBounds=new B,this._textMeasurement=new Ii(this,"",C.Black),this.smoothing=null!==(e=null===t||void 0===t?void 0:t.smoothing)&&void 0!==e?e:this.smoothing,this.padding=null!==(n=null===t||void 0===t?void 0:t.padding)&&void 0!==n?n:this.padding,this.color=null!==(i=null===t||void 0===t?void 0:t.color)&&void 0!==i?i:this.color,this.strokeColor=null!==(r=null===t||void 0===t?void 0:t.strokeColor)&&void 0!==r?r:this.strokeColor,this.lineDash=null!==(s=null===t||void 0===t?void 0:t.lineDash)&&void 0!==s?s:this.lineDash,this.lineWidth=null!==(o=null===t||void 0===t?void 0:t.lineWidth)&&void 0!==o?o:this.lineWidth,this.filtering=null!==(a=null===t||void 0===t?void 0:t.filtering)&&void 0!==a?a:this.filtering,this.family=null!==(l=null===t||void 0===t?void 0:t.family)&&void 0!==l?l:this.family,this.style=null!==(c=null===t||void 0===t?void 0:t.style)&&void 0!==c?c:this.style,this.bold=null!==(h=null===t||void 0===t?void 0:t.bold)&&void 0!==h?h:this.bold,this.size=null!==(d=null===t||void 0===t?void 0:t.size)&&void 0!==d?d:this.size,this.unit=null!==(u=null===t||void 0===t?void 0:t.unit)&&void 0!==u?u:this.unit,this.textAlign=null!==(p=null===t||void 0===t?void 0:t.textAlign)&&void 0!==p?p:this.textAlign,this.baseAlign=null!==(f=null===t||void 0===t?void 0:t.baseAlign)&&void 0!==f?f:this.baseAlign,this.direction=null!==(g=null===t||void 0===t?void 0:t.direction)&&void 0!==g?g:this.direction,this.lineHeight=null!==(m=null===t||void 0===t?void 0:t.lineHeight)&&void 0!==m?m:this.lineHeight,this.quality=null!==(v=null===t||void 0===t?void 0:t.quality)&&void 0!==v?v:this.quality,(null===t||void 0===t?void 0:t.shadow)&&(this.shadow={},this.shadow.blur=null!==(y=t.shadow.blur)&&void 0!==y?y:this.shadow.blur,this.shadow.offset=null!==(x=t.shadow.offset)&&void 0!==x?x:this.shadow.offset,this.shadow.color=null!==(_=t.shadow.color)&&void 0!==_?_:this.shadow.color)}clone(){return new Bi({...this.cloneGraphicOptions(),size:this.size,unit:this.unit,family:this.family,style:this.style,bold:this.bold,textAlign:this.textAlign,baseAlign:this.baseAlign,direction:this.direction,shadow:this.shadow?{blur:this.shadow.blur,offset:this.shadow.offset,color:this.shadow.color}:null})}get fontString(){return"".concat(this.style," ").concat(this.bold?"bold":""," ").concat(this.size).concat(this.unit," ").concat(this.family)}get localBounds(){return this._textBounds}_drawImage(t,e,n){}_rotate(t){var e;const n=null!==(e=this.origin)&&void 0!==e?e:this._textBounds.center;t.translate(n.x,n.y),t.rotate(this.rotation),t.translate(-n.x,-n.y)}_flip(t){this.flipHorizontal&&(t.translate(this._textBounds.width/this.scale.x,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,-this._textBounds.height/2/this.scale.y),t.scale(1,-1))}measureTextWithoutCache(t,e){return this._textMeasurement.measureText(t,e)}measureText(t,e){return Mi.measureText(t,this,e)}_postDraw(t){t.restore()}render(t,e,n,i,r,s){const o=Mi.getTextInstance(e,this,n);this._textBounds=o.dimensions,this._preDraw(t,i,r),o.render(t,i,r,s),this._postDraw(t)}}class Fi extends Y{constructor(t){var e,n;super(t),this._text="",this._textWidth=0,this._textHeight=0,this.font=null!==(e=t.font)&&void 0!==e?e:new Bi,this.color=null!==(n=t.color)&&void 0!==n?n:this.color,this.text=t.text,this.maxWidth=t.maxWidth}clone(){var t,e;return new Fi({text:this.text.slice(),color:null!==(e=null===(t=this.color)||void 0===t?void 0:t.clone())&&void 0!==e?e:C.Black,font:this.font.clone(),maxWidth:this.maxWidth})}get text(){return this._text}set text(t){this._text=t,this._calculateDimension()}get font(){return this._font}set font(t){this._font=t}get width(){return 0===this._textWidth&&this._calculateDimension(),this._textWidth*this.scale.x}get height(){return 0===this._textHeight&&this._calculateDimension(),this._textHeight*this.scale.y}_calculateDimension(){const{width:t,height:e}=this.font.measureText(this._text,this.maxWidth);this._textWidth=t,this._textHeight=e}get localBounds(){return this.font.measureText(this._text,this.maxWidth).scale(this.scale)}_rotate(t){}_flip(t){}_preDraw(t,e,n){(this.isStale()||this.font.isStale())&&(this.font.flipHorizontal=this.flipHorizontal,this.font.flipVertical=this.flipVertical,this.font.rotation=this.rotation,this.font.origin=this.origin,this.font.opacity=this.opacity),this.font.tint=this.tint,super._preDraw(t,e,n)}_drawImage(t,e,n){var i;let r=C.Black;this.font instanceof Bi&&(r=null!==(i=this.color)&&void 0!==i?i:this.font.color);const{width:s,height:o}=this.font.measureText(this._text,this.maxWidth);this._textWidth=s,this._textHeight=o,this.font.render(t,this._text,r,e,n,this.maxWidth),this.font.showDebug&&(t.debug.drawRect(e-s,n-o,2*s,2*o),null!=this.maxWidth&&t.debug.drawRect(e,n,this.maxWidth,this.height,{color:C.Yellow}))}}class Di extends Xn{get pos(){return this.transform.pos}set pos(t){this.transform.pos=t.clone()}get oldPos(){return this.body.oldPos}set oldPos(t){this.body.oldPos.setTo(t.x,t.y)}get vel(){return this.motion.vel}set vel(t){this.motion.vel=t.clone()}get oldVel(){return this.body.oldVel}set oldVel(t){this.body.oldVel.setTo(t.x,t.y)}get acc(){return this.motion.acc}set acc(t){this.motion.acc=t.clone()}set oldAcc(t){this.body.oldAcc.setTo(t.x,t.y)}get oldAcc(){return this.body.oldAcc}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angularVelocity(){return this.motion.angularVelocity}set angularVelocity(t){this.motion.angularVelocity=t}get scale(){return this.get(hn).scale}set scale(t){this.get(hn).scale=t}get anchor(){return this._anchor}set anchor(t){this._anchor=X(t,(t=>this._handleAnchorChange(t))),this._handleAnchorChange(t)}_handleAnchorChange(t){this.graphics&&(this.graphics.anchor=t)}get offset(){return this._offset}set offset(t){this._offset=X(t,(t=>this._handleOffsetChange(t))),this._handleOffsetChange(t)}_handleOffsetChange(t){this.graphics&&(this.graphics.offset=t)}get isOffScreen(){return this.hasTag("ex.offscreen")}get draggable(){return this._draggable}set draggable(t){t&&(t&&!this._draggable?(this.events.on("pointerdragstart",this._pointerDragStartHandler),this.events.on("pointerdragend",this._pointerDragEndHandler),this.events.on("pointerdragmove",this._pointerDragMoveHandler),this.events.on("pointerdragleave",this._pointerDragLeaveHandler)):!t&&this._draggable&&(this.events.off("pointerdragstart",this._pointerDragStartHandler),this.events.off("pointerdragend",this._pointerDragEndHandler),this.events.off("pointerdragmove",this._pointerDragMoveHandler),this.events.off("pointerdragleave",this._pointerDragLeaveHandler)),this._draggable=t)}get color(){return this._color}set color(t){this._color=t.clone();const e=this.graphics.current;(e instanceof Ht||e instanceof Fi)&&(e.color=this._color)}constructor(t){super(),this.events=new h,this._anchor=X(A.Half,(t=>this._handleAnchorChange(t))),this._offset=X(A.Zero,(t=>this._handleOffsetChange(t))),this.logger=R.getInstance(),this._draggable=!1,this._dragging=!1,this._pointerDragStartHandler=()=>{this._dragging=!0},this._pointerDragEndHandler=()=>{this._dragging=!1},this._pointerDragMoveHandler=t=>{this._dragging&&(this.pos=t.worldPos)},this._pointerDragLeaveHandler=t=>{this._dragging&&(this.pos=t.worldPos)};const{name:e,x:n,y:i,pos:r,coordPlane:s,scale:o,width:a,height:l,radius:c,collider:d,vel:u,acc:p,rotation:f,angularVelocity:g,z:m,color:v,visible:y,opacity:x,anchor:_,offset:b,collisionType:w,collisionGroup:C}={...t};this.name=null!==e&&void 0!==e?e:this.name,this.anchor=null!==_&&void 0!==_?_:Di.defaults.anchor.clone(),this.offset=null!==b&&void 0!==b?b:A.Zero,this.transform=new hn,this.addComponent(this.transform),this.pos=null!==r&&void 0!==r?r:S(null!==n&&void 0!==n?n:0,null!==i&&void 0!==i?i:0),this.rotation=null!==f&&void 0!==f?f:0,this.scale=null!==o&&void 0!==o?o:S(1,1),this.z=null!==m&&void 0!==m?m:0,this.transform.coordPlane=null!==s&&void 0!==s?s:Je.World,this.pointer=new ii,this.addComponent(this.pointer),this.graphics=new ti({anchor:this.anchor,offset:this.offset,opacity:x}),this.addComponent(this.graphics),this.motion=new dn,this.addComponent(this.motion),this.vel=null!==u&&void 0!==u?u:A.Zero,this.acc=null!==p&&void 0!==p?p:A.Zero,this.angularVelocity=null!==g&&void 0!==g?g:0,this.actions=new Ri,this.addComponent(this.actions),this.body=new Un,this.addComponent(this.body),this.body.collisionType=null!==w&&void 0!==w?w:Ze.Passive,C&&(this.body.group=C),d?(this.collider=new zn(d),this.addComponent(this.collider)):c?(this.collider=new zn(Ln.Circle(c)),this.addComponent(this.collider)):a>0&&l>0?(this.collider=new zn(Ln.Box(a,l,this.anchor)),this.addComponent(this.collider)):(this.collider=new zn,this.addComponent(this.collider)),this.graphics.visible=null===y||void 0===y||y,v&&(this.color=v,a&&l?this.graphics.add(new ei({color:v,width:a,height:l})):c&&this.graphics.add(new ni({color:v,radius:c})))}clone(){const t=new Di({color:this.color.clone(),anchor:this.anchor.clone(),offset:this.offset.clone()});t.clearComponents(),t.processComponentRemoval(),t.addComponent(t.transform=this.transform.clone(),!0),t.addComponent(t.pointer=this.pointer.clone(),!0),t.addComponent(t.graphics=this.graphics.clone(),!0),t.addComponent(t.motion=this.motion.clone(),!0),t.addComponent(t.actions=this.actions.clone(),!0),t.addComponent(t.body=this.body.clone(),!0),t.addComponent(t.collider=this.collider.clone(),!0);const e=[this.transform,this.pointer,this.graphics,this.motion,this.actions,this.body,this.collider],n=this.getComponents();for(const i of n)e.includes(i)||t.addComponent(i.clone(),!0);return t}onInitialize(t){}_initialize(t){super._initialize(t);for(const e of this.children)e._initialize(t)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}_prekill(t){this.events.emit("prekill",new Yt(this)),this.onPreKill(t)}onPreKill(t){}_postkill(t){this.events.emit("postkill",new Zt(this)),this.onPostKill(t)}onPostKill(t){}kill(){this.scene?(this._prekill(this.scene),this.events.emit("kill",new Kt(this)),super.kill(),this._postkill(this.scene)):this.logger.warn('Cannot kill actor named "'.concat(this.name,'", it was never added to the Scene'))}unkill(){this.active=!0}isKilled(){return!this.active}get z(){return this.get(hn).z}set z(t){this.get(hn).z=t}get center(){const t=this.getGlobalPos();return new A(t.x+this.width/2-this.anchor.x*this.width,t.y+this.height/2-this.anchor.y*this.height)}get localCenter(){return new A(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)}get width(){return this.collider.localBounds.width*this.getGlobalScale().x}get height(){return this.collider.localBounds.height*this.getGlobalScale().y}getGlobalRotation(){return this.get(hn).globalRotation}getGlobalPos(){return this.get(hn).globalPos}getGlobalScale(){return this.get(hn).globalScale}contains(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=S(t,e),r=this.get(zn);r.update();const s=r.get();if(!s)return!1;const o=s.contains(i);return n?o||this.children.some((n=>n.contains(t,e,!0))):o}within(t,e){const n=this.get(zn),i=t.get(zn),r=n.get(),s=i.get();return!(!r||!s)&&r.getClosestLineBetween(s).getLength()<=e}update(t,e){this._initialize(t),this._preupdate(t,e),this._postupdate(t,e)}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreCollisionResolve(t,e,n,i){}onPostCollisionResolve(t,e,n,i){}onCollisionStart(t,e,n,i){}onCollisionEnd(t,e,n,i){}_preupdate(t,e){this.events.emit("preupdate",new oe(t,e,this)),this.onPreUpdate(t,e)}_postupdate(t,e){this.events.emit("postupdate",new ae(t,e,this)),this.onPostUpdate(t,e)}}function ji(t){return t instanceof Oi}Di.defaults={anchor:A.Half};class Oi extends Di{constructor(t){var e,n;super({...t}),this.get(hn).coordPlane=Je.Screen,this.anchor=null!==(e=null===t||void 0===t?void 0:t.anchor)&&void 0!==e?e:S(0,0),this.body.collisionType=null!==(n=null===t||void 0===t?void 0:t.collisionType)&&void 0!==n?n:Ze.PreventCollision,this.pointer.useGraphicsBounds=!0,this.pointer.useColliderShape=!1,!(null===t||void 0===t?void 0:t.collider)&&(null===t||void 0===t?void 0:t.width)>0&&(null===t||void 0===t?void 0:t.height)>0&&this.collider.useBoxCollider(this.width,this.height,this.anchor)}_initialize(t){this._engine=t,super._initialize(t)}contains(t,e){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])return super.contains(t,e);const n=this._engine.worldToScreenCoordinates(new A(t,e));return super.contains(n.x,n.y)}}class Li{get complete(){return this._complete}constructor(t,e,n,i,r,s){if(this._logger=R.getInstance(),this.id=0,this._elapsedTime=0,this._totalTimeAlive=0,this._running=!1,this._numberOfTicks=0,this.interval=10,this.repeats=!1,this.maxNumberOfRepeats=-1,this.randomRange=[0,0],this._baseInterval=10,this._generateRandomInterval=()=>this._baseInterval+this.random.integer(this.randomRange[0],this.randomRange[1]),this._complete=!1,this.scene=null,"function"!==typeof t){const o=t;t=o.fcn,e=o.interval,n=o.repeats,i=o.numberOfRepeats,r=o.randomRange,s=o.random}if(i&&i>=0&&(this.maxNumberOfRepeats=i,!n))throw new Error("repeats must be set to true if numberOfRepeats is set");if(this.id=Li._MAX_ID++,this._callbacks=[],this._baseInterval=this.interval=e,r){if(r[0]>r[1])throw new Error("min value must be lower than max value for range");this.random=null!==s&&void 0!==s?s:new u,this.randomRange=r,this.interval=this._generateRandomInterval(),this.on((()=>{this.interval=this._generateRandomInterval()}))}this.repeats=n||this.repeats,t&&this.on(t)}on(t){this._callbacks.push(t)}off(t){const e=this._callbacks.indexOf(t);this._callbacks.splice(e,1)}update(t){this._running&&(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this._complete=!0,this._running=!1,this._elapsedTime=0),!this.complete&&this._elapsedTime>=this.interval&&(this._callbacks.forEach((t=>{t.call(this)})),this._numberOfTicks++,this.repeats||(this._complete=!0,this._running=!1),this._elapsedTime=0))}reset(t,e){if(t&&t>=0&&(this._baseInterval=this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this._complete=!1,this._elapsedTime=0,this._numberOfTicks=0}get timesRepeated(){return this._numberOfTicks}getTimeRunning(){return this._totalTimeAlive}get timeToNextAction(){return this.complete?0:this.interval-this._elapsedTime}get timeElapsedTowardNextAction(){return this._elapsedTime}get isRunning(){return this._running}pause(){return this._running=!1,this}resume(){return this._running=!0,this}start(){return this.scene||this._logger.warn("Cannot start a timer not part of a scene, timer wont start until added"),this._running=!0,this.complete&&(this._complete=!1,this._elapsedTime=0,this._numberOfTicks=0),this}stop(){return this._running=!1,this._elapsedTime=0,this._numberOfTicks=0,this}cancel(){this.pause(),this.scene&&this.scene.cancelTimer(this)}}Li._MAX_ID=0;class zi extends ln{constructor(t){super(),this.parallaxFactor=S(1,1),this.parallaxFactor=null!==t&&void 0!==t?t:this.parallaxFactor}}class Ni extends ln{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(),this.draw=t,this.useTransform=e}}const Ui={PreUpdate:"preupdate",PostUpdate:"postupdate",PreDraw:"predraw",PostDraw:"postdraw",PointerUp:"pointerup",PointerDown:"pointerdown",PointerMove:"pointermove",PointerCancel:"pointercancel"};class Hi extends Xn{flagCollidersDirty(){this._collidersDirty=!0}flagTilesDirty(){for(let t=0;t<this.tiles.length;t++)this.tiles[t]&&this.tiles[t].flagDirty()}get x(){var t;return null!==(t=this.transform.pos.x)&&void 0!==t?t:0}set x(t){var e;(null===(e=this.transform)||void 0===e?void 0:e.pos)&&(this.get(hn).pos=S(t,this.y))}get y(){var t,e;return null!==(e=null===(t=this.transform)||void 0===t?void 0:t.pos.y)&&void 0!==e?e:0}set y(t){var e;(null===(e=this.transform)||void 0===e?void 0:e.pos)&&(this.transform.pos=S(this.x,t))}get z(){var t;return null!==(t=this.transform.z)&&void 0!==t?t:0}set z(t){this.transform&&(this.transform.z=t)}get rotation(){var t,e;return null!==(e=null===(t=this.transform)||void 0===t?void 0:t.rotation)&&void 0!==e?e:0}set rotation(t){this.transform&&(this.transform.rotation=t)}get scale(){var t,e;return null!==(e=null===(t=this.transform)||void 0===t?void 0:t.scale)&&void 0!==e?e:A.One}set scale(t){var e;(null===(e=this.transform)||void 0===e?void 0:e.scale)&&(this.transform.scale=t)}get pos(){return this.transform.pos}set pos(t){this.transform.pos=t}get vel(){return this._motion.vel}set vel(t){this._motion.vel=t}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}constructor(t){var e,n,i;super([],t.name),this.events=new h,this._token=0,this.logger=R.getInstance(),this.tiles=[],this._rows=[],this._cols=[],this.renderFromTopOfGraphic=!1,this.meshingLookBehind=10,this._collidersDirty=!0,this._forwardPointerEventToTile=t=>e=>{const n=this.getTileByPoint(e.worldPos);n&&n.events.emit(t,e)},this._originalOffsets=new WeakMap,this.meshingLookBehind=null!==(e=t.meshingLookBehind)&&void 0!==e?e:this.meshingLookBehind,this.addComponent(new hn),this.addComponent(new dn),this.addComponent(new Un({type:Ze.Fixed})),this.addComponent(new ti({onPostDraw:(t,e)=>this.draw(t,e)})),this.addComponent(new Ni(((t,e)=>this.debug(t,e)),!1)),this.addComponent(new zn),this.addComponent(new ii),this.pointer=this.get(ii),this._graphics=this.get(ti),this.transform=this.get(hn),this._motion=this.get(dn),this.collider=this.get(zn),this._composite=this.collider.useCompositeCollider([]),this.transform.pos=null!==(n=t.pos)&&void 0!==n?n:A.Zero,this._oldPos=this.transform.pos.clone(),this._oldScale=this.transform.scale.clone(),this.renderFromTopOfGraphic=null!==(i=t.renderFromTopOfGraphic)&&void 0!==i?i:this.renderFromTopOfGraphic,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.rows=t.rows,this.columns=t.columns,this.tiles=new Array(this.rows*this.columns),this._rows=new Array(this.rows),this._cols=new Array(this.columns);let r=[];for(let s=0;s<this.columns;s++){for(let t=0;t<this.rows;t++){const e=new Wi({x:s,y:t,map:this});e.map=this,this.tiles[s+t*this.columns]=e,r.push(e),this._rows[t]||(this._rows[t]=[]),this._rows[t].push(e)}this._cols[s]=r,r=[]}this._setupPointerToTile(),this._graphics.localBounds=new B({left:0,top:0,right:this.columns*this.tileWidth*this.scale.x,bottom:this.rows*this.tileHeight*this.scale.y})}_initialize(t){super._initialize(t),this._engine=t}_setupPointerToTile(){this.events.on("pointerup",this._forwardPointerEventToTile("pointerup")),this.events.on("pointerdown",this._forwardPointerEventToTile("pointerdown")),this.events.on("pointermove",this._forwardPointerEventToTile("pointermove")),this.events.on("pointercancel",this._forwardPointerEventToTile("pointercancel"))}_getOrSetColliderOriginalOffset(t){if(this._originalOffsets.has(t))return this._originalOffsets.get(t);{const e=t.offset;return this._originalOffsets.set(t,e),e}}_updateColliders(){var t=this;this.collider.$colliderRemoved.notifyAll(this._composite),this._composite.clearColliders();const e=[];let n;this._composite=this.collider.useCompositeCollider([]);const i=(t,e)=>!(!t||!e)&&(t.top===e.top&&t.bottom===e.bottom&&t.right===e.left),r=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.meshingLookBehind;if(!e)return!1;for(let t=n.length-1;t>=0;t--){if(r--<0)return!1;const s=n[t];if(i(s,e))return n[t]=s.combine(e),!0}return!1};for(let s=0;s<this.columns;s++){for(let t=0;t<this.rows;t++){const i=this.tiles[s+t*this.columns];if(i.solid)if(i.getColliders().length>0){for(const t of i.getColliders()){const e=this._getOrSetColliderOriginalOffset(t);t.offset=S(i.x*this.tileWidth*this.scale.x,i.y*this.tileHeight*this.scale.y).add(e),t.owner=this,this._composite.addCollider(t)}n&&!r(n,e)&&e.push(n),n=null}else n=n?n.combine(i.defaultGeometry):i.defaultGeometry;else n&&!r(n,e)&&e.push(n),n=null}n&&!r(n,e)&&e.push(n),n=null}for(const s of e){const t=Ln.Box(s.width,s.height,A.Zero,S(s.left-this.pos.x,s.top-this.pos.y));t.owner=this,this._composite.addCollider(t)}this.collider.update(),this.collider.$colliderAdded.notifyAll(this._composite)}getTileByIndex(t){return this.tiles[t]}getTile(t,e){return t<0||e<0||t>=this.columns||e>=this.rows?null:this.tiles[t+e*this.columns]}getTileByPoint(t){const{x:e,y:n}=this._getTileCoordinates(t),i=this.getTile(e,n);return e>=0&&n>=0&&e<this.columns&&n<this.rows&&i?i:null}_getTileCoordinates(t){t=this.transform.applyInverse(t);return{x:Math.floor(t.x/this.tileWidth),y:Math.floor(t.y/this.tileHeight)}}getRows(){return this._rows}getColumns(){return this._cols}getOnScreenTiles(){let t=this._engine.screen.getWorldBounds();const e=this.get(zi);if(e&&this.isInitialized){let n=this.pos;const i=A.One.sub(e.parallaxFactor),r=this._engine.currentScene.camera.pos.scale(i);n=n.sub(r),t=t.translate(n)}const n=this.transform.coordPlane===Je.Screen?this._engine.screen.getScreenBounds():t,i=this._getTileCoordinates(n.topLeft),r=this._getTileCoordinates(n.topRight),s=this._getTileCoordinates(n.bottomRight),o=this._getTileCoordinates(n.bottomLeft),a=Math.min(m(i.x,0,this.columns-1),m(r.x,0,this.columns-1)),l=Math.min(m(i.y,0,this.rows-1),m(r.y,0,this.rows-1)),c=Math.max(m(s.x,0,this.columns-1),m(o.x,0,this.columns-1)),h=Math.max(m(s.y,0,this.rows-1),m(o.y,0,this.rows-1)),d=[];for(let u=a;u<=c;u++)for(let t=l;t<=h;t++)d.push(this.getTile(u,t));return d}update(t,e){this._initialize(t),this.onPreUpdate(t,e),this.emit("preupdate",new oe(t,e,this)),this._oldPos.equals(this.pos)&&this._oldRotation===this.rotation&&this._oldScale.equals(this.scale)||(this.flagCollidersDirty(),this.flagTilesDirty()),this._collidersDirty&&(this._collidersDirty=!1,this._updateColliders()),this._token++,this.pos.clone(this._oldPos),this._oldRotation=this.rotation,this.scale.clone(this._oldScale),this.transform.pos=this.pos,this.onPostUpdate(t,e),this.emit("postupdate",new ae(t,e,this))}draw(t,e){if(!this.isInitialized)return;let n,i,r;this.emit("predraw",new te(t,e,this));const s=this.getOnScreenTiles();for(let o=0;o<s.length;o++){const a=s[o],l=a.getGraphicsOffsets();for(n=a.getGraphics(),i=0,r=n.length;i<r;i++){const r=n[i],s=l[i];if(r){$n(r)&&(null===r||void 0===r||r.tick(e,this._token));const n=this.renderFromTopOfGraphic?0:r.height-this.tileHeight;r.draw(t,a.x*this.tileWidth+s.x,a.y*this.tileHeight-n+s.y)}}}this.emit("postdraw",new ee(t,e,this))}debug(t,e){const{showAll:n,showGrid:i,gridColor:r,gridWidth:s,showSolidBounds:o,solidBoundsColor:a,showColliderGeometry:l}=e.tilemap,{geometryColor:c,geometryLineWidth:h,geometryPointSize:d}=e.collider,u=this.tileWidth*this.columns*this.scale.x,p=this.tileHeight*this.rows*this.scale.y,f=this.pos;if(i||n){for(let e=0;e<this.rows+1;e++){const n=S(0,e*this.tileHeight*this.scale.y);t.drawLine(f.add(n),f.add(S(u,n.y)),r,s)}for(let e=0;e<this.columns+1;e++){const n=S(e*this.tileWidth*this.scale.x,0);t.drawLine(f.add(n),f.add(S(n.x,p)),r,s)}}if(n||o||l){const e=this._composite.getColliders();t.save(),t.translate(this.pos.x,this.pos.y),t.scale(this.scale.x,this.scale.y);for(const n of e){const e=n.localBounds,i=n.worldPos.sub(this.pos);o&&t.drawRectangle(i,e.width,e.height,a)}if(t.restore(),l)for(const n of e)n.debug(t,c,{lineWidth:h,pointSize:d})}if(n||o){if(t.save(),t.z=999,o)for(let e=0;e<this.tiles.length;e++)this.tiles[e].bounds.draw(t);t.restore()}}}class Wi{get pos(){return this._posDirty&&(this._recalculate(),this._posDirty=!1),this._pos}get width(){return this._width}get height(){return this._height}get solid(){return this._solid}set solid(t){var e;null===(e=this.map)||void 0===e||e.flagCollidersDirty(),this._solid=t}getGraphics(){return this._graphics}getGraphicsOffsets(){return this._offsets}addGraphic(t,e){this._graphics.push(t),(null===e||void 0===e?void 0:e.offset)?this._offsets.push(e.offset):this._offsets.push(A.Zero)}removeGraphic(t){const e=this._graphics.indexOf(t);e>-1&&(this._graphics.splice(e,1),this._offsets.splice(e,1))}clearGraphics(){this._graphics.length=0,this._offsets.length=0}getColliders(){return this._colliders}addCollider(t){this._colliders.push(t),this.map.flagCollidersDirty()}removeCollider(t){const e=this._colliders.indexOf(t);e>-1&&this._colliders.splice(e,1),this.map.flagCollidersDirty()}clearColliders(){this._colliders.length=0,this.map.flagCollidersDirty()}constructor(t){var e,n;this._posDirty=!1,this.events=new h,this._solid=!1,this._graphics=[],this._offsets=[],this._colliders=[],this.data=new Map,this.x=t.x,this.y=t.y,this.map=t.map,this._width=t.map.tileWidth*this.map.scale.x,this._height=t.map.tileHeight*this.map.scale.y,this.solid=null!==(e=t.solid)&&void 0!==e?e:this.solid,this._graphics=null!==(n=t.graphics)&&void 0!==n?n:[],this._recalculate()}flagDirty(){return this._posDirty=!0}_recalculate(){const t=this.map.pos.add(S(this.x*this.map.tileWidth,this.y*this.map.tileHeight));this._geometry=new B(t.x,t.y,t.x+this.map.tileWidth,t.y+this.map.tileHeight),this._width=this.map.tileWidth*this.map.scale.x,this._height=this.map.tileHeight*this.map.scale.y,this._pos=this.map.pos.add(S(this.x*this._width,this.y*this._height)),this._bounds=new B(this._pos.x,this._pos.y,this._pos.x+this._width,this._pos.y+this._height),this.map.rotation&&(this._bounds=this._bounds.rotate(this.map.rotation,this.map.pos)),this._posDirty=!1}get bounds(){return this._posDirty&&this._recalculate(),this._bounds}get defaultGeometry(){return this._geometry}get center(){return this._posDirty&&this._recalculate(),new A(this._pos.x+this._width/2,this._pos.y+this._height/2)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){e?this.events.off(t,e):this.events.off(t)}}class Vi{constructor(t){this.camera=t}lockToActor(t){this.camera.addStrategy(new qi(t))}lockToActorAxis(t,e){this.camera.addStrategy(new Xi(t,e))}elasticToActor(t,e,n){this.camera.addStrategy(new Qi(t,e,n))}radiusAroundActor(t,e){this.camera.addStrategy(new Ki(t,e))}limitCameraBounds(t){this.camera.addStrategy(new Yi(t))}}var Gi;!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(Gi||(Gi={}));class qi{constructor(t){this.target=t,this.action=(t,e,n,i)=>t.center}}class Xi{constructor(t,e){this.target=t,this.axis=e,this.action=(t,e,n,i)=>{const r=t.center,s=e.getFocus();return this.axis===Gi.X?new A(r.x,s.y):new A(s.x,r.y)}}}class Qi{constructor(t,e,n){this.target=t,this.cameraElasticity=e,this.cameraFriction=n,this.action=(t,e,n,i)=>{const r=t.center;let s=e.getFocus(),o=e.vel.clone();const a=r.sub(s).scale(this.cameraElasticity);o=o.add(a);const l=o.scale(-1).scale(this.cameraFriction);return o=o.add(l),s=s.add(o),s}}}class Ki{constructor(t,e){this.target=t,this.radius=e,this.action=(t,e,n,i)=>{const r=t.center,s=e.getFocus(),o=r.sub(s),a=o.size;if(a>=this.radius){const t=a-this.radius;return s.add(o.normalize().scale(t))}return s}}}class Yi{constructor(t){this.target=t,this.boundSizeChecked=!1,this.action=(t,e,n,i)=>{const r=e.getFocus();this.boundSizeChecked||((t.bottom-t.top<n.drawHeight||t.right-t.left<n.drawWidth)&&R.getInstance().warn("Camera bounds should not be smaller than the engine viewport"),this.boundSizeChecked=!0);let s=r.x,o=r.y;return r.x<t.left+n.halfDrawWidth?s=t.left+n.halfDrawWidth:r.x>t.right-n.halfDrawWidth&&(s=t.right-n.halfDrawWidth),r.y<t.top+n.halfDrawHeight?o=t.top+n.halfDrawHeight:r.y>t.bottom-n.halfDrawHeight&&(o=t.bottom-n.halfDrawHeight),S(s,o)}}}const Zi={Initialize:"initialize",PreUpdate:"preupdate",PostUpdate:"postupdate"};class Ji{constructor(){this.events=new h,this.transform=H.identity(),this.inverse=H.identity(),this._cameraStrategies=[],this.strategy=new Vi(this),this._z=1,this.dz=0,this.az=0,this.rotation=0,this._angularVelocity=0,this._posChanged=!1,this._pos=K(A.Zero,(()=>this._posChanged=!0)),this.drawPos=this.pos.clone(),this._oldPos=this.pos.clone(),this.vel=A.Zero,this.acc=A.Zero,this._cameraMoving=!1,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=null,this._lerpEnd=null,this._isShaking=!1,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._elapsedShakeTime=0,this._xShake=0,this._yShake=0,this._isZooming=!1,this._zoomStart=1,this._zoomEnd=1,this._currentZoomTime=0,this._zoomDuration=0,this._zoomEasing=ri.EaseInOutCubic,this._easing=ri.EaseInOutCubic,this._halfWidth=0,this._halfHeight=0,this._viewport=null,this._isInitialized=!1,this._snapPos=S(0,0)}get zoom(){return this._z}set zoom(t){this._z=t,this._engine&&(this._halfWidth=this._engine.halfDrawWidth,this._halfHeight=this._engine.halfDrawHeight)}get angularVelocity(){return this._angularVelocity}set angularVelocity(t){this._angularVelocity=t}get pos(){return this._pos}set pos(t){this._pos=K(t,(()=>this._posChanged=!0)),this._posChanged=!0}get x(){return this.pos.x}set x(t){this._follow||this._cameraMoving||(this.pos=S(t,this.pos.y))}get y(){return this.pos.y}set y(t){this._follow||this._cameraMoving||(this.pos=S(this.pos.x,t))}get dx(){return this.vel.x}set dx(t){this.vel=S(t,this.vel.y)}get dy(){return this.vel.y}set dy(t){this.vel=S(this.vel.x,t)}get ax(){return this.acc.x}set ax(t){this.acc=S(t,this.acc.y)}get ay(){return this.acc.y}set ay(t){this.acc=S(this.acc.x,t)}getFocus(){return this.pos}move(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.EaseInOutCubic;if("function"!==typeof n)throw"Please specify an EasingFunction";return this._follow?Promise.reject(t):(this._lerpPromise&&this._lerpResolve&&this._lerpResolve(t),this._lerpPromise=new Promise((t=>{this._lerpResolve=t})),this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=n,this._lerpPromise)}shake(t,e,n){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=n}zoomOverTime(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.EaseInOutCubic;return this._zoomPromise=new Promise((t=>{this._zoomResolve=t})),e?(this._isZooming=!0,this._zoomEasing=n,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.zoom,this._zoomEnd=t,this._zoomPromise):(this._isZooming=!1,this.zoom=t,Promise.resolve(!0))}get viewport(){return this._viewport?this._viewport:new B(0,0,0,0)}addStrategy(t){this._cameraStrategies.push(t)}removeStrategy(t){j(t,this._cameraStrategies)}clearAllStrategies(){this._cameraStrategies.length=0}_preupdate(t,e){this.events.emit("preupdate",new oe(t,e,this)),this.onPreUpdate(t,e)}onPreUpdate(t,e){}_postupdate(t,e){this.events.emit("postupdate",new ae(t,e,this)),this.onPostUpdate(t,e)}onPostUpdate(t,e){}get isInitialized(){return this._isInitialized}_initialize(t){if(!this.isInitialized){this._engine=t,this._screen=t.screen;const e=this._screen.contentArea;let n=S(e.width/2,e.height/2);if(!this._engine.loadingComplete){const t=this._screen.peekResolution();t&&(n=S(t.width/2,t.height/2))}this._halfWidth=n.x,this._halfHeight=n.y,this._posChanged||(this.pos=n),this.pos.clone(this.drawPos),this.updateTransform(this.pos),this.runStrategies(t,t.clock.elapsed()),this.updateViewport(),this.updateTransform(this.pos),this.pos.clone(this._oldPos),this.onInitialize(t),this.events.emit("initialize",new Se(t,this)),this._isInitialized=!0}}onInitialize(t){}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}runStrategies(t,e){for(const n of this._cameraStrategies)this.pos=n.action.call(n,n.target,this,t,e)}updateViewport(){this._viewport=new B(this.x-this._halfWidth,this.y-this._halfHeight,this.x+this._halfWidth,this.y+this._halfHeight)}update(t,e){if(this._initialize(t),this._preupdate(t,e),this.pos.clone(this._oldPos),this.pos=this.pos.add(this.vel.scale(e/1e3)),this.zoom+=this.dz*e/1e3,this.vel=this.vel.add(this.acc.scale(e/1e3)),this.dz+=this.az*e/1e3,this.rotation+=this.angularVelocity*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){const t=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.zoom=t,this._currentZoomTime+=e}else this._isZooming=!1,this.zoom=this._zoomEnd,this._currentZoomTime=0,this._zoomResolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){const t=ri.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this.pos=t,this._currentLerpTime+=e}else{this.pos=this._lerpEnd;const t=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpResolve(t)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0)),this.runStrategies(t,e),this.updateViewport(),this.updateTransform(this.pos),this._postupdate(t,e)}draw(t){if(this.pos.clone(this.drawPos),this._engine.fixedUpdateFps){const t=this._engine.currentFrameLagMs/(1e3/this._engine.fixedUpdateFps),e=this.pos.scale(t).add(this._oldPos.scale(1-t));e.clone(this.drawPos),this.updateTransform(e)}if(t.snapToPixel){const t=this.drawPos.clone(this._snapPos);t.x=~~(t.x+Rt*g(t.x)),t.y=~~(t.y+Rt*g(t.y)),t.clone(this.drawPos),this.updateTransform(t)}t.multiply(this.transform)}updateTransform(t){const e=this._screen.resolution.width/this.zoom,n=this._screen.resolution.height/this.zoom,i=S(-t.x+e/2+this._xShake,-t.y+n/2+this._yShake);this.transform.reset(),this.transform.scale(this.zoom,this.zoom),this.transform.translate(e/2,n/2),this.transform.rotate(this.rotation),this.transform.translate(-e/2,-n/2),this.transform.translate(i.x,i.y),this.transform.inverse(this.inverse)}_isDoneShaking(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration}}const $i={ExitTrigger:"exit",EnterTrigger:"enter"},tr={pos:A.Zero,width:10,height:10,visible:!1,action:()=>{},filter:()=>!0,repeat:-1};class er extends Di{constructor(t){super({x:t.pos.x,y:t.pos.y,width:t.width,height:t.height}),this.events=new h,this.action=()=>{},this.filter=()=>!0,this.repeat=-1,t={...tr,...t},this.filter=t.filter||this.filter,this.repeat=t.repeat||this.repeat,this.action=t.action||this.action,t.target&&(this.target=t.target),this.graphics.visible=t.visible,this.body.collisionType=Ze.Passive,this.events.on("collisionstart",(t=>{this.filter(t.other)&&(this.events.emit("enter",new Pe(this,t.other)),this._dispatchAction(),0===this.repeat&&this.kill())})),this.events.on("collisionend",(t=>{this.filter(t.other)&&this.events.emit("exit",new Re(this,t.other))}))}set target(t){this._target=t,this.filter=e=>e===t}get target(){return this._target}_initialize(t){super._initialize(t)}_dispatchAction(){0!==this.repeat&&(this.action.call(this),this.repeat--)}}const nr={Highest:-1/0,Higher:-5,Average:0,Lower:5,Lowest:1/0};var ir,rr,sr;!function(t){t.Update="update",t.Draw="draw"}(ir||(ir={}));class or{constructor(){this.priority=nr.Average}}class ar{constructor(t){this._world=t,this.entities=[],this._entityIndex={},this._entitiesToRemove=[]}updateEntities(t,e){for(const n of this.entities)n.update(t.engine,e),n.active||this.removeEntity(n)}findEntitiesForRemoval(){for(const t of this.entities)t.active||this.removeEntity(t)}addEntity(t){t.active=!0,t.scene=this._world.scene,t&&!this._entityIndex[t.id]&&(this._entityIndex[t.id]=t,this.entities.push(t),this._world.queryManager.addEntity(t),t.children.forEach((e=>{e.scene=t.scene,this.addEntity(e)})),t.childrenAdded$.register({notify:t=>{this.addEntity(t)}}),t.childrenRemoved$.register({notify:t=>{this.removeEntity(t,!1)}}))}removeEntity(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n,i;let r=0;r=t instanceof Xn?t.id:t;const s=this._entityIndex[r];s&&s.active&&(s.active=!1),s&&e?this._entitiesToRemove.push(s):(delete this._entityIndex[r],s&&(s.scene=null,j(s,this.entities),this._world.queryManager.removeEntity(s),s.children.forEach((t=>{t.scene=null,this.removeEntity(t,e)})),s.childrenAdded$.clear(),s.childrenRemoved$.clear(),(null===(i=null===(n=this._world)||void 0===n?void 0:n.scene)||void 0===i?void 0:i.engine)&&this._world.scene.engine.stats.currFrame.actors.killed++))}processEntityRemovals(){for(const t of this._entitiesToRemove)t.active||this.removeEntity(t,!1);this._entitiesToRemove.length=0}processComponentRemovals(){for(const t of this.entities)t.processComponentRemoval()}getById(t){return this._entityIndex[t]}getByName(t){return this.entities.filter((e=>e.name===t))}clear(){for(let t=this.entities.length-1;t>=0;t--)this.removeEntity(this.entities[t])}}class lr{constructor(t){if(this.requiredComponents=t,this.components=new Set,this.entities=[],this.entityAdded$=new cn,this.entityRemoved$=new cn,0===t.length)throw new Error("Cannot create query without components");for(const e of t)this.components.add(e);this.id=lr.createId(t)}static createId(t){return t.slice().map((t=>t.name)).sort().join("-")}checkAndAdd(t){return!(this.entities.includes(t)||!t.hasAll(Array.from(this.components)))&&(this.entities.push(t),this.entityAdded$.notifyAll(t),!0)}removeEntity(t){const e=this.entities.indexOf(t);e>-1&&(this.entities.splice(e,1),this.entityRemoved$.notifyAll(t))}getEntities(t){return t&&this.entities.sort(t),this.entities}}class cr{constructor(t){if(this.requiredTags=t,this.tags=new Set,this.entities=[],this.entityAdded$=new cn,this.entityRemoved$=new cn,0===t.length)throw new Error("Cannot create tag query without tags");for(const e of t)this.tags.add(e);this.id=cr.createId(t)}static createId(t){return t.slice().sort().join("-")}checkAndAdd(t){return!(this.entities.includes(t)||!t.hasAllTags(Array.from(this.tags)))&&(this.entities.push(t),this.entityAdded$.notifyAll(t),!0)}removeEntity(t){const e=this.entities.indexOf(t);e>-1&&(this.entities.splice(e,1),this.entityRemoved$.notifyAll(t))}getEntities(t){return t&&this.entities.sort(t),this.entities}}class hr{constructor(t){this._world=t,this._queries=new Map,this._addComponentHandlers=new Map,this._removeComponentHandlers=new Map,this._componentToQueriesIndex=new Map,this._tagQueries=new Map,this._addTagHandlers=new Map,this._removeTagHandlers=new Map,this._tagToQueriesIndex=new Map,this._createAddComponentHandler=t=>e=>{this.addComponent(t,e)},this._createRemoveComponentHandler=t=>e=>{this.removeComponent(t,e)},this._createAddTagHandler=t=>e=>{this.addTag(t,e)},this._createRemoveTagHandler=t=>e=>{this.removeTag(t,e)}}createQuery(t){const e=lr.createId(t);if(this._queries.has(e))return this._queries.get(e);const n=new lr(t);this._queries.set(n.id,n);for(const i of t){const t=this._componentToQueriesIndex.get(i);t?t.push(n):this._componentToQueriesIndex.set(i,[n])}for(const i of this._world.entities)this.addEntity(i);return n}createTagQuery(t){const e=cr.createId(t);if(this._tagQueries.has(e))return this._tagQueries.get(e);const n=new cr(t);this._tagQueries.set(n.id,n);for(const i of t){const t=this._tagToQueriesIndex.get(i);t?t.push(n):this._tagToQueriesIndex.set(i,[n])}for(const i of this._world.entities)this.addEntity(i);return n}addEntity(t){const e=this._addComponentHandlers.get(t),n=this._removeComponentHandlers.get(t),i=null!==e&&void 0!==e?e:this._createAddComponentHandler(t),r=null!==n&&void 0!==n?n:this._createRemoveComponentHandler(t);this._addComponentHandlers.set(t,i),this._removeComponentHandlers.set(t,r);const s=this._addTagHandlers.get(t),o=this._removeTagHandlers.get(t),a=null!==s&&void 0!==s?s:this._createAddTagHandler(t),l=null!==o&&void 0!==o?o:this._createRemoveTagHandler(t);this._addTagHandlers.set(t,a),this._removeTagHandlers.set(t,l);for(const c of this._queries.values())c.checkAndAdd(t);for(const c of this._tagQueries.values())c.checkAndAdd(t);t.componentAdded$.subscribe(i),t.componentRemoved$.subscribe(r),t.tagAdded$.subscribe(a),t.tagRemoved$.subscribe(l)}removeEntity(t){const e=this._addComponentHandlers.get(t),n=this._removeComponentHandlers.get(t);for(const s of this._queries.values())s.removeEntity(t);e&&t.componentAdded$.unsubscribe(e),n&&t.componentRemoved$.unsubscribe(n);const i=this._addTagHandlers.get(t),r=this._removeTagHandlers.get(t);for(const s of this._tagQueries.values())s.removeEntity(t);i&&t.tagAdded$.unsubscribe(i),r&&t.tagRemoved$.unsubscribe(r)}addComponent(t,e){var n;const i=null!==(n=this._componentToQueriesIndex.get(e.constructor))&&void 0!==n?n:[];for(const r of i)r.checkAndAdd(t)}removeComponent(t,e){var n;const i=null!==(n=this._componentToQueriesIndex.get(e.constructor))&&void 0!==n?n:[];for(const r of i)r.removeEntity(t)}addTag(t,e){var n;const i=null!==(n=this._tagToQueriesIndex.get(e))&&void 0!==n?n:[];for(const r of i)r.checkAndAdd(t)}removeTag(t,e){var n;const i=null!==(n=this._tagToQueriesIndex.get(e))&&void 0!==n?n:[];for(const r of i)r.removeEntity(t)}}function dr(t){var e,n;return!!(null===t||void 0===t?void 0:t.prototype)&&!!(null===(n=null===(e=null===t||void 0===t?void 0:t.prototype)||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)}class ur{constructor(t){this._world=t,this.systems=[],this.initialized=!1}get(t){return this.systems.find((e=>e instanceof t))}addSystem(t){let e;e=t instanceof or?t:new t(this._world),this.systems.push(e),this.systems.sort(((t,e)=>t.priority-e.priority)),this.initialized&&e.initialize&&e.initialize(this._world,this._world.scene)}removeSystem(t){j(t,this.systems)}initialize(){if(!this.initialized){this.initialized=!0;for(const t of this.systems)t.initialize&&t.initialize(this._world,this._world.scene)}}updateSystems(t,e,n){const i=this.systems.filter((e=>e.systemType===t));for(const r of i)r.preupdate&&r.preupdate(e,n);for(const r of i)r.update(n);for(const r of i)r.postupdate&&r.postupdate(e,n)}clear(){for(let t=this.systems.length-1;t>=0;t--)this.removeSystem(this.systems[t])}}class pr{constructor(t){this.scene=t,this.queryManager=new hr(this),this.entityManager=new ar(this),this.systemManager=new ur(this)}query(t){return this.queryManager.createQuery(t)}queryTags(t){return this.queryManager.createTagQuery(t)}update(t,e){t===ir.Update&&this.entityManager.updateEntities(this.scene,e),this.systemManager.updateSystems(t,this.scene,e),this.entityManager.findEntitiesForRemoval(),this.entityManager.processComponentRemovals(),this.entityManager.processEntityRemovals()}add(t){t instanceof Xn&&this.entityManager.addEntity(t),(t instanceof or||dr(t))&&this.systemManager.addSystem(t)}get(t){return this.systemManager.get(t)}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t instanceof Xn&&this.entityManager.removeEntity(t,e),t instanceof or&&this.systemManager.removeSystem(t)}get entities(){return this.entityManager.entities}clearEntities(){this.entityManager.clear()}clearSystems(){this.systemManager.clear()}}class fr{static integrate(t,e,n,i){const r=i/1e3;e.vel.addEqual(n.scale(r,fr._ACC)),t.pos.add(e.vel.scale(r,fr._VEL),fr._POS).addEqual(n.scale(.5*r*r,fr._VEL_ACC)),e.angularVelocity+=e.torque*(1/e.inertia)*r;const s=t.rotation+e.angularVelocity*r;t.scale.add(e.scaleFactor.scale(r,this._SCALE_FACTOR),fr._SCALE);t.get().setTransform(fr._POS,s,fr._SCALE)}}fr._POS=new A(0,0),fr._SCALE=new A(1,1),fr._ACC=new A(0,0),fr._VEL=new A(0,0),fr._VEL_ACC=new A(0,0),fr._SCALE_FACTOR=new A(0,0);class gr extends or{constructor(t,e){super(),this.world=t,this.physics=e,this.systemType=ir.Update,this.priority=nr.Higher,this._physicsConfigDirty=!1,e.$configUpdate.subscribe((()=>this._physicsConfigDirty=!0)),this.query=this.world.query([hn,dn])}update(t){let e,n;const i=this.query.entities;for(let r=0;r<i.length;r++){e=i[r].get(hn),n=i[r].get(dn);const s=i[r].get(Un);if(this._physicsConfigDirty&&s&&s.updatePhysicsConfig(this.physics.config.bodies),null===s||void 0===s?void 0:s.sleeping)continue;const o=n.acc.clone();(null===s||void 0===s?void 0:s.collisionType)===Ze.Active&&(null===s||void 0===s?void 0:s.useGravity)&&o.addEqual(this.physics.config.gravity),null===s||void 0===s||s.captureOldTransform(),fr.integrate(e,n,o,t)}this._physicsConfigDirty=!1}}class mr{constructor(t){this.config=t,this.directionMap=new Map,this.distanceMap=new Map}solve(t){let e;switch(this.preSolve(t),t=t.filter((t=>!t.isCanceled())),this.config.contactSolveBias){case nn.HorizontalFirst:e=An;break;case nn.VerticalFirst:e=wn;break;default:e=Sn}t.sort(((t,n)=>{const i=this.directionMap.get(t.id),r=this.directionMap.get(n.id),s=this.distanceMap.get(t.id),o=this.distanceMap.get(n.id);return e[i]-e[r]||s-o}));for(const n of t)this.solvePosition(n),this.solveVelocity(n);return this.postSolve(t),t}preSolve(t){const e=1e-4;for(const n of t){if(Math.abs(n.mtv.x)<e&&Math.abs(n.mtv.y)<e){n.cancel();continue}const t=T.fromDirection(n.mtv),i=n.mtv.negate(),r=n.colliderA.worldPos.squareDistance(n.colliderB.worldPos);this.distanceMap.set(n.id,r),this.directionMap.set(n.id,t===T.Left||t===T.Right?"horizontal":"vertical"),n.colliderA.events.emit("precollision",new me(n.colliderA,n.colliderB,t,i,n)),n.colliderB.events.emit("precollision",new me(n.colliderB,n.colliderA,T.getOpposite(t),i.negate(),n))}}postSolve(t){var e,n;for(const i of t){if(i.isCanceled())continue;const t=i.colliderA,r=i.colliderB,s=null===(e=t.owner)||void 0===e?void 0:e.get(Un),o=null===(n=r.owner)||void 0===n?void 0:n.get(Un);if(s&&o&&(s.collisionType===Ze.Passive||o.collisionType===Ze.Passive))continue;const a=T.fromDirection(i.mtv),l=i.mtv.negate();i.colliderA.events.emit("postcollision",new ve(i.colliderA,i.colliderB,a,l,i)),i.colliderB.events.emit("postcollision",new ve(i.colliderB,i.colliderA,T.getOpposite(a),l.negate(),i))}}solvePosition(t){var e,n;const i=1e-4;if(!t.colliderA.bounds.overlaps(t.colliderB.bounds,i))return void t.cancel();if(Math.abs(t.mtv.x)<i&&Math.abs(t.mtv.y)<i)return void t.cancel();let r=t.mtv;const s=t.colliderA,o=t.colliderB,a=null===(e=s.owner)||void 0===e?void 0:e.get(Un),l=null===(n=o.owner)||void 0===n?void 0:n.get(Un);if(a&&l){if(a.collisionType===Ze.Passive||l.collisionType===Ze.Passive)return;a.collisionType===Ze.Active&&l.collisionType===Ze.Active&&(r=r.scale(.5)),a.collisionType===Ze.Active&&(a.globalPos.x-=r.x,a.globalPos.y-=r.y,s.update(a.transform.get())),l.collisionType===Ze.Active&&(l.globalPos.x+=r.x,l.globalPos.y+=r.y,o.update(l.transform.get()))}}solveVelocity(t){var e,n;if(t.isCanceled())return;const i=t.colliderA,r=t.colliderB,s=null===(e=i.owner)||void 0===e?void 0:e.get(Un),o=null===(n=r.owner)||void 0===n?void 0:n.get(Un);if(s&&o){if(s.collisionType===Ze.Passive||o.collisionType===Ze.Passive)return;const e=t.normal,n=e.negate();if(s.collisionType===Ze.Active&&s.vel.normalize().dot(n)<0){const t=e.scale(e.dot(s.vel.negate()));s.vel=s.vel.add(t)}if(o.collisionType===Ze.Active&&o.vel.normalize().dot(e)<0){const t=n.scale(n.dot(o.vel.negate()));o.vel=o.vel.add(t)}}}}class vr{constructor(t,e,n){this.point=t,this.local=e,this.contact=n,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.aToContact=new A(0,0),this.bToContact=new A(0,0),this.originalVelocityAndRestitution=0,this.update()}update(){var t,e;const n=null===(t=this.contact.colliderA.owner)||void 0===t?void 0:t.get(Un),i=null===(e=this.contact.colliderB.owner)||void 0===e?void 0:e.get(Un);if(n&&i){const t=this.contact.normal,e=this.contact.tangent;this.aToContact=this.point.sub(n.globalPos),this.bToContact=this.point.sub(i.globalPos);const r=this.aToContact.cross(t),s=this.bToContact.cross(t);this.normalMass=n.inverseMass+i.inverseMass+n.inverseInertia*r*r+i.inverseInertia*s*s;const o=this.aToContact.cross(e),a=this.bToContact.cross(e);this.tangentMass=n.inverseMass+i.inverseMass+n.inverseInertia*o*o+i.inverseInertia*a*a}return this}getRelativeVelocity(){var t,e;const n=null===(t=this.contact.colliderA.owner)||void 0===t?void 0:t.get(Un),i=null===(e=this.contact.colliderB.owner)||void 0===e?void 0:e.get(Un);if(n&&i){const t=n.vel.add(A.cross(n.angularVelocity,this.aToContact));return i.vel.add(A.cross(i.angularVelocity,this.bToContact)).sub(t)}return A.Zero}}class yr{constructor(t){this.config=t,this.lastFrameContacts=new Map,this.idToContactConstraint=new Map}getContactConstraints(t){var e;return null!==(e=this.idToContactConstraint.get(t))&&void 0!==e?e:[]}solve(t){return this.preSolve(t),t=t.filter((t=>!t.isCanceled())),this.solveVelocity(t),this.solvePosition(t),this.postSolve(t),t}preSolve(t){var e,n,i;const r=1e-4;for(const o of t){if(Math.abs(o.mtv.x)<r&&Math.abs(o.mtv.y)<r){o.cancel();continue}const t=T.fromDirection(o.mtv);o.colliderA.events.emit("precollision",new me(o.colliderA,o.colliderB,t,o.mtv,o)),o.colliderA.events.emit("beforecollisionresolve",new _e(o.colliderA,o.colliderB,t,o.mtv,o)),o.colliderB.events.emit("precollision",new me(o.colliderB,o.colliderA,T.getOpposite(t),o.mtv.negate(),o)),o.colliderB.events.emit("beforecollisionresolve",new _e(o.colliderB,o.colliderA,T.getOpposite(t),o.mtv.negate(),o)),o.matchAwake()}const s=Array.from(this.idToContactConstraint.keys());for(const o of t){const t=s.indexOf(o.id);t>-1&&s.splice(t,1);const r=null!==(e=this.idToContactConstraint.get(o.id))&&void 0!==e?e:[];let a=0;const l=o.colliderA.owner.get(Un),c=o.colliderB.owner.get(Un);if(l&&c)for(const e of o.points){const t=o.normal,s=o.tangent,h=e.sub(l.globalPos),d=e.sub(c.globalPos),u=h.cross(t),p=d.cross(t),f=l.inverseMass+c.inverseMass+l.inverseInertia*u*u+c.inverseInertia*p*p,g=h.cross(s),m=d.cross(s),v=l.inverseMass+c.inverseMass+l.inverseInertia*g*g+c.inverseInertia*m*m;r[a]&&(null===(i=null===(n=r[a])||void 0===n?void 0:n.point)||void 0===i?void 0:i.squareDistance(e))<4?(r[a].point=e,r[a].local=o.localPoints[a]):r[a]=new vr(e,o.localPoints[a],o),r[a].aToContact=h,r[a].bToContact=d,r[a].normalMass=1/f,r[a].tangentMass=1/v;const y=l.bounciness>c.bounciness?l.bounciness:c.bounciness,x=o.normal.dot(r[a].getRelativeVelocity());r[a].originalVelocityAndRestitution=0,x<-.1&&(r[a].originalVelocityAndRestitution=-y*x),a++}this.idToContactConstraint.set(o.id,r)}for(const o of s)this.idToContactConstraint.delete(o);if(this.config.warmStart)this.warmStart(t);else for(const o of t){const t=this.getContactConstraints(o.id);for(const e of t)e.normalImpulse=0,e.tangentImpulse=0}}postSolve(t){for(const e of t){const t=e.colliderA.owner.get(Un),n=e.colliderB.owner.get(Un);if(t&&n){if(t.collisionType===Ze.Passive||n.collisionType===Ze.Passive)continue;t.updateMotion(),n.updateMotion()}const i=T.fromDirection(e.mtv);e.colliderA.events.emit("postcollision",new ve(e.colliderA,e.colliderB,i,e.mtv,e)),e.colliderA.events.emit("aftercollisionresolve",new be(e.colliderA,e.colliderB,i,e.mtv,e)),e.colliderB.events.emit("postcollision",new ve(e.colliderB,e.colliderA,T.getOpposite(i),e.mtv.negate(),e)),e.colliderB.events.emit("aftercollisionresolve",new be(e.colliderB,e.colliderA,T.getOpposite(i),e.mtv.negate(),e))}this.lastFrameContacts.clear();for(const e of t)this.lastFrameContacts.set(e.id,e)}warmStart(t){var e,n,i;for(const r of t){const t=null===(e=r.colliderA.owner)||void 0===e?void 0:e.get(Un),s=null===(n=r.colliderB.owner)||void 0===n?void 0:n.get(Un);if(t&&s){const e=null!==(i=this.idToContactConstraint.get(r.id))&&void 0!==i?i:[];for(const n of e)if(this.config.warmStart){const e=r.normal.scale(n.normalImpulse),i=r.tangent.scale(n.tangentImpulse),o=e.add(i);t.applyImpulse(n.point,o.negate()),s.applyImpulse(n.point,o)}else n.normalImpulse=0,n.tangentImpulse=0}}}solvePosition(t){var e,n,i;for(let r=0;r<this.config.positionIterations;r++)for(const s of t){const t=null===(e=s.colliderA.owner)||void 0===e?void 0:e.get(Un),r=null===(n=s.colliderB.owner)||void 0===n?void 0:n.get(Un);if(t&&r){if(t.collisionType===Ze.Passive||r.collisionType===Ze.Passive)continue;const e=null!==(i=this.idToContactConstraint.get(s.id))&&void 0!==i?i:[];for(const n of e){const e=s.normal,i=Fn.FindContactSeparation(s,n.local),o=-5,a=m(this.config.steeringFactor*(i+this.config.slop),o,0),l=e.scale(-a*n.normalMass);if(t.collisionType===Ze.Active){const e=l.negate().scale(t.inverseMass);t.limitDegreeOfFreedom.includes(Nn.X)&&(e.x=0),t.limitDegreeOfFreedom.includes(Nn.Y)&&(e.y=0),t.globalPos=t.globalPos.add(e),t.limitDegreeOfFreedom.includes(Nn.Rotation)||(t.rotation-=n.aToContact.cross(l)*t.inverseInertia)}if(r.collisionType===Ze.Active){const t=l.scale(r.inverseMass);r.limitDegreeOfFreedom.includes(Nn.X)&&(t.x=0),r.limitDegreeOfFreedom.includes(Nn.Y)&&(t.y=0),r.globalPos=r.globalPos.add(t),r.limitDegreeOfFreedom.includes(Nn.Rotation)||(r.rotation+=n.bToContact.cross(l)*r.inverseInertia)}}}}}solveVelocity(t){var e,n,i;for(let r=0;r<this.config.velocityIterations;r++)for(const s of t){const t=null===(e=s.colliderA.owner)||void 0===e?void 0:e.get(Un),r=null===(n=s.colliderB.owner)||void 0===n?void 0:n.get(Un);if(t&&r){if(t.collisionType===Ze.Passive||r.collisionType===Ze.Passive)continue;const e=Math.min(t.friction,r.friction),n=null!==(i=this.idToContactConstraint.get(s.id))&&void 0!==i?i:[];for(const i of n){let n=-i.getRelativeVelocity().dot(s.tangent)*i.tangentMass;const o=e*i.normalImpulse,a=m(i.tangentImpulse+n,-o,o);n=a-i.tangentImpulse,i.tangentImpulse=a;const l=s.tangent.scale(n);t.applyImpulse(i.point,l.negate()),r.applyImpulse(i.point,l)}for(const i of n){const e=i.getRelativeVelocity().dot(s.normal);let n=-i.normalMass*(e-i.originalVelocityAndRestitution);const o=Math.max(i.normalImpulse+n,0);n=o-i.normalImpulse,i.normalImpulse=o;const a=s.normal.scale(n);t.applyImpulse(i.point,a.negate()),r.applyImpulse(i.point,a)}}}}}class xr extends or{get _processor(){return this._physics.collisionProcessor}constructor(t,e){super(),this._physics=e,this.systemType=ir.Update,this.priority=nr.Higher,this._configDirty=!1,this._lastFrameContacts=new Map,this._currentFrameContacts=new Map,this._arcadeSolver=new mr(e.config.arcade),this._realisticSolver=new yr(e.config.realistic),this._physics.$configUpdate.subscribe((()=>this._configDirty=!0)),this._trackCollider=t=>this._processor.track(t),this._untrackCollider=t=>this._processor.untrack(t),this.query=t.query([hn,dn,zn]),this.query.entityAdded$.subscribe((t=>{const e=t.get(zn);e.$colliderAdded.subscribe(this._trackCollider),e.$colliderRemoved.subscribe(this._untrackCollider);const n=e.get();n&&this._processor.track(n)})),this.query.entityRemoved$.subscribe((t=>{const e=t.get(zn),n=e.get();e&&n&&this._processor.untrack(n)}))}initialize(t,e){this._engine=e.engine}update(t){var e,n,i,r;if(!this._physics.config.enabled)return;let s=[];for(const l of this.query.entities){const t=l.get(zn),n=null===t||void 0===t?void 0:t.get();if(t&&(null===(e=t.owner)||void 0===e?void 0:e.active)&&n)if(t.update(),n instanceof kn){const t=n.getColliders();n.compositeStrategy||(n.compositeStrategy=this._physics.config.colliders.compositeStrategy),s=s.concat(t)}else s.push(n)}this._processor.update(s);const o=this._processor.broadphase(s,t);this._currentFrameContacts.clear();let a=this._processor.narrowphase(o,null===(r=null===(i=null===(n=this._engine)||void 0===n?void 0:n.debug)||void 0===i?void 0:i.stats)||void 0===r?void 0:r.currFrame);a=this.getSolver().solve(a);for(const l of a){if(l.isCanceled())continue;const t=l.id.indexOf("|");if(t>0){const e=l.id.substring(t+1);this._currentFrameContacts.set(e,l)}else this._currentFrameContacts.set(l.id,l)}this.runContactStartEnd(),this._lastFrameContacts.clear(),this._lastFrameContacts=new Map(this._currentFrameContacts);for(const l of this.query.entities){const t=l.get(zn);t&&t.processColliderRemoval()}}getSolver(){return this._configDirty&&(this._configDirty=!1,this._arcadeSolver=new mr(this._physics.config.arcade),this._realisticSolver=new yr(this._physics.config.realistic)),this._physics.config.solver===$e.Realistic?this._realisticSolver:this._arcadeSolver}debug(t){this._processor.debug(t)}runContactStartEnd(){for(const[t,e]of this._currentFrameContacts)if(!this._lastFrameContacts.has(t)){const t=e.colliderA,n=e.colliderB,i=T.fromDirection(e.mtv),r=T.getOpposite(i);t.events.emit("collisionstart",new we(t,n,i,e)),t.events.emit("contactstart",new ye(t,n,i,e)),n.events.emit("collisionstart",new we(n,t,r,e)),n.events.emit("contactstart",new ye(n,t,r,e))}for(const[t,e]of this._lastFrameContacts)if(!this._currentFrameContacts.has(t)){const t=e.colliderA,n=e.colliderB,i=T.fromDirection(e.mtv),r=T.getOpposite(i);t.events.emit("collisionend",new Ae(t,n,i,e)),t.events.emit("contactend",new xe(t,n,i,e)),n.events.emit("collisionend",new Ae(n,t,r,e)),n.events.emit("contactend",new xe(n,t,r,e))}}}function _r(t){return class extends t{assign(t){for(const e in t)"function"!==typeof this[e]&&(this[e]=t[e])}constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];super(...e);const i=e.filter((function(t){return void 0!==t})).length;1!==i||!e[0]||"object"!==typeof e[0]||e[0]instanceof Array||this.assign(e[0])}}}!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(rr||(rr={}));class br extends Xn{constructor(t,e,n,i,r,s,o,a,l,c,h){super(),this.position=new A(0,0),this.velocity=new A(0,0),this.acceleration=new A(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=C.White,this.endColor=C.White,this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=C.White,this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0,this.visible=!0,this.isOffscreen=!1;let d=t;if(d&&!(t instanceof Ar)){const u=t;d=u.emitter,e=u.life,n=u.opacity,r=u.endColor,i=u.beginColor,s=u.position,o=u.velocity,a=u.acceleration,l=u.startSize,c=u.endSize,h=u.particleSprite}if(this.emitter=d,this.life=e||this.life,this.opacity=n||this.opacity,this.endColor=r||this.endColor.clone(),this.beginColor=i||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.particleSprite=h,this.emitter.particleTransform===sr.Global){const t=this.emitter.transform.globalPos;this.position=(s||this.position).add(t),this.velocity=(o||this.velocity).rotate(this.emitter.transform.globalRotation)}else this.velocity=o||this.velocity,this.position=s||this.position;this.acceleration=a||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=l||0,this.endSize=c||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize),this.addComponent(this.transform=new hn),this.addComponent(this.graphics=new ti),this.transform.pos=this.position,this.transform.rotation=this.currentRotation,this.transform.scale=S(1,1),this.transform.z=this.emitter.z,this.particleSprite?(this.graphics.opacity=this.opacity,this.graphics.use(this.particleSprite)):(this.graphics.localBounds=B.fromDimension(this.particleSize,this.particleSize,A.Half),this.graphics.onPostDraw=t=>{t.save(),this.graphics.opacity=this.opacity;const e=this._currentColor.clone();e.a=1,t.debug.drawPoint(S(0,0),{color:e,size:this.particleSize}),t.restore()})}kill(){this.emitter.removeParticle(this)}update(t,e){if(this.life=this.life-e,this.elapsedMultiplier=this.elapsedMultiplier+e,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=m(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=m(this.sizeRate*e+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=m(this._currentColor.r+this._rRate*e,0,255),this._currentColor.g=m(this._currentColor.g+this._gRate*e,0,255),this._currentColor.b=m(this._currentColor.b+this._bRate*e,0,255),this._currentColor.a=m(this.opacity,1e-4,1),this.focus){const t=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(e/1e3);this.velocity=this.velocity.add(t)}else this.velocity=this.velocity.add(this.acceleration.scale(e/1e3));this.position=this.position.add(this.velocity.scale(e/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*e/1e3)%(2*Math.PI)),this.transform.pos=this.position,this.transform.rotation=this.currentRotation,this.transform.scale=S(1,1),this.graphics.opacity=this.opacity}}class wr extends(_r(br)){constructor(t,e,n,i,r,s,o,a,l,c,h){super(t,e,n,i,r,s,o,a,l,c,h)}}!function(t){t.Global="global",t.Local="local"}(sr||(sr={}));class Ar extends Di{get opacity(){return this.graphics.opacity}set opacity(t){this.graphics.opacity=t}get particleSprite(){return this._sprite}set particleSprite(t){t&&(this._sprite=t)}constructor(t){var e,n;super({width:null!==(e=t.width)&&void 0!==e?e:0,height:null!==(n=t.height)&&void 0!==n?n:0}),this._particlesToEmit=0,this.numParticles=0,this.isEmitting=!0,this.particles=[],this.deadParticles=[],this.minVel=0,this.maxVel=0,this.acceleration=new A(0,0),this.minAngle=0,this.maxAngle=0,this.emitRate=1,this.particleLife=2e3,this.fadeFlag=!1,this.focus=null,this.focusAccel=null,this.startSize=null,this.endSize=null,this.minSize=5,this.maxSize=5,this.beginColor=C.White,this.endColor=C.White,this._sprite=null,this.emitterType=rr.Rectangle,this.radius=0,this.particleRotationalVelocity=0,this.randomRotation=!1,this.particleTransform=sr.Global;const{x:i,y:r,z:s,pos:o,isEmitting:a,minVel:l,maxVel:c,acceleration:h,minAngle:d,maxAngle:p,emitRate:f,particleLife:g,opacity:m,fadeFlag:v,focus:y,focusAccel:x,startSize:_,endSize:b,minSize:w,maxSize:E,beginColor:k,endColor:T,particleSprite:P,emitterType:R,radius:I,particleRotationalVelocity:M,particleTransform:B,randomRotation:F,random:D}={...t};this.pos=null!==o&&void 0!==o?o:S(null!==i&&void 0!==i?i:0,null!==r&&void 0!==r?r:0),this.z=null!==s&&void 0!==s?s:0,this.isEmitting=null!==a&&void 0!==a?a:this.isEmitting,this.minVel=null!==l&&void 0!==l?l:this.minVel,this.maxVel=null!==c&&void 0!==c?c:this.maxVel,this.acceleration=null!==h&&void 0!==h?h:this.acceleration,this.minAngle=null!==d&&void 0!==d?d:this.minAngle,this.maxAngle=null!==p&&void 0!==p?p:this.maxAngle,this.emitRate=null!==f&&void 0!==f?f:this.emitRate,this.particleLife=null!==g&&void 0!==g?g:this.particleLife,this.opacity=null!==m&&void 0!==m?m:this.opacity,this.fadeFlag=null!==v&&void 0!==v?v:this.fadeFlag,this.focus=null!==y&&void 0!==y?y:this.focus,this.focusAccel=null!==x&&void 0!==x?x:this.focusAccel,this.startSize=null!==_&&void 0!==_?_:this.startSize,this.endSize=null!==b&&void 0!==b?b:this.endSize,this.minSize=null!==w&&void 0!==w?w:this.minSize,this.maxSize=null!==E&&void 0!==E?E:this.maxSize,this.beginColor=null!==k&&void 0!==k?k:this.beginColor,this.endColor=null!==T&&void 0!==T?T:this.endColor,this.particleSprite=null!==P&&void 0!==P?P:this.particleSprite,this.emitterType=null!==R&&void 0!==R?R:this.emitterType,this.radius=null!==I&&void 0!==I?I:this.radius,this.particleRotationalVelocity=null!==M&&void 0!==M?M:this.particleRotationalVelocity,this.randomRotation=null!==F&&void 0!==F?F:this.randomRotation,this.particleTransform=null!==B&&void 0!==B?B:this.particleTransform,this.body.collisionType=Ze.PreventCollision,this.random=null!==D&&void 0!==D?D:new u}removeParticle(t){this.deadParticles.push(t)}emitParticles(t){var e;for(let n=0;n<t;n++){const t=this._createParticle();this.particles.push(t),(null===(e=null===this||void 0===this?void 0:this.scene)||void 0===e?void 0:e.world)&&(this.particleTransform===sr.Global?this.scene.world.add(t):this.addChild(t))}}clearParticles(){this.particles.length=0}_createParticle(){let t=0,e=0;const n=b(this.minAngle,this.maxAngle,this.random),i=b(this.minVel,this.maxVel,this.random),r=this.startSize||b(this.minSize,this.maxSize,this.random),s=i*Math.cos(n),o=i*Math.sin(n);if(this.emitterType===rr.Rectangle)t=b(0,this.width,this.random),e=b(0,this.height,this.random);else if(this.emitterType===rr.Circle){const i=b(0,this.radius,this.random);t=i*Math.cos(n),e=i*Math.sin(n)}const a=new wr(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new A(t,e),new A(s,o),this.acceleration,this.startSize,this.endSize,this.particleSprite);return a.fadeFlag=this.fadeFlag,a.particleSize=r,a.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(a.currentRotation=b(0,2*Math.PI,this.random)),this.focus&&(a.focus=this.focus.add(new A(this.pos.x,this.pos.y)),a.focusAccel=this.focusAccel),a}update(t,e){var n;super.update(t,e),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(e/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit)));for(let i=0;i<this.deadParticles.length;i++)j(this.deadParticles[i],this.particles),(null===(n=null===this||void 0===this?void 0:this.scene)||void 0===n?void 0:n.world)&&this.scene.world.remove(this.deadParticles[i],!1);this.deadParticles.length=0}}function Sr(t,e,n,i){if(t.parent!==e.parent){const n=t.clone(),i=t.globalPos.clone(),r=t.globalScale.clone(),s=t.globalRotation;n.parent=e.parent,n.globalPos=i,n.globalScale=r,n.globalRotation=s,t=n}let r=e.pos,s=e.scale,o=e.rotation;r=e.pos.scale(n).add(t.pos.scale(1-n)),s=e.scale.scale(n).add(t.scale.scale(1-n));const a=(1-n)*Math.cos(t.rotation)+n*Math.cos(e.rotation),l=(1-n)*Math.sin(t.rotation)+n*Math.sin(e.rotation);o=Math.atan2(l,a);const c=null!==i&&void 0!==i?i:new on;return c.setTransform(r,o,s),c}class Cr extends or{get sortedTransforms(){return this._sortedTransforms}constructor(t){super(),this.world=t,this.systemType=ir.Draw,this.priority=nr.Average,this._token=0,this._sortedTransforms=[],this._zHasChanged=!1,this._zIndexUpdate=()=>{this._zHasChanged=!0},this._targetInterpolationTransform=new on,this.query=this.world.query([hn,ti]),this.query.entityAdded$.subscribe((t=>{const e=t.get(hn);this._sortedTransforms.push(e),e.zIndexChanged$.subscribe(this._zIndexUpdate),this._zHasChanged=!0})),this.query.entityRemoved$.subscribe((t=>{const e=t.get(hn);e.zIndexChanged$.unsubscribe(this._zIndexUpdate);const n=this._sortedTransforms.indexOf(e);n>-1&&this._sortedTransforms.splice(n,1)}))}initialize(t,e){this._camera=e.camera,this._engine=e.engine}preupdate(){this._graphicsContext=this._engine.graphicsContext,this._zHasChanged&&(this._sortedTransforms.sort(((t,e)=>t.z-e.z)),this._zHasChanged=!1)}update(t){let e;this._token++,Mi.checkAndClearCache(),this._graphicsContext.save(),this._camera&&this._camera.draw(this._graphicsContext);for(const n of this._sortedTransforms){const i=n.owner;if(i.hasTag("ex.offscreen"))continue;if(e=i.get(ti),!e.visible)continue;e.onPreTransformDraw&&e.onPreTransformDraw(this._graphicsContext,t),i.events.emit("pretransformdraw",new ne(this._graphicsContext,t,i)),n.coordPlane===Je.Screen&&this._graphicsContext.restore(),this._graphicsContext.save(),n.coordPlane===Je.Screen&&this._graphicsContext.translate(this._engine.screen.contentArea.left,this._engine.screen.contentArea.top),e.update(t,this._token);const r=i.get(zi);if(r){const t=A.One.sub(r.parallaxFactor),e=this._camera.drawPos.scale(t);this._graphicsContext.translate(e.x,e.y)}this._applyTransform(i),e.material&&(this._graphicsContext.material=e.material),e.onPreDraw&&e.onPreDraw(this._graphicsContext,t),i.events.emit("predraw",new te(this._graphicsContext,t,i));const s=i instanceof wr?i.opacity:1;this._graphicsContext.opacity*=e.opacity*s,this._drawGraphicsComponent(e,n),e.onPostDraw&&e.onPostDraw(this._graphicsContext,t),i.events.emit("postdraw",new ee(this._graphicsContext,t,i)),this._graphicsContext.restore(),n.coordPlane===Je.Screen&&(this._graphicsContext.save(),this._camera&&this._camera.draw(this._graphicsContext)),e.onPostTransformDraw&&e.onPostTransformDraw(this._graphicsContext,t),i.events.emit("posttransformdraw",new ie(this._graphicsContext,t,i))}this._graphicsContext.restore()}_drawGraphicsComponent(t,e){var n,i;if(t.visible){const r=t.flipHorizontal,s=t.flipVertical,o=t.current,a=null!==(n=t.currentOptions)&&void 0!==n?n:{};if(o){let n=t.anchor,l=t.offset,c=1,h=1;(null===a||void 0===a?void 0:a.anchor)&&(n=a.anchor),(null===a||void 0===a?void 0:a.offset)&&(l=a.offset);const d=e.globalScale;c*=o.scale.x*d.x,h*=o.scale.y*d.y;const u=-o.width*n.x+l.x*c,p=-o.height*n.y+l.y*h,f=o.flipHorizontal,g=o.flipVertical;if((r||s)&&(o.flipHorizontal=r?!f:f,o.flipVertical=s?!g:g),null===o||void 0===o||o.draw(this._graphicsContext,u,p),(r||s)&&(o.flipHorizontal=f,o.flipVertical=g),(null===(i=this._engine)||void 0===i?void 0:i.isDebug)&&this._engine.debug.graphics.showBounds){const t=S(u,p);if(o instanceof Jn)for(const e of o.members){let n,i=A.Zero;e instanceof Y?n=e:(n=e.graphic,i=e.offset),o.useAnchor?null===n||void 0===n||n.localBounds.translate(t.add(i)).draw(this._graphicsContext,this._engine.debug.graphics.boundsColor):null===n||void 0===n||n.localBounds.translate(i).draw(this._graphicsContext,this._engine.debug.graphics.boundsColor)}else null===o||void 0===o||o.localBounds.translate(t).draw(this._graphicsContext,this._engine.debug.graphics.boundsColor)}}}}_applyTransform(t){const e=t.getAncestors();for(const n of e){const t=null===n||void 0===n?void 0:n.get(hn),e=null===n||void 0===n?void 0:n.get(Un);let i=t.get();if(e&&this._engine.fixedUpdateFps&&e.__oldTransformCaptured&&e.enableFixedUpdateInterpolate){const n=this._engine.currentFrameLagMs/(1e3/this._engine.fixedUpdateFps);i=Sr(e.oldTransform,t.get(),n,this._targetInterpolationTransform)}t&&(this._graphicsContext.z=t.z,this._graphicsContext.translate(i.pos.x,i.pos.y),this._graphicsContext.scale(i.scale.x,i.scale.y),this._graphicsContext.rotate(i.rotation))}}}class Er extends or{constructor(t){super(),this.world=t,this.systemType=ir.Draw,this.priority=nr.Lowest,this.query=this.world.query([hn])}initialize(t,e){this._graphicsContext=e.engine.graphicsContext,this._camera=e.camera,this._engine=e.engine,this._collisionSystem=t.systemManager.get(xr)}update(){var t;if(!this._engine.isDebug)return;const e=this._engine.debug.filter;let n,i;const r=this._engine.debug.entity;let s;const o=this._engine.debug.transform;let a;const l=this._engine.debug.motion;let c;const h=this._engine.debug.collider,d=this._engine.debug.physics;let u;const p=this._engine.debug.graphics;let f,g;const m=this._engine.debug.body,v=this._engine.debug.camera;for(const x of this.query.entities){if(x.hasTag("offscreen"))continue;if(x instanceof wr)continue;if(e.useFilter){if(!(0===e.ids.length||e.ids.includes(x.id)))continue;if(!(""===e.nameQuery||x.name.includes(e.nameQuery)))continue}let d=A.Zero;const v=S(0,16);if(n=x.id,i=x.name,s=x.get(hn),this._pushCameraTransform(s),this._graphicsContext.save(),s.coordPlane===Je.Screen&&this._graphicsContext.translate(this._engine.screen.contentArea.left,this._engine.screen.contentArea.top),this._graphicsContext.z=o.debugZIndex,this._applyTransform(x),s&&((o.showAll||o.showPosition)&&this._graphicsContext.debug.drawPoint(A.Zero,{size:4,color:o.positionColor}),(o.showAll||o.showPositionLabel)&&(this._graphicsContext.debug.drawText("pos".concat(s.pos.toString(2)),d),d=d.add(v)),(o.showAll||o.showZIndex)&&(this._graphicsContext.debug.drawText("z(".concat(s.z.toFixed(1),")"),d),d=d.add(v)),(r.showAll||r.showId)&&(this._graphicsContext.debug.drawText("id(".concat(n,") ").concat(x.parent?"child of id("+(null===(t=x.parent)||void 0===t?void 0:t.id)+")":""),d),d=d.add(v)),(r.showAll||r.showName)&&(this._graphicsContext.debug.drawText("name(".concat(i,")"),d),d=d.add(v)),(o.showAll||o.showRotation)&&(this._graphicsContext.drawLine(A.Zero,A.fromAngle(s.rotation).scale(50).add(A.Zero),o.rotationColor,2),this._graphicsContext.debug.drawText("rot deg(".concat(y(s.rotation).toFixed(2),")"),d),d=d.add(v)),(o.showAll||o.showScale)&&this._graphicsContext.drawLine(A.Zero,s.scale.add(A.Zero),o.scaleColor,2)),u=x.get(ti),u&&(p.showAll||p.showBounds)){u.localBounds.draw(this._graphicsContext,p.boundsColor)}if(f=x.get(Ni),f&&(f.useTransform||this._graphicsContext.restore(),f.draw(this._graphicsContext,this._engine.debug),f.useTransform||(this._graphicsContext.save(),this._applyTransform(x))),g=x.get(Un),g&&((m.showAll||m.showCollisionGroup)&&(this._graphicsContext.debug.drawText("collision group(".concat(g.group.name,")"),d),d=d.add(v)),(m.showAll||m.showCollisionType)&&(this._graphicsContext.debug.drawText("collision type(".concat(g.collisionType,")"),d),d=d.add(v)),(m.showAll||m.showMass)&&(this._graphicsContext.debug.drawText("mass(".concat(g.mass,")"),d),d=d.add(v)),(m.showAll||m.showMotion)&&(this._graphicsContext.debug.drawText("motion(".concat(g.sleepMotion,")"),d),d=d.add(v)),(m.showAll||m.showSleeping)&&(this._graphicsContext.debug.drawText("sleeping(".concat(g.canSleep?g.sleeping:"cant sleep",")"),d),d=d.add(v))),this._graphicsContext.restore(),this._graphicsContext.save(),s.coordPlane===Je.Screen&&this._graphicsContext.translate(this._engine.screen.contentArea.left,this._engine.screen.contentArea.top),this._graphicsContext.z=o.debugZIndex,a=x.get(dn),a&&((l.showAll||l.showVelocity)&&(this._graphicsContext.debug.drawText("vel".concat(a.vel.toString(2)),d.add(s.globalPos)),this._graphicsContext.drawLine(s.globalPos,s.globalPos.add(a.vel),l.velocityColor,2),d=d.add(v)),(l.showAll||l.showAcceleration)&&this._graphicsContext.drawLine(s.globalPos,s.globalPos.add(a.acc),l.accelerationColor,2)),c=x.get(zn),c){const t=c.get();if((h.showAll||h.showGeometry)&&t&&t.debug(this._graphicsContext,h.geometryColor,{lineWidth:h.geometryLineWidth,pointSize:h.geometryPointSize}),h.showAll||h.showBounds)if(t instanceof kn){const e=t.getColliders();for(const t of e){const e=t.bounds,n=S(e.left,e.top);this._graphicsContext.debug.drawRect(n.x,n.y,e.width,e.height,{color:h.boundsColor}),(h.showAll||h.showOwner)&&this._graphicsContext.debug.drawText("owner id(".concat(t.owner.id,")"),n)}c.bounds.draw(this._graphicsContext,h.boundsColor)}else if(t){const t=c.bounds,e=S(t.left,t.top);this._graphicsContext.debug.drawRect(e.x,e.y,t.width,t.height,{color:h.boundsColor}),(h.showAll||h.showOwner)&&this._graphicsContext.debug.drawText("owner id(".concat(c.owner.id,")"),e)}}this._graphicsContext.restore(),this._popCameraTransform(s)}if(this._graphicsContext.save(),this._camera.draw(this._graphicsContext),(d.showAll||d.showBroadphaseSpacePartitionDebug)&&this._collisionSystem.debug(this._graphicsContext),d.showAll||d.showCollisionContacts||d.showCollisionNormals)for(const[y,x]of this._engine.debug.stats.currFrame.physics.contacts){if(d.showAll||d.showCollisionContacts)for(const t of x.points)this._graphicsContext.debug.drawPoint(t,{size:d.contactSize,color:d.collisionContactColor});if(d.showAll||d.showCollisionNormals)for(const t of x.points)this._graphicsContext.debug.drawLine(t,x.normal.scale(30).add(t),{color:d.collisionNormalColor})}this._graphicsContext.restore(),v&&(this._graphicsContext.save(),this._camera.draw(this._graphicsContext),(v.showAll||v.showFocus)&&this._graphicsContext.drawCircle(this._camera.pos,4,v.focusColor),(v.showAll||v.showZoom)&&this._graphicsContext.debug.drawText("zoom(".concat(this._camera.zoom,")"),this._camera.pos),this._graphicsContext.restore()),this._graphicsContext.flush()}postupdate(t,e){this._engine.isDebug&&(this._graphicsContext.save(),this._camera&&this._camera.draw(this._graphicsContext),jn.flush(this._graphicsContext),this._graphicsContext.restore())}_applyTransform(t){const e=t.getAncestors();for(const n of e){const t=null===n||void 0===n?void 0:n.get(hn);t&&(this._graphicsContext.translate(t.pos.x,t.pos.y),this._graphicsContext.scale(t.scale.x,t.scale.y),this._graphicsContext.rotate(t.rotation))}}_pushCameraTransform(t){t.coordPlane===Je.World&&(this._graphicsContext.save(),this._camera&&this._camera.draw(this._graphicsContext))}_popCameraTransform(t){t.coordPlane===Je.World&&this._graphicsContext.restore()}}class kr extends or{constructor(t){super(),this.world=t,this.systemType=ir.Update,this.priority=nr.Higher,this.overrideUseColliderShape=!1,this.overrideUseGraphicsBounds=!1,this.lastFrameEntityToPointers=new Map,this.currentFrameEntityToPointers=new Map,this._sortedTransforms=[],this._sortedEntities=[],this._zHasChanged=!1,this._zIndexUpdate=()=>{this._zHasChanged=!0},this.query=this.world.query([hn,ii]),this.query.entityAdded$.subscribe((t=>{const e=t.get(hn);this._sortedTransforms.push(e),this._sortedEntities.push(e.owner),e.zIndexChanged$.subscribe(this._zIndexUpdate),this._zHasChanged=!0})),this.query.entityRemoved$.subscribe((t=>{const e=t.get(hn);e.zIndexChanged$.unsubscribe(this._zIndexUpdate);const n=this._sortedTransforms.indexOf(e);n>-1&&(this._sortedTransforms.splice(n,1),this._sortedEntities.splice(n,1))}))}initialize(t,e){this._engine=e.engine,this._scene=e}preupdate(){this._receivers=[this._engine.input.pointers,this._scene.input.pointers],this._engineReceiver=this._engine.input.pointers,this._zHasChanged&&(this._sortedTransforms.sort(((t,e)=>e.z-t.z)),this._sortedEntities=this._sortedTransforms.map((t=>t.owner)),this._zHasChanged=!1)}entityCurrentlyUnderPointer(t,e){return this.currentFrameEntityToPointers.has(t.id)&&this.currentFrameEntityToPointers.get(t.id).includes(e)}entityWasUnderPointer(t,e){return this.lastFrameEntityToPointers.has(t.id)&&this.lastFrameEntityToPointers.get(t.id).includes(e)}entered(t,e){return this.entityCurrentlyUnderPointer(t,e)&&!this.lastFrameEntityToPointers.has(t.id)}left(t,e){return!this.currentFrameEntityToPointers.has(t.id)&&this.entityWasUnderPointer(t,e)}addPointerToEntity(t,e){if(!this.currentFrameEntityToPointers.has(t.id))return void this.currentFrameEntityToPointers.set(t.id,[e]);const n=this.currentFrameEntityToPointers.get(t.id);this.currentFrameEntityToPointers.set(t.id,n.concat(e))}update(){this._processPointerToEntity(this._sortedEntities),this._dispatchEvents(this._sortedEntities),this._receivers.forEach((t=>t.update())),this.lastFrameEntityToPointers.clear(),this.lastFrameEntityToPointers=new Map(this.currentFrameEntityToPointers),this.currentFrameEntityToPointers.clear(),this._receivers.forEach((t=>t.clear()))}_processPointerToEntity(t){var e;let n,i,r,s;const o=this._engineReceiver;for(const a of t){if(n=a.get(hn),s=null!==(e=a.get(ii))&&void 0!==e?e:new ii,s.localBounds){const t=s.localBounds.transform(n.get().matrix);for(const[e,i]of o.currentFramePointerCoords.entries())t.contains(n.coordPlane===Je.World?i.worldPos:i.screenPos)&&this.addPointerToEntity(a,e)}if(i=a.get(zn),i&&(s.useColliderShape||this.overrideUseColliderShape)){i.update();const t=i.get();if(t)for(const[e,i]of o.currentFramePointerCoords.entries())t.contains(n.coordPlane===Je.World?i.worldPos:i.screenPos)&&this.addPointerToEntity(a,e)}if(r=a.get(ti),r&&(s.useGraphicsBounds||this.overrideUseGraphicsBounds)){const t=r.localBounds.transform(n.get().matrix);for(const[e,i]of o.currentFramePointerCoords.entries())t.contains(n.coordPlane===Je.World?i.worldPos:i.screenPos)&&this.addPointerToEntity(a,e)}}}_processDownAndEmit(t){const e=this._engineReceiver,n=new Map;for(const i of e.currentFrameDown)i.active&&t.active&&this.entityCurrentlyUnderPointer(t,i.pointerId)&&(t.events.emit("pointerdown",i),e.isDragStart(i.pointerId)&&t.events.emit("pointerdragstart",i)),n.set(i.pointerId,i);return n}_processUpAndEmit(t){const e=this._engineReceiver,n=new Map;for(const i of e.currentFrameUp)i.active&&t.active&&this.entityCurrentlyUnderPointer(t,i.pointerId)&&(t.events.emit("pointerup",i),e.isDragEnd(i.pointerId)&&t.events.emit("pointerdragend",i)),n.set(i.pointerId,i);return n}_processMoveAndEmit(t){const e=this._engineReceiver,n=new Map;for(const i of e.currentFrameMove)i.active&&t.active&&this.entityCurrentlyUnderPointer(t,i.pointerId)&&(t.events.emit("pointermove",i),e.isDragging(i.pointerId)&&t.events.emit("pointerdragmove",i)),n.set(i.pointerId,i);return n}_processEnterLeaveAndEmit(t,e){const n=this._engineReceiver;for(const i of e){if(i.active&&t.active&&this.entered(t,i.pointerId)){t.events.emit("pointerenter",i),n.isDragging(i.pointerId)&&t.events.emit("pointerdragenter",i);break}if(i.active&&t.active&&(this.left(t,i.pointerId)||this.entityCurrentlyUnderPointer(t,i.pointerId)&&"up"===i.type)){t.events.emit("pointerleave",i),n.isDragging(i.pointerId)&&t.events.emit("pointerdragleave",i);break}}}_processCancelAndEmit(t){const e=this._engineReceiver;for(const n of e.currentFrameCancel)n.active&&t.active&&this.entityCurrentlyUnderPointer(t,n.pointerId)&&t.events.emit("pointercancel",n)}_processWheelAndEmit(t){const e=this._engineReceiver;for(const n of e.currentFrameWheel)n.active&&t.active&&this.entityCurrentlyUnderPointer(t,0)&&t.events.emit("pointerwheel",n)}_dispatchEvents(t){const e=new Set(this.lastFrameEntityToPointers.keys()),n=new Set(this.currentFrameEntityToPointers.keys()),i=t.filter((t=>e.has(t.id)||n.has(t.id)));let r,s,o;for(const a of i){o=this._processDownAndEmit(a),s=this._processUpAndEmit(a),r=this._processMoveAndEmit(a);const t=[...r.values(),...o.values(),...s.values()];this._processEnterLeaveAndEmit(a,t),this._processCancelAndEmit(a),this._processWheelAndEmit(a)}}}class Tr extends or{constructor(t){super(),this.world=t,this.systemType=ir.Update,this.priority=nr.Higher,this._actions=[],this.query=this.world.query([Ri]),this.query.entityAdded$.subscribe((t=>this._actions.push(t.get(Ri)))),this.query.entityRemoved$.subscribe((t=>{const e=t.get(Ri),n=this._actions.indexOf(e);n>-1&&this._actions.splice(n,1)}))}update(t){for(const e of this._actions)e.update(t)}}class Pr extends ln{constructor(t){super(),this.elevation=0,this.columns=t.columns,this.rows=t.rows,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight}}class Rr extends or{constructor(t){super(),this.world=t,this.systemType=ir.Update,this.priority=nr.Lower,this.query=this.world.query([hn,Pr])}update(){let t,e;for(const n of this.query.entities){t=n.get(hn),e=n.get(Pr);const i=Math.max(e.columns*e.tileWidth,e.rows*e.tileHeight)*e.elevation+t.pos.y;t.z=i}}}class Ir extends or{constructor(t){super(),this.world=t,this.systemType=ir.Draw,this.priority=nr.Higher,this.query=this.world.query([hn,ti])}initialize(t,e){this._camera=e.camera,this._screen=e.engine.screen}update(){let t,e,n;this._worldBounds=this._screen.getWorldBounds();for(const i of this.query.entities){let r;if(e=i.get(ti),t=i.get(hn),n=i.get(zi),n){const t=A.One.sub(n.parallaxFactor);r=this._camera.pos.scale(t)}const s=this._isOffscreen(t,e,r);s&&!i.hasTag("ex.offscreen")&&(i.events.emit("exitviewport",new ke(i)),i.addTag("ex.offscreen")),!s&&i.hasTag("ex.offscreen")&&(i.events.emit("enterviewport",new Te(i)),i.removeTag("ex.offscreen"))}}_isOffscreen(t,e,n){if(t.coordPlane===Je.World){let i=e.localBounds;n&&(i=i.translate(n));const r=i.transform(t.get().matrix);return!this._worldBounds.overlaps(r)}return!1}}class Mr{get config(){return t=this._config,e=t=>{this.$configUpdate.notifyAll(t)},t&&void 0===t.__isProxy?new Proxy(t,Q([],e,t)):t;var t,e}set config(t){this._config=t,this.$configUpdate.notifyAll(t)}get collisionProcessor(){if(this._configDirty){this._configDirty=!1;const t=this._collisionProcessor.getColliders();this._collisionProcessor=new xn(this._config);for(const e of t)this._collisionProcessor.track(e)}return this._collisionProcessor}constructor(t){this.$configUpdate=new cn,this._configDirty=!1,this.config=t,this.$configUpdate.subscribe((t=>{this._configDirty=!0,Un.updateDefaultPhysicsConfig(t.bodies)})),this._collisionProcessor=new xn(this.config)}rayCast(t,e){return this.collisionProcessor.rayCast(t,e)}}class Br{constructor(){this.events=new h,this.enabled=!1,this.supported=!!navigator.getGamepads,this._gamePadTimeStamps=[0,0,0,0],this._oldPads=[],this._pads=[],this._initSuccess=!1,this._navigator=navigator,this._minimumConfiguration=null,this._enabled=!0}init(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))}toggleEnabled(t){this._enabled=t}setMinimumGamepadConfiguration(t){this._enableAndUpdate(),this._minimumConfiguration=t}_enableAndUpdate(){this.enabled||(this.enabled=!0,this.update())}_isGamepadValid(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;const e=t.axes.filter((t=>void 0!==typeof t)).length,n=t.buttons.filter((t=>void 0!==typeof t)).length;return e>=this._minimumConfiguration.axis&&n>=this._minimumConfiguration.buttons&&t.connected}emit(t,e){this.events.emit(t,e)}on(t,e){return this._enableAndUpdate(),this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this._enableAndUpdate(),this.events.off(t,e)}update(){if(!this.enabled||!this.supported)return;if(!this._enabled)return;this.init();const t=this._navigator.getGamepads();for(let e=0;e<t.length;e++){if(!t[e]){const t=this.at(e);t.connected&&this.events.emit("disconnect",new de(e,t)),t.connected=!1;continue}if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.events.emit("connect",new he(e,this.at(e))),this.at(e).connected=!0,this.at(e).update(),t[e].timestamp&&t[e].timestamp===this._gamePadTimeStamps[e])continue;let n,i,r,s,o;for(n in this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e],Dr)i=Dr[n],"number"===typeof i&&t[e].buttons[i]&&(o=t[e].buttons[i].value,o!==this._oldPads[e].getButton(i)&&(t[e].buttons[i].pressed?(this.at(e).updateButton(i,o),this.at(e).events.emit("button",new ue(i,o,this.at(e)))):this.at(e).updateButton(i,0)));for(r in jr)s=jr[r],"number"===typeof s&&(o=t[e].axes[s],o!==this._oldPads[e].getAxes(s)&&(this.at(e).updateAxes(s,o),this.at(e).events.emit("axis",new pe(s,o,this.at(e)))));this._oldPads[e]=this._clonePad(t[e])}}at(t){if(this._enableAndUpdate(),t>=this._pads.length)for(let e=this._pads.length-1,n=t;e<n;e++)this._pads.push(new Fr),this._oldPads.push(new Fr);return this._pads[t]}getValidGamepads(){this._enableAndUpdate();const t=[];for(let e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t}count(){return this._pads.filter((t=>t.connected)).length}_clonePads(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(this._clonePad(t[n]));return e}_clonePad(t){let e,n;const i=new Fr;if(!t)return i;for(e=0,n=t.buttons.length;e<n;e++)t.buttons[e]&&i.updateButton(e,t.buttons[e].value);for(e=0,n=t.axes.length;e<n;e++)i.updateAxes(e,t.axes[e]);return i}}Br.MinAxisMoveThreshold=.05;class Fr{constructor(){this.events=new h,this.connected=!1,this._axes=new Array(4),this._buttons=new Array(16),this._buttonsUp=new Array(16),this._buttonsDown=new Array(16);for(let t=0;t<this._buttons.length;t++)this._buttons[t]=0;for(let t=0;t<this._axes.length;t++)this._axes[t]=0}update(){this._buttonsDown=new Array(16),this._buttonsUp=new Array(16)}isButtonPressed(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._buttons[t]>=e}isButtonHeld(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._buttons[t]>=e}wasButtonPressed(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._buttonsDown[t]>=e}wasButtonReleased(t){return Boolean(this._buttonsUp[t])}getButton(t){return this._buttons[t]}getAxes(t){const e=this._axes[t];return Math.abs(e)<Br.MinAxisMoveThreshold?0:e}updateButton(t,e){0===e&&this._buttons[t]?this._buttonsUp[t]=1:this._buttonsDown[t]=e,this._buttons[t]=e}updateAxes(t,e){this._axes[t]=e}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}}var Dr,jr,Or;!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(Dr||(Dr={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}(jr||(jr={}));class Lr{constructor(t){this.inputs=t,this._handlers=new Map}execute(){for(const[t,e]of this._handlers.entries()){const n=t(this.inputs);n&&e(n)}}on(t,e){this._handlers.set(t,e)}}function zr(){try{const t=()=>{};window.top.addEventListener("blur",t),window.top.removeEventListener("blur",t)}catch(t){return!0}return!1}!function(t){t.Num0="Numpad0",t.Num1="Numpad1",t.Num2="Numpad2",t.Num3="Numpad3",t.Num4="Numpad4",t.Num5="Numpad5",t.Num6="Numpad6",t.Num7="Numpad7",t.Num8="Numpad8",t.Num9="Numpad9",t.NumAdd="NumpadAdd",t.NumSubtract="NumpadSubtract",t.NumMultiply="NumpadMultiply",t.NumDivide="NumpadDivide",t.NumDecimal="NumpadDecimal",t.Numpad0="Numpad0",t.Numpad1="Numpad1",t.Numpad2="Numpad2",t.Numpad3="Numpad3",t.Numpad4="Numpad4",t.Numpad5="Numpad5",t.Numpad6="Numpad6",t.Numpad7="Numpad7",t.Numpad8="Numpad8",t.Numpad9="Numpad9",t.NumpadAdd="NumpadAdd",t.NumpadSubtract="NumpadSubtract",t.NumpadMultiply="NumpadMultiply",t.NumpadDivide="NumpadDivide",t.NumpadDecimal="NumpadDecimal",t.NumLock="NumLock",t.ShiftLeft="ShiftLeft",t.ShiftRight="ShiftRight",t.AltLeft="AltLeft",t.AltRight="AltRight",t.ControlLeft="ControlLeft",t.ControlRight="ControlRight",t.MetaLeft="MetaLeft",t.MetaRight="MetaRight",t.Key0="Digit0",t.Key1="Digit1",t.Key2="Digit2",t.Key3="Digit3",t.Key4="Digit4",t.Key5="Digit5",t.Key6="Digit6",t.Key7="Digit7",t.Key8="Digit8",t.Key9="Digit9",t.Digit0="Digit0",t.Digit1="Digit1",t.Digit2="Digit2",t.Digit3="Digit3",t.Digit4="Digit4",t.Digit5="Digit5",t.Digit6="Digit6",t.Digit7="Digit7",t.Digit8="Digit8",t.Digit9="Digit9",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.A="KeyA",t.B="KeyB",t.C="KeyC",t.D="KeyD",t.E="KeyE",t.F="KeyF",t.G="KeyG",t.H="KeyH",t.I="KeyI",t.J="KeyJ",t.K="KeyK",t.L="KeyL",t.M="KeyM",t.N="KeyN",t.O="KeyO",t.P="KeyP",t.Q="KeyQ",t.R="KeyR",t.S="KeyS",t.T="KeyT",t.U="KeyU",t.V="KeyV",t.W="KeyW",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t.KeyA="KeyA",t.KeyB="KeyB",t.KeyC="KeyC",t.KeyD="KeyD",t.KeyE="KeyE",t.KeyF="KeyF",t.KeyG="KeyG",t.KeyH="KeyH",t.KeyI="KeyI",t.KeyJ="KeyJ",t.KeyK="KeyK",t.KeyL="KeyL",t.KeyM="KeyM",t.KeyN="KeyN",t.KeyO="KeyO",t.KeyP="KeyP",t.KeyQ="KeyQ",t.KeyR="KeyR",t.KeyS="KeyS",t.KeyT="KeyT",t.KeyU="KeyU",t.KeyV="KeyV",t.KeyW="KeyW",t.KeyX="KeyX",t.KeyY="KeyY",t.KeyZ="KeyZ",t.Semicolon="Semicolon",t.Quote="Quote",t.Comma="Comma",t.Minus="Minus",t.Period="Period",t.Slash="Slash",t.Equal="Equal",t.BracketLeft="BracketLeft",t.Backslash="Backslash",t.BracketRight="BracketRight",t.Backquote="Backquote",t.Up="ArrowUp",t.Down="ArrowDown",t.Left="ArrowLeft",t.Right="ArrowRight",t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.Space="Space",t.Backspace="Backspace",t.Delete="Delete",t.Esc="Escape",t.Escape="Escape",t.Enter="Enter",t.NumpadEnter="NumpadEnter",t.ContextMenu="ContextMenu"}(Or||(Or={}));class Nr extends Qt{constructor(t,e,n){super(),this.key=t,this.value=e,this.originalEvent=n}}class Ur{constructor(){this.events=new h,this._enabled=!0,this._keys=[],this._keysUp=[],this._keysDown=[],this._releaseAllKeys=t=>{for(const e of this._keys){const n=new Nr(e,t.key,t);this.events.emit("up",n),this.events.emit("release",n)}this._keysUp=Array.from(new Set(this._keys.concat(this._keysUp))),this._keys.length=0},this._handleKeyDown=t=>{if(!this._enabled)return;t.metaKey||!this._keys.includes(Or.MetaLeft)&&!this._keys.includes(Or.MetaRight)||this._releaseAllKeys(t);const e=t.code;if(-1===this._keys.indexOf(e)){this._keys.push(e),this._keysDown.push(e);const n=new Nr(e,t.key,t);this.events.emit("down",n),this.events.emit("press",n)}},this._handleKeyUp=t=>{if(!this._enabled)return;const e=t.code,n=this._keys.indexOf(e);this._keys.splice(n,1),this._keysUp.push(e);const i=new Nr(e,t.key,t);this.events.emit("up",i),this.events.emit("release",i),"Meta"===t.key&&this._releaseAllKeys(t)}}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}init(t){let{global:e}=t;const{grabWindowFocus:n}=t;e||(zr()?(e=window,n&&window.focus(),R.getInstance().warn("Excalibur might be in a cross-origin iframe, in order to receive keyboard events it must be in focus")):e=window.top),e.addEventListener("blur",(()=>{this._keys.length=0})),e.addEventListener("keyup",this._handleKeyUp),e.addEventListener("keydown",this._handleKeyDown)}toggleEnabled(t){this._enabled=t}update(){this._keysDown.length=0,this._keysUp.length=0;for(let t=0;t<this._keys.length;t++)this.events.emit("hold",new Nr(this._keys[t]))}getKeys(){return this._keys}wasPressed(t){return this._keysDown.indexOf(t)>-1}isHeld(t){return this._keys.indexOf(t)>-1}wasReleased(t){return this._keysUp.indexOf(t)>-1}triggerEvent(t,e,n){"down"===t&&this._handleKeyDown(new KeyboardEvent("keydown",{code:e,key:null!==n&&void 0!==n?n:null})),"up"===t&&this._handleKeyUp(new KeyboardEvent("keyup",{code:e,key:null!==n&&void 0!==n?n:null}))}}class Hr{static fromPagePosition(t,e,n){let i,r,s,o;3===arguments.length?(i=t,r=e,s=new A(i,r),o=n):(s=t,i=s.x,r=s.y,o=e);const a=o.screen.pageToScreenCoordinates(s),l=o.screen.screenToWorldCoordinates(a);return new Hr(l,s,a)}constructor(t,e,n){this.worldPos=t,this.pagePos=e,this.screenPos=n}}class Wr{cancel(){this.active=!1}get pagePos(){return this.coordinates.pagePos}get screenPos(){return this.coordinates.screenPos}get worldPos(){return this.coordinates.worldPos}constructor(t,e,n,i,r,s){this.type=t,this.pointerId=e,this.button=n,this.pointerType=i,this.coordinates=r,this.nativeEvent=s,this.active=!0}}class Vr{cancel(){this.active=!1}constructor(t,e,n,i,r,s,o,a,l,c,h,d){this.x=t,this.y=e,this.pageX=n,this.pageY=i,this.screenX=r,this.screenY=s,this.index=o,this.deltaX=a,this.deltaY=l,this.deltaZ=c,this.deltaMode=h,this.ev=d,this.active=!0}}class Gr{constructor(){this.events=new h,this.lastPagePos=A.Zero,this.lastScreenPos=A.Zero,this.lastWorldPos=A.Zero,this._onPointerMove=t=>{this.lastPagePos=new A(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new A(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new A(t.worldPos.x,t.worldPos.y)},this._onPointerDown=t=>{this.lastPagePos=new A(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new A(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new A(t.worldPos.x,t.worldPos.y)},this.on("move",this._onPointerMove),this.on("down",this._onPointerDown)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}}var qr,Xr,Qr,Kr;!function(t){t.Pixel="Pixel",t.Line="Line",t.Page="Page"}(qr||(qr={})),function(t){t[t.NoButton=-1]="NoButton",t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(Xr||(Xr={})),function(t){t.Left="Left",t.Middle="Middle",t.Right="Right",t.Unknown="Unknown",t.NoButton="NoButton"}(Qr||(Qr={})),function(t){t.Touch="Touch",t.Mouse="Mouse",t.Pen="Pen",t.Unknown="Unknown"}(Kr||(Kr={}));class Yr{constructor(t,e){this.target=t,this.engine=e,this.events=new h,this.primary=new Gr,this._activeNativePointerIdsToNormalized=new Map,this.lastFramePointerCoords=new Map,this.currentFramePointerCoords=new Map,this.currentFramePointerDown=new Map,this.lastFramePointerDown=new Map,this.currentFrameDown=[],this.currentFrameUp=[],this.currentFrameMove=[],this.currentFrameCancel=[],this.currentFrameWheel=[],this._enabled=!0,this._pointers=[this.primary],this._boundHandle=this._handle.bind(this),this._boundWheel=this._handleWheel.bind(this)}toggleEnabled(t){this._enabled=t}recreate(t,e){const n=new Yr(t,e);return n.primary=this.primary,n._pointers=this._pointers,n}at(t){if(t>=this._pointers.length)for(let e=this._pointers.length-1,n=t;e<n;e++)this._pointers.push(new Gr);return this._pointers[t]}count(){return this._pointers.length}isDown(t){var e;return null!==(e=this.currentFramePointerDown.get(t))&&void 0!==e&&e}wasDown(t){var e;return null!==(e=this.lastFramePointerDown.get(t))&&void 0!==e&&e}isDragging(t){return this.isDown(t)}isDragStart(t){return this.isDown(t)&&!this.wasDown(t)}isDragEnd(t){return!this.isDown(t)&&this.wasDown(t)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}update(){this.lastFramePointerDown=new Map(this.currentFramePointerDown),this.lastFramePointerCoords=new Map(this.currentFramePointerCoords);for(const t of this.currentFrameDown){this.emit("down",t);this.at(t.pointerId).emit("down",t),this.primary.emit("pointerdown",t)}for(const t of this.currentFrameUp){this.emit("up",t);this.at(t.pointerId).emit("up",t)}for(const t of this.currentFrameMove){this.emit("move",t);this.at(t.pointerId).emit("move",t)}for(const t of this.currentFrameCancel){this.emit("cancel",t);this.at(t.pointerId).emit("cancel",t)}for(const t of this.currentFrameWheel)this.emit("wheel",t),this.primary.emit("pointerwheel",t),this.primary.emit("wheel",t)}clear(){for(const t of this.currentFrameUp){this.currentFramePointerCoords.delete(t.pointerId);const e=this._activeNativePointerIdsToNormalized.entries();for(const[n,i]of e)i===t.pointerId&&this._activeNativePointerIdsToNormalized.delete(n)}this.currentFrameDown.length=0,this.currentFrameUp.length=0,this.currentFrameMove.length=0,this.currentFrameCancel.length=0,this.currentFrameWheel.length=0}init(t){var e;if(this.engine.isDisposed())return;this.target===this.engine.canvas?this.engine.canvas.style.touchAction="none":document.body.style.touchAction="none",window.PointerEvent?(this.target.addEventListener("pointerdown",this._boundHandle),this.target.addEventListener("pointerup",this._boundHandle),this.target.addEventListener("pointermove",this._boundHandle),this.target.addEventListener("pointercancel",this._boundHandle)):(this.target.addEventListener("touchstart",this._boundHandle),this.target.addEventListener("touchend",this._boundHandle),this.target.addEventListener("touchmove",this._boundHandle),this.target.addEventListener("touchcancel",this._boundHandle),this.target.addEventListener("mousedown",this._boundHandle),this.target.addEventListener("mouseup",this._boundHandle),this.target.addEventListener("mousemove",this._boundHandle));const n={passive:!(this.engine.pageScrollPreventionMode===ws.All||this.engine.pageScrollPreventionMode===ws.Canvas)};"onwheel"in document.createElement("div")?this.target.addEventListener("wheel",this._boundWheel,n):void 0!==document.onmousewheel?this.target.addEventListener("mousewheel",this._boundWheel,n):this.target.addEventListener("MozMousePixelScroll",this._boundWheel,n);if((null===(e=null===t||void 0===t?void 0:t.grabWindowFocus)||void 0===e||e)&&zr()){const t=()=>{window.focus()};window.PointerEvent?this.target.addEventListener("pointerdown",t):(this.target.addEventListener("touchstart",t),this.target.addEventListener("mousedown",t))}}detach(){window.PointerEvent?(this.target.removeEventListener("pointerdown",this._boundHandle),this.target.removeEventListener("pointerup",this._boundHandle),this.target.removeEventListener("pointermove",this._boundHandle),this.target.removeEventListener("pointercancel",this._boundHandle)):(this.target.removeEventListener("touchstart",this._boundHandle),this.target.removeEventListener("touchend",this._boundHandle),this.target.removeEventListener("touchmove",this._boundHandle),this.target.removeEventListener("touchcancel",this._boundHandle),this.target.removeEventListener("mousedown",this._boundHandle),this.target.removeEventListener("mouseup",this._boundHandle),this.target.removeEventListener("mousemove",this._boundHandle)),"onwheel"in document.createElement("div")?this.target.removeEventListener("wheel",this._boundWheel):void 0!==document.onmousewheel?this.target.addEventListener("mousewheel",this._boundWheel):this.target.addEventListener("MozMousePixelScroll",this._boundWheel)}_normalizePointerId(t){this._activeNativePointerIdsToNormalized.set(t,-1);const e=Array.from(this._activeNativePointerIdsToNormalized.keys()).sort(((t,e)=>t-e)).findIndex((e=>e===t));return this._activeNativePointerIdsToNormalized.set(t,e),e}_handle(t){if(!this._enabled)return;t.preventDefault();const e=new Map;let n,i;if(function(t){return globalThis.TouchEvent&&t instanceof globalThis.TouchEvent}(t)){n=Qr.Unknown,i=Kr.Touch;for(let n=0;n<t.changedTouches.length;n++){const i=t.changedTouches[n],r=Hr.fromPagePosition(i.pageX,i.pageY,this.engine),s=n+1,o=this._normalizePointerId(s);this.currentFramePointerCoords.set(o,r),e.set(o,r)}}else{n=this._nativeButtonToPointerButton(t.button),i=Kr.Mouse;const r=Hr.fromPagePosition(t.pageX,t.pageY,this.engine);let s=1;(function(t){return globalThis.PointerEvent&&t instanceof globalThis.PointerEvent})(t)&&(s=t.pointerId,i=this._stringToPointerType(t.pointerType));const o=this._normalizePointerId(s);this.currentFramePointerCoords.set(o,r),e.set(o,r)}for(const[r,s]of e.entries())switch(t.type){case"mousedown":case"pointerdown":case"touchstart":this.currentFrameDown.push(new Wr("down",r,n,i,s,t)),this.currentFramePointerDown.set(r,!0);break;case"mouseup":case"pointerup":case"touchend":this.currentFrameUp.push(new Wr("up",r,n,i,s,t)),this.currentFramePointerDown.set(r,!1);break;case"mousemove":case"pointermove":case"touchmove":this.currentFrameMove.push(new Wr("move",r,n,i,s,t));break;case"touchcancel":case"pointercancel":this.currentFrameCancel.push(new Wr("cancel",r,n,i,s,t))}}_handleWheel(t){if(!this._enabled)return;(this.engine.pageScrollPreventionMode===ws.All||this.engine.pageScrollPreventionMode===ws.Canvas&&t.target===this.engine.canvas)&&t.preventDefault();const e=this.engine.screen.pageToScreenCoordinates(S(t.pageX,t.pageY)),n=this.engine.screen.screenToWorldCoordinates(e),i=-1/40,r=t.deltaX||t.wheelDeltaX*i||0,s=t.deltaY||t.wheelDeltaY*i||t.wheelDelta*i||t.detail||0,o=t.deltaZ||0;let a=qr.Pixel;t.deltaMode&&(1===t.deltaMode?a=qr.Line:2===t.deltaMode&&(a=qr.Page));const l=new Vr(n.x,n.y,t.pageX,t.pageY,e.x,e.y,0,r,s,o,a,t);this.currentFrameWheel.push(l)}triggerEvent(t,e){const n=this.engine.screen.worldToPageCoordinates(e);window.PointerEvent?this._handle(new window.PointerEvent("pointer"+t,{pointerId:0,clientX:n.x,clientY:n.y})):this._handle(new window.MouseEvent("mouse"+t,{clientX:n.x,clientY:n.y}));const i=this.engine.currentScene.world.get(kr);i.preupdate(this.engine.currentScene,1),i.update(1)}_nativeButtonToPointerButton(t){switch(t){case Xr.NoButton:return Qr.NoButton;case Xr.Left:return Qr.Left;case Xr.Middle:return Qr.Middle;case Xr.Right:return Qr.Right;case Xr.Unknown:return Qr.Unknown;default:return L(t)}}_stringToPointerType(t){switch(t){case"touch":return Kr.Touch;case"mouse":return Kr.Mouse;case"pen":return Kr.Pen;default:return Kr.Unknown}}}class Zr{constructor(t){this._enabled=!0;const{pointerTarget:e,grabWindowFocus:n,engine:i}=t;this.keyboard=new Ur,this.pointers=new Yr(e,i),this.gamepads=new Br,this.keyboard.init({grabWindowFocus:n}),this.pointers.init({grabWindowFocus:n}),this.gamepads.init(),this.inputMapper=new Lr({keyboard:this.keyboard,pointers:this.pointers,gamepads:this.gamepads})}get enabled(){return this._enabled}toggleEnabled(t){this._enabled=t,this.keyboard.toggleEnabled(this._enabled),this.pointers.toggleEnabled(this._enabled),this.gamepads.toggleEnabled(this._enabled)}update(){this._enabled&&(this.inputMapper.execute(),this.keyboard.update(),this.gamepads.update())}}class Jr{}const $r={Initialize:"initialize",Activate:"activate",Deactivate:"deactivate",PreUpdate:"preupdate",PostUpdate:"postupdate",PreDraw:"predraw",PostDraw:"postdraw",PreDebugDraw:"predebugdraw",PostDebugDraw:"postdebugdraw",PreLoad:"preload"};function ts(t){var e,n;return!!(null===t||void 0===t?void 0:t.prototype)&&!!(null===(n=null===(e=null===t||void 0===t?void 0:t.prototype)||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)}class es{get actors(){return this.world.entityManager.entities.filter((t=>t instanceof Di))}get entities(){return this.world.entityManager.entities}get triggers(){return this.world.entityManager.entities.filter((t=>t instanceof er))}get tileMaps(){return this.world.entityManager.entities.filter((t=>t instanceof Hi))}get timers(){return this._timers}constructor(){this._logger=R.getInstance(),this.events=new h,this.camera=new Ji,this.world=new pr(this),this.physics=new Mr(Cn),this._isInitialized=!1,this._timers=[],this._cancelQueue=[],this.world.add(Tr),this.world.add(new gr(this.world,this.physics)),this.world.add(new xr(this.world,this.physics)),this.world.add(kr),this.world.add(Rr),this.world.add(Ir),this.world.add(Cr),this.world.add(Er)}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}onPreLoad(t){}onTransition(t){}onInitialize(t){}onActivate(t){}onDeactivate(t){}onPreUpdate(t,e){}onPostUpdate(t,e){}onPreDraw(t,e){}onPostDraw(t,e){}_initializeChildren(){for(const t of this.entities)t._initialize(this.engine)}get isInitialized(){return this._isInitialized}async _initialize(t){var e;if(!this.isInitialized){try{this.engine=t,this.physics.config=this.engine.physics,this.input=new Zr({pointerTarget:t.pointerScope===s.Canvas?t.canvas:document,grabWindowFocus:t.grabWindowFocus,engine:t}),this.camera._initialize(t),this.world.systemManager.initialize(),await this.onInitialize(t),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.events.emit("initialize",new Se(t,this))}catch(Gm){throw this._logger.error("Error during scene initialization for scene ".concat(null===(e=t.director)||void 0===e?void 0:e.getSceneName(this),"!")),Gm}this._isInitialized=!0}}async _activate(t){var e,n;try{this._logger.debug("Scene.onActivate",this),this.input.toggleEnabled(!0),await this.onActivate(t)}catch(Gm){throw this._logger.error("Error during scene activation for scene ".concat(null===(n=null===(e=this.engine)||void 0===e?void 0:e.director)||void 0===n?void 0:n.getSceneName(this),"!")),Gm}}async _deactivate(t){this._logger.debug("Scene.onDeactivate",this),this.input.toggleEnabled(!1),await this.onDeactivate(t)}_preupdate(t,e){this.emit("preupdate",new oe(t,e,this)),this.onPreUpdate(t,e)}_postupdate(t,e){this.emit("postupdate",new ae(t,e,this)),this.onPostUpdate(t,e)}_predraw(t,e){this.emit("predraw",new te(t,e,this)),this.onPreDraw(t,e)}_postdraw(t,e){this.emit("postdraw",new ee(t,e,this)),this.onPostDraw(t,e)}update(t,e){var n;if(!this.isInitialized)return void this._logger.warnOnce("Scene update called before initialize for scene ".concat(null===(n=t.director)||void 0===n?void 0:n.getSceneName(this),"!"));let i,r;for(this._preupdate(t,e),i=0,r=this._cancelQueue.length;i<r;i++)this.removeTimer(this._cancelQueue[i]);this._cancelQueue.length=0;for(const s of this._timers)s.update(e);this.world.update(ir.Update,e),this.camera&&this.camera.update(t,e),this._collectActorStats(t),this._postupdate(t,e),this.input.update()}draw(t,e){var n;this.isInitialized?(this._predraw(t,e),this.world.update(ir.Draw,e),(null===(n=this.engine)||void 0===n?void 0:n.isDebug)&&this.debugDraw(t),this._postdraw(t,e)):this._logger.warnOnce("Scene draw called before initialize!")}debugDraw(t){this.emit("predebugdraw",new re(t,this)),this.emit("postdebugdraw",new se(t,this))}contains(t){return this.actors.indexOf(t)>-1}add(t){this.emit("entityadded",{target:t}),this.world.add(t),t.scene=this,t instanceof Li&&(O(this._timers,t)||this.addTimer(t))}transfer(t){let e;t instanceof Xn&&t.scene&&t.scene!==this&&(e=t.scene,t.scene.world.remove(t,!1)),t instanceof Li&&t.scene&&(e=t.scene,t.scene.removeTimer(t)),null===e||void 0===e||e.emit("entityremoved",{target:t}),this.add(t)}remove(t){t instanceof Xn&&(this.emit("entityremoved",{target:t}),t.active&&t.kill(),this.world.remove(t)),t instanceof Li&&this.removeTimer(t)}clear(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(let e=this.entities.length-1;e>=0;e--)this.world.remove(this.entities[e],t);for(let e=this.timers.length-1;e>=0;e--)this.removeTimer(this.timers[e])}addTimer(t){return this._timers.push(t),t.scene=this,t}removeTimer(t){const e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t}cancelTimer(t){return this._cancelQueue.push(t),t}isTimerActive(t){return this._timers.indexOf(t)>-1&&!t.complete}isCurrentScene(){return!!this.engine&&this.engine.currentScene===this}_collectActorStats(t){const e=this.actors.filter((t=>t instanceof Oi));for(const n of e)t.stats.currFrame.actors.ui++;for(const n of this.actors){t.stats.currFrame.actors.alive++;for(const e of n.children)ji(e)?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}}}var ns;!function(t){t.Protanope="Protanope",t.Deuteranope="Deuteranope",t.Tritanope="Tritanope"}(ns||(ns={}));class is{constructor(t,e){this._shader=new gt({gl:t,vertexSource:"#version 300 es\n      in vec2 a_position;\n      in vec2 a_texcoord;\n      out vec2 v_texcoord;\n\n      void main() {\n        gl_Position = vec4(a_position, 0.0, 1.0);\n        // Pass the texcoord to the fragment shader.\n        v_texcoord = a_texcoord;\n      }",fragmentSource:e}),this._shader.compile(),this._buffer=new mt({gl:t,type:"static",data:new Float32Array([-1,-1,0,0,-1,1,0,1,1,-1,1,0,1,-1,1,0,-1,1,0,1,1,1,1,1])}),this._layout=new vt({gl:t,shader:this._shader,vertexBuffer:this._buffer,attributes:[["a_position",2],["a_texcoord",2]]}),this._buffer.upload()}getShader(){return this._shader}getLayout(){return this._layout}}class rs{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._colorBlindnessMode=t,this._simulate=!1,this._simulate=e}initialize(t){this._shader=new is(t,"#version 300 es\r\nprecision mediump float;\r\n// our texture\r\nuniform sampler2D u_image;\r\n// the texCoords passed in from the vertex shader.\r\nin vec2 v_texcoord;\r\n\r\n// color blind type\r\nuniform int u_type;\r\n\r\n// simulation?\r\nuniform bool u_simulate;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main() {\r\n  vec4 o =  texture(u_image, v_texcoord);\r\n  // RGB to LMS matrix conversion\r\n  float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);\r\n  float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);\r\n  float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);\r\n  // Simulate color blindness\r\n  float l;\r\n  float m;\r\n  float s;\r\n  //MODE CODE//\r\n  if (u_type == 0) {\r\n    // Protanope\r\n    l = 0.0 * L + 2.02344 * M + -2.52581 * S;\r\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\r\n    s = 0.0 * L + 0.0 * M + 1.0 * S;;\r\n  } else if (u_type == 1) {\r\n    // Deuteranope\r\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\r\n    m = 0.494207 * L + 0.0 * M + 1.24827 * S;\r\n    s = 0.0 * L + 0.0 * M + 1.0 * S;\r\n  } else if (u_type == 2) {\r\n    // Tritanope\r\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\r\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\r\n    s = -0.395913 * L + 0.801109 * M + 0.0 * S;\r\n  }\r\n\r\n  // LMS to RGB matrix conversion\r\n  vec4 error; // simulate the colors\r\n  error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);\r\n  error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);\r\n  error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);\r\n  error.a = 1.0;\r\n  vec4 diff = o - error;\r\n  vec4 correction; // correct the colors\r\n  correction.r = 0.0;\r\n  correction.g =  (diff.r * 0.7) + (diff.g * 1.0);\r\n  correction.b =  (diff.r * 0.7) + (diff.b * 1.0);\r\n  correction = o + correction;\r\n  correction.a = o.a;\r\n  //SIMULATE//\r\n\r\n  // sim \r\n  if (u_simulate) {\r\n    fragColor = error.rgba;\r\n  } else {\r\n    fragColor = correction.rgba;\r\n  }\r\n}"),this.simulate=this._simulate,this.colorBlindnessMode=this._colorBlindnessMode}getShader(){return this._shader.getShader()}getLayout(){return this._shader.getLayout()}set colorBlindnessMode(t){if(this._colorBlindnessMode=t,this._shader){const t=this._shader.getShader();t.use(),this._colorBlindnessMode===ns.Protanope?t.setUniformInt("u_type",0):this._colorBlindnessMode===ns.Deuteranope?t.setUniformInt("u_type",1):this._colorBlindnessMode===ns.Tritanope&&t.setUniformInt("u_type",2)}}get colorBlindnessMode(){return this._colorBlindnessMode}set simulate(t){if(this._simulate=t,this._shader){const e=this._shader.getShader();e.use(),e.setUniformBoolean("u_simulate",t)}}get simulate(){return this._simulate}}class ss{constructor(t){this._engine=t,this._colorBlindPostProcessor=new rs(ns.Protanope)}correct(t){this._engine.graphicsContext instanceof Mt&&(this.clear(),this._colorBlindPostProcessor.colorBlindnessMode=t,this._colorBlindPostProcessor.simulate=!1,this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor))}simulate(t){this._engine.graphicsContext instanceof Mt&&(this.clear(),this._colorBlindPostProcessor.colorBlindnessMode=t,this._colorBlindPostProcessor.simulate=!0,this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor))}clear(){this._engine.graphicsContext.removePostProcessor(this._colorBlindPostProcessor)}}class os{constructor(t){this.stats={currFrame:new as,prevFrame:new as},this.filter={useFilter:!1,nameQuery:"",ids:[]},this.entity={showAll:!1,showId:!1,showName:!1},this.transform={showAll:!1,debugZIndex:1e7,showPosition:!1,showPositionLabel:!1,positionColor:C.Yellow,showZIndex:!1,showScale:!1,scaleColor:C.Green,showRotation:!1,rotationColor:C.Blue},this.graphics={showAll:!1,showBounds:!1,boundsColor:C.Yellow},this.collider={showAll:!1,showBounds:!1,boundsColor:C.Blue,showOwner:!1,showGeometry:!0,geometryColor:C.Green,geometryLineWidth:1,geometryPointSize:.5},this.physics={showAll:!1,showBroadphaseSpacePartitionDebug:!1,showCollisionNormals:!1,collisionNormalColor:C.Cyan,showCollisionContacts:!0,contactSize:2,collisionContactColor:C.Red},this.motion={showAll:!1,showVelocity:!1,velocityColor:C.Yellow,showAcceleration:!1,accelerationColor:C.Red},this.body={showAll:!1,showCollisionGroup:!1,showCollisionType:!1,showSleeping:!1,showMotion:!1,showMass:!1},this.camera={showAll:!1,showFocus:!1,focusColor:C.Red,showZoom:!1},this.tilemap={showAll:!1,showGrid:!1,gridColor:C.Red,gridWidth:.5,showSolidBounds:!1,solidBoundsColor:C.fromHex("#8080807F"),showColliderGeometry:!0},this.isometric={showAll:!1,showPosition:!1,positionColor:C.Yellow,positionSize:1,showGrid:!1,gridColor:C.Red,gridWidth:1,showColliderGeometry:!0},this._engine=t,this.colorBlindMode=new ss(this._engine)}useTestClock(){const t=this._engine.clock,e=t.isRunning();t.stop();const n=t.toTestClock();return e&&n.start(),this._engine.clock=n,n}useStandardClock(){const t=this._engine.clock,e=t.isRunning();t.stop();const n=t.toStandardClock();return e&&n.start(),this._engine.clock=n,n}}class as{constructor(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new ls,this._graphicsStats={drawCalls:0,drawnImages:0}}reset(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics),this.graphics.drawCalls=t.graphics.drawCalls,this.graphics.drawnImages=t.graphics.drawnImages):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset(),this.graphics.drawnImages=this.graphics.drawCalls=0)}clone(){const t=new as;return t.reset(this),t}get id(){return this._id}set id(t){this._id=t}get delta(){return this._delta}set delta(t){this._delta=t}get fps(){return this._fps}set fps(t){this._fps=t}get actors(){return this._actorStats}get duration(){return this._durationStats}get physics(){return this._physicsStats}get graphics(){return this._graphicsStats}}class ls{constructor(){this._pairs=0,this._collisions=0,this._contacts=new Map,this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}reset(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.contacts=t.contacts,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.contacts.clear())}clone(){const t=new ls;return t.reset(this),t}get pairs(){return this._pairs}set pairs(t){this._pairs=t}get collisions(){return this._collisions}set collisions(t){this._collisions=t}get contacts(){return this._contacts}set contacts(t){this._contacts=t}get fastBodies(){return this._fastBodies}set fastBodies(t){this._fastBodies=t}get fastBodyCollisions(){return this._fastBodyCollisions}set fastBodyCollisions(t){this._fastBodyCollisions=t}get broadphase(){return this._broadphase}set broadphase(t){this._broadphase=t}get narrowphase(){return this._narrowphase}set narrowphase(t){this._narrowphase=t}}class cs{on(t,e){this._nativeHandlers[t]&&this.off(t,this._nativeHandlers[t]),this._nativeHandlers[t]=this._decorate(e),this.nativeComponent.addEventListener(t,this._nativeHandlers[t])}off(t,e){e||(e=this._nativeHandlers[t]),this.nativeComponent.removeEventListener(t,e),this._nativeHandlers[t]=null}_decorate(t){return e=>{this._paused||t(e)}}pause(){this._paused=!0}resume(){this._paused=!1}clear(){for(const t in this._nativeHandlers)this.off(t)}constructor(t){this.nativeComponent=t,this._paused=!1,this._nativeHandlers={}}}class hs{constructor(t,e){this._windowGlobal=t,this._documentGlobal=e,this._windowComponent=new cs(this._windowGlobal),this._documentComponent=new cs(this._documentGlobal)}get window(){return this._windowComponent}get document(){return this._documentComponent}pause(){this.window.pause(),this.document.pause()}resume(){this.window.resume(),this.document.resume()}clear(){this.window.clear(),this.document.clear()}}const ds={pixelArtSampler:!1,nativeContextAntialiasing:!1,multiSampleAntialiasing:!0,filtering:J.Blended,canvasImageRendering:"auto"},us={pixelArtSampler:!0,nativeContextAntialiasing:!1,multiSampleAntialiasing:!0,filtering:J.Blended,canvasImageRendering:"auto"};class ps{constructor(t){var e;this._samplePeriod=100,this._currentFrameTime=0,this._frames=0,this._previousSampleTime=0,this._beginFrameTime=0,this._fps=t.initialFps,this._samplePeriod=null!==(e=t.samplePeriod)&&void 0!==e?e:this._samplePeriod,this._currentFrameTime=1e3/t.initialFps,this._nowFn=t.nowFn,this._previousSampleTime=this._nowFn()}start(){this._beginFrameTime=this._nowFn()}end(){this._frames++;const t=this._nowFn();this._currentFrameTime=t-this._beginFrameTime,t>=this._previousSampleTime+this._samplePeriod&&(this._fps=1e3*this._frames/(t-this._previousSampleTime),this._previousSampleTime=t,this._frames=0)}get fps(){return this._fps}get instant(){return 1e3/this._currentFrameTime}}class fs{constructor(t){var e,n,i;this._onFatalException=()=>{},this._maxFps=1/0,this._lastTime=0,this._elapsed=1,this._scheduledCbs=[],this._totalElapsed=0,this._options=t,this.tick=t.tick,this._lastTime=null!==(e=this.now())&&void 0!==e?e:0,this._maxFps=null!==(n=t.maxFps)&&void 0!==n?n:this._maxFps,this._onFatalException=null!==(i=t.onFatalException)&&void 0!==i?i:this._onFatalException,this.fpsSampler=new ps({initialFps:60,nowFn:()=>this.now()})}elapsed(){return this._elapsed}now(){return performance.now()}toTestClock(){return new ms({...this._options,defaultUpdateMs:16.6})}toStandardClock(){return new gs({...this._options})}setFatalExceptionHandler(t){this._onFatalException=t}schedule(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"preframe";const i=this._totalElapsed+e;this._scheduledCbs.push([t,i,n])}__runScheduledCbs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"preframe";for(let e=this._scheduledCbs.length-1;e>-1;e--)t===this._scheduledCbs[e][2]&&this._scheduledCbs[e][1]<=this._totalElapsed&&(this._scheduledCbs[e][0](this._elapsed),this._scheduledCbs.splice(e,1))}update(t){try{this.fpsSampler.start();const e=this.now();let n=e-this._lastTime||1;const i=1e3/this._maxFps;if(n>=i){let r=0;0!==i&&(r=n%i,n-=r),n>200&&(n=1),this._elapsed=t||n,this._totalElapsed+=this._elapsed,this.__runScheduledCbs("preframe"),this.tick(t||n),this.__runScheduledCbs("postframe"),this._lastTime=0!==i?e-r:e,this.fpsSampler.end()}}catch(Gm){this._onFatalException(Gm),this.stop()}}}class gs extends fs{constructor(t){super(t),this._running=!1}isRunning(){return this._running}start(){if(this._running)return;this._running=!0;const t=()=>{if(this._running)try{this._requestId=window.requestAnimationFrame(t),this.update()}catch(Gm){throw window.cancelAnimationFrame(this._requestId),Gm}};t()}stop(){window.cancelAnimationFrame(this._requestId),this._running=!1}}class ms extends fs{constructor(t){super({...t}),this._logger=R.getInstance(),this._running=!1,this._currentTime=0,this._updateMs=t.defaultUpdateMs}now(){var t;return null!==(t=this._currentTime)&&void 0!==t?t:0}isRunning(){return this._running}start(){this._running=!0}stop(){this._running=!1}step(t){const e=null!==t&&void 0!==t?t:this._updateMs;this._running?(this.update(e),this._currentTime+=e):this._logger.warn("The clock is not running, no step will be performed")}run(t,e){for(let n=0;n<t;n++)this.step(null!==e&&void 0!==e?e:this._updateMs)}}var vs=Sm(4296);class ys{constructor(){this._toasterCss=vs.A.toString(),this._isInitialized=!1}_initialize(){this._isInitialized||(this._container=document.createElement("div"),this._container.id="ex-toast-container",document.body.appendChild(this._container),this._isInitialized=!0,this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._toasterCss,document.head.appendChild(this._styleBlock))}dispose(){this._container.parentElement.removeChild(this._container),this._styleBlock.parentElement.removeChild(this._styleBlock),this._isInitialized=!1}_createFragment(t){const e=document.createElement("span");return e.innerText=t,e}toast(t,e,n){this._initialize();const i=document.createElement("div");i.className="ex-toast-message";const r=t.split("[LINK]").map((t=>this._createFragment(t)));if(e){const t=document.createElement("a");t.href=e,t.innerText=n||e,r.splice(1,0,t)}const s=document.createElement("div");r.forEach((t=>{s.appendChild(t)})),i.appendChild(s);const o=document.createElement("button");o.innerText="x",o.addEventListener("click",(()=>{this._container.removeChild(i)})),i.appendChild(o);const a=t=>{if("Escape"===t.key)try{this._container.removeChild(i)}catch(e){}document.removeEventListener("keydown",a)};document.addEventListener("keydown",a);const l=this._container.firstChild;this._container.insertBefore(i,l)}}const xs={NavigationStart:"navigationstart",Navigation:"navigation",NavigationEnd:"navigationend"};class _s{get isTransitioning(){return this._isTransitioning}constructor(t,e){this._engine=t,this.events=new h,this._logger=R.getInstance(),this._initialized=!1,this.scenes={},this._sceneToInstance=new Map,this._sceneToLoader=new Map,this._sceneToTransition=new Map,this._loadedScenes=new Set,this._isTransitioning=!1,this.rootScene=this.currentScene=new es,this.add("root",this.rootScene),this.currentScene=this.rootScene,this.currentSceneName="root";for(const n in e){const t=e[n];this.add(n,t),"root"===n&&(this.rootScene=this.getSceneInstance("root"),this.currentScene=this.rootScene)}}async onInitialize(){if(!this._initialized)if(this._initialized=!0,this._deferredGoto){const t=this._deferredGoto,e=this._deferredTransition;this._deferredGoto=null,this._deferredTransition=null,await this.swapScene(t),e&&await this.playTransition(e)}else await this.swapScene("root")}get isInitialized(){return this._initialized}configureStart(t,e){const n=null===e||void 0===e?void 0:e.loader;let i;if(n instanceof Ue?this.mainLoader=n:Ne(n)?this.mainLoader=new n:this.mainLoader=new Qe,e){const{inTransition:t}=e;i=t}this.startScene=t,i?this.swapScene(this.startScene).then((()=>{this.playTransition(i)})):this.swapScene(this.startScene),this.currentSceneName=this.startScene}_getLoader(t){return this._sceneToLoader.get(t)}_getInTransition(t){var e;const n=this.scenes[t];return n instanceof es||ts(n)?null:null===(e=null===n||void 0===n?void 0:n.transitions)||void 0===e?void 0:e.in}_getOutTransition(t){var e;const n=this.scenes[t];return n instanceof es||ts(n)?null:null===(e=null===n||void 0===n?void 0:n.transitions)||void 0===e?void 0:e.out}getDeferredScene(){const t=this.getSceneDefinition(this._deferredGoto);return this._deferredGoto&&t?t:null}getSceneDefinition(t){const e=this.scenes[t];return e instanceof es||ts(e)?e:e?e.scene:void 0}getSceneName(t){for(const[e,n]of this._sceneToInstance)if(t===n)return e;return"unknown scene name"}assertAdded(t){return this}assertRemoved(t){return this}add(t,e){if(!(e instanceof es)&&!ts(e)){const{loader:n,transitions:i}=e,{in:r,out:s}=null!==i&&void 0!==i?i:{};this._sceneToTransition.set(t,{in:r,out:s}),Ne(n)?this._sceneToLoader.set(t,new n):this._sceneToLoader.set(t,n)}return this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e,this.assertAdded(t)}remove(t){if(t instanceof es||ts(t)){const e=t;for(const t in this.scenes)if(this.scenes.hasOwnProperty(t)){const n=this.scenes[t];let i;if(i=n instanceof es||ts(n)?n:n.scene,i===e){if(t===this.currentSceneName)throw new Error("Cannot remove a currently active scene: ".concat(t));this._sceneToInstance.delete(t),this._sceneToTransition.delete(t),this._sceneToLoader.delete(t),delete this.scenes[t]}}}if("string"===typeof t){if(t===this.currentSceneName)throw new Error("Cannot remove a currently active scene: ".concat(t));this._sceneToInstance.delete(t),this._sceneToTransition.delete(t),this._sceneToLoader.delete(t),delete this.scenes[t]}}async goto(t,e){var n,i,r,s,o,a;const l=this.getSceneInstance(t);if(!l)return void this._logger.warn("Scene ".concat(t," does not exist! Check the name, are you sure you added it?"));const c=this.currentSceneName,h=null===(i=null===(n=this._engine.input)||void 0===n?void 0:n.enabled)||void 0===i||i;this._isTransitioning=!0;const d=null===(r=this.getSceneInstance(c))||void 0===r?void 0:r.onTransition("out"),u=null===l||void 0===l?void 0:l.onTransition("in");e={sourceOut:null!==(s=this._getOutTransition(this.currentSceneName))&&void 0!==s?s:d,destinationIn:null!==(o=this._getInTransition(t))&&void 0!==o?o:u,...e};const{sourceOut:p,destinationIn:f,sceneActivationData:g}=e,m=null!==p&&void 0!==p?p:this._getOutTransition(this.currentSceneName),v=null!==f&&void 0!==f?f:this._getInTransition(t),y=(null===m||void 0===m?void 0:m.hideLoader)||(null===v||void 0===v?void 0:v.hideLoader);y&&this.maybeLoadScene(t,y),this._emitEvent("navigationstart",c,t),await this.playTransition(m),await this.maybeLoadScene(t,y),await(null===v||void 0===v?void 0:v.onPreviousSceneDeactivate(this.currentScene)),await this.swapScene(t,g),this._emitEvent("navigation",c,t),await this.playTransition(v),this._emitEvent("navigationend",c,t),null===(a=this._engine.input)||void 0===a||a.toggleEnabled(h),this._isTransitioning=!1}getSceneInstance(t){const e=this.getSceneDefinition(t);if(!e)return;if(this._sceneToInstance.has(t))return this._sceneToInstance.get(t);if(e instanceof es)return this._sceneToInstance.set(t,e),e;const n=new e;return this._sceneToInstance.set(t,n),n}async maybeLoadScene(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const i=null!==(n=this._getLoader(t))&&void 0!==n?n:new Ue,r=this.getSceneDefinition(t),s=this.getSceneInstance(t);r&&s&&!this._loadedScenes.has(s)&&(s.onPreLoad(i),s.events.emit("preload",{loader:i}),e?this._engine.load(i,e):await this._engine.load(i),this._loadedScenes.add(s))}async playTransition(t){var e,n,i,r,s,o,a;if(this.isInitialized){if(t){this.currentTransition=t;const o=this._engine.currentScene,a=null===(n=null===(e=o.input)||void 0===e?void 0:e.enabled)||void 0===n||n;null===(i=o.input)||void 0===i||i.toggleEnabled(!t.blockInput),null===(r=this._engine.input)||void 0===r||r.toggleEnabled(!t.blockInput),await this.currentTransition.play(this._engine),null===(s=o.input)||void 0===s||s.toggleEnabled(a)}null===(o=this.currentTransition)||void 0===o||o.kill(),null===(a=this.currentTransition)||void 0===a||a.reset(),this.currentTransition=null}else this._deferredTransition=t}async swapScene(t,e){const n=this._engine;if(!this.isInitialized)return void(this._deferredGoto=t);const i=this.getSceneInstance(t);if(i){const r=this.currentScene,s=i;if(this._logger.debug("Going to scene:",t),this.currentScene.isInitialized){const t={engine:n,previousScene:r,nextScene:s};await this.currentScene._deactivate(t),this.currentScene.events.emit("deactivate",new Ee(t,this.currentScene))}const o=this._sceneToLoader.get(t);await(null===o||void 0===o?void 0:o.areResourcesLoaded()),this.currentScene=s,this.currentSceneName=t,n.screen.setCurrentCamera(s.camera),await this.currentScene._initialize(n);const a={engine:n,previousScene:r,nextScene:s,data:e};await this.currentScene._activate(a),this.currentScene.events.emit("activate",new Ce(a,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")}_emitEvent(t,e,n){const i=this.getSceneDefinition(e),r=this.getSceneDefinition(n);this.events.emit(t,{sourceScene:i,sourceName:e,destinationScene:r,destinationName:n})}}o();const bs={FallbackGraphicsContext:"fallbackgraphicscontext",Initialize:"initialize",Visible:"visible",Hidden:"hidden",Start:"start",Stop:"stop",PreUpdate:"preupdate",PostUpdate:"postupdate",PreFrame:"preframe",PostFrame:"postframe",PreDraw:"predraw",PostDraw:"postdraw"};var ws;!function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(ws||(ws={}));class As{static useEngine(){const t=As.Context.value;if(!t)throw new Error("Cannot inject engine with `useEngine()`, `useEngine()` was called outside of Engine lifecycle scope.");return t}get canvasWidth(){return this.screen.canvasWidth}get halfCanvasWidth(){return this.screen.halfCanvasWidth}get canvasHeight(){return this.screen.canvasHeight}get halfCanvasHeight(){return this.screen.halfCanvasHeight}get drawWidth(){return this.screen.drawWidth}get halfDrawWidth(){return this.screen.halfDrawWidth}get drawHeight(){return this.screen.drawHeight}get halfDrawHeight(){return this.screen.halfDrawHeight}get isHiDpi(){return this.screen.isHiDpi}get stats(){return this.debug.stats}get currentScene(){return this.director.currentScene}get currentSceneName(){return this.director.currentSceneName}get rootScene(){return this.director.rootScene}get scenes(){return this.director.scenes}get isFullscreen(){return this.screen.isFullScreen}get displayMode(){return this.screen.displayMode}get pixelRatio(){return this.screen.pixelRatio}get isDebug(){return this._isDebug}get snapToPixel(){return this.graphicsContext.snapToPixel}set snapToPixel(t){this.graphicsContext.snapToPixel=t}emit(t,e){this.events.emit(t,e)}on(t,e){return this.events.on(t,e)}once(t,e){return this.events.once(t,e)}off(t,e){this.events.off(t,e)}constructor(t){var e,n,i,r,s,o,l,d;this.scope=t=>As.Context.scope(this,t),this.version=oo,this.events=new h,this.maxFps=Number.POSITIVE_INFINITY,this._inputEnabled=!0,this._suppressPlayButton=!1,this.pauseAudioWhenHidden=!0,this._isDebug=!1,this.enableCanvasTransparency=!0,this.onFatalException=t=>{R.getInstance().fatal(t,t.stack)},this._toaster=new ys,this._timescale=1,this._isInitialized=!1,this._originalOptions={},this._handleWebGLContextLost=t=>{var e;t.preventDefault(),this.clock.stop(),this._logger.fatalOnce("WebGL Graphics Lost",t);const n=document.createElement("div");n.id="ex-webgl-graphics-context-lost",n.style.position="absolute",n.style.zIndex="99",n.style.left="50%",n.style.top="50%",n.style.display="flex",n.style.flexDirection="column",n.style.transform="translate(-50%, -50%)",n.style.backgroundColor="white",n.style.padding="10px",n.style.borderStyle="solid 1px";const i=document.createElement("div");if(i.innerHTML='\n      <h1>There was an issue rendering, please refresh the page.</h1>\n      <div>\n        <p>WebGL Graphics Context Lost</p>\n\n        <button id="ex-webgl-graphics-reload">Refresh Page</button>\n\n        <p>There are a few reasons this might happen:</p>\n        <ul>\n          <li>Two or more pages are placing a high demand on the GPU</li>\n          <li>Another page or operation has stalled the GPU and the browser has decided to reset the GPU</li>\n          <li>The computer has multiple GPUs and the user has switched between them</li>\n          <li>Graphics driver has crashed or restarted</li>\n          <li>Graphics driver was updated</li>\n        </ul>\n      </div>\n    ',n.appendChild(i),null===(e=this.canvas)||void 0===e?void 0:e.parentElement){this.canvas.parentElement.appendChild(n);const t=i.querySelector("#ex-webgl-graphics-reload");null===t||void 0===t||t.addEventListener("click",(()=>location.reload()))}},this._performanceThresholdTriggered=!1,this._fpsSamples=[],this._disposed=!1,this._isLoading=!1,this._hideLoader=!1,this._isReadyFuture=new c,this.currentFrameElapsedMs=0,this.currentFrameLagMs=0,this._lagMs=0,this._screenShotRequests=[],t={...As._DEFAULT_ENGINE_OPTIONS,...t},this._originalOptions=t,a.freeze(),this.browser=new hs(window,document);const u=new Ye;if(!t.suppressMinimumBrowserFeatureDetection&&!(this._compatible=u.test())){const e=document.createElement("div");if(e.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(e),u.failedTests.forEach((function(t){const e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)})),t.canvasElementId){const e=document.getElementById(t.canvasElementId);e&&e.parentElement.removeChild(e)}return}if(this._compatible=!0,console.log&&!t.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v".concat(oo,")"),"background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),t.suppressPlayButton&&(this._suppressPlayButton=!0),this._logger=R.getInstance(),this._logger.defaultLevel===k.Debug&&u.logBrowserFeatures(),this._logger.debug("Building engine..."),this.canvasElementId=t.canvasElementId,t.canvasElementId){if(this._logger.debug("Using Canvas element specified: "+t.canvasElementId),null===document.getElementById(t.canvasElementId))throw new Error("Cannot find existing element in the DOM, please ensure element is created prior to engine creation.");this.canvas=document.getElementById(t.canvasElementId)}else t.canvasElement?(this._logger.debug("Using Canvas element specified:",t.canvasElement),this.canvas=t.canvasElement):(this._logger.debug("Using generated canvas element"),this.canvas=document.createElement("canvas"));let p,f,g,m,v,y,x=null!==(e=t.displayMode)&&void 0!==e?e:jt.Fixed;t.width&&t.height||t.viewport?(void 0===t.displayMode&&(x=jt.Fixed),this._logger.debug("Engine viewport is size "+t.width+" x "+t.height)):t.displayMode||(this._logger.debug("Engine viewport is fit"),x=jt.FitScreen),this._originalDisplayMode=x,"object"===typeof t.antialiasing?({pixelArtSampler:p,nativeContextAntialiasing:g,multiSampleAntialiasing:y,filtering:v,canvasImageRendering:m}={...t.pixelArt?us:ds,...t.antialiasing}):(p=!!t.pixelArt,g=!1,y=t.antialiasing,m=t.antialiasing?"auto":"pixelated",v=t.antialiasing?J.Blended:J.Pixel),g&&y&&this._logger.warnOnce("Cannot use antialias setting nativeContextAntialiasing and multiSampleAntialiasing at the same time, they are incompatible settings. If you aren't sure use multiSampleAntialiasing"),t.pixelArt&&(f=.25),t.antialiasing&&v!==J.Pixel||(f=0),f=null!==(i=null!==(n=t.uvPadding)&&void 0!==n?n:f)&&void 0!==i?i:.01;let _=a.isEnabled("use-canvas-context");if(!_)try{this.graphicsContext=new Mt({canvasElement:this.canvas,enableTransparency:this.enableCanvasTransparency,pixelArtSampler:p,antialiasing:g,multiSampleAntialiasing:y,uvPadding:f,powerPreference:t.powerPreference,backgroundColor:t.backgroundColor,snapToPixel:t.snapToPixel,useDrawSorting:t.useDrawSorting,handleContextLost:null!==(r=t.handleContextLost)&&void 0!==r?r:this._handleWebGLContextLost,handleContextRestored:t.handleContextRestored})}catch(Gm){this._logger.warn("Excalibur could not load webgl for some reason (".concat(Gm.message,") and loaded a Canvas 2D fallback. ")+"Some features of Excalibur will not work in this mode. \n\nRead more about this issue at https://excaliburjs.com/docs/performance"),_=!0}_&&(this.graphicsContext=new Dt({canvasElement:this.canvas,enableTransparency:this.enableCanvasTransparency,antialiasing:g,backgroundColor:t.backgroundColor,snapToPixel:t.snapToPixel,useDrawSorting:t.useDrawSorting})),this.screen=new zt({canvas:this.canvas,context:this.graphicsContext,antialiasing:g,canvasImageRendering:m,browser:this.browser,viewport:null!==(s=t.viewport)&&void 0!==s?s:t.width&&t.height?{width:t.width,height:t.height}:Ot.SVGA,resolution:t.resolution,displayMode:x,pixelRatio:t.suppressHiDPIScaling?1:null!==(o=t.pixelRatio)&&void 0!==o?o:null}),nt.filtering=v,t.backgroundColor&&(this.backgroundColor=t.backgroundColor.clone()),this.grabWindowFocus=t.grabWindowFocus,this.pointerScope=t.pointerScope,this.maxFps=null!==(l=t.maxFps)&&void 0!==l?l:this.maxFps,this.fixedUpdateFps=null!==(d=t.fixedUpdateFps)&&void 0!==d?d:this.fixedUpdateFps,this.clock=new gs({maxFps:this.maxFps,tick:this._mainloop.bind(this),onFatalException:t=>this.onFatalException(t)}),this.enableCanvasTransparency=t.enableCanvasTransparency,"boolean"===typeof t.physics?this.physics={...Cn,...En(),enabled:t.physics}:this.physics={...Cn,...En(),...t.physics},this.debug=new os(this),this.director=new _s(this,t.scenes),this._initialize(t),window.___EXCALIBUR_DEVTOOL=this,As.InstanceCount++}_monitorPerformanceThresholdAndTriggerFallback(){const{allow:t}=this._originalOptions.configurePerformanceCanvas2DFallback;let{threshold:e,showPlayerMessage:n}=this._originalOptions.configurePerformanceCanvas2DFallback;if(void 0===e&&(e=As._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.threshold),void 0===n&&(n=As._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.showPlayerMessage),!a.isEnabled("use-canvas-context")&&t&&this.ready&&!this._performanceThresholdTriggered){this._fpsSamples.length===e.numberOfFrames&&this._fpsSamples.splice(0,1),this._fpsSamples.push(this.clock.fpsSampler.fps);let t=0;for(let e=0;e<this._fpsSamples.length;e++)t+=this._fpsSamples[e];const i=t/this._fpsSamples.length;this._fpsSamples.length===e.numberOfFrames&&i<=e.fps&&(this._performanceThresholdTriggered=!0,this._logger.warn('Switching to browser 2D Canvas fallback due to performance. Some features of Excalibur will not work in this mode.\nthis might mean your browser doesn\'t have webgl enabled or hardware acceleration is unavailable.\n\nIf in Chrome:\n  * Visit Settings > Advanced > System, and ensure "Use Hardware Acceleration" is checked.\n  * Visit chrome://flags/#ignore-gpu-blocklist and ensure "Override software rendering list" is "enabled"\nIf in Firefox, visit about:config\n  * Ensure webgl.disabled = false\n  * Ensure webgl.force-enabled = true\n  * Ensure layers.acceleration.force-enabled = true\n\nRead more about this issue at https://excaliburjs.com/docs/performance'),n&&this._toaster.toast("Excalibur is encountering performance issues. It's possible that your browser doesn't have hardware acceleration enabled. Visit [LINK] for more information and potential solutions.","https://excaliburjs.com/docs/performance"),this.useCanvas2DFallback(),this.emit("fallbackgraphicscontext",this.graphicsContext))}}useCanvas2DFallback(){var t,e,n;const i=this.canvas.cloneNode(!1);this.canvas.parentNode.replaceChild(i,this.canvas),this.canvas=i;const r={...this._originalOptions,antialiasing:this.getAntialiasing()},o=this._originalDisplayMode;this.graphicsContext=new Dt({canvasElement:this.canvas,enableTransparency:this.enableCanvasTransparency,antialiasing:r.antialiasing,backgroundColor:r.backgroundColor,snapToPixel:r.snapToPixel,useDrawSorting:r.useDrawSorting}),this.screen&&this.screen.dispose(),this.screen=new zt({canvas:this.canvas,context:this.graphicsContext,antialiasing:null===(t=r.antialiasing)||void 0===t||t,browser:this.browser,viewport:null!==(e=r.viewport)&&void 0!==e?e:r.width&&r.height?{width:r.width,height:r.height}:Ot.SVGA,resolution:r.resolution,displayMode:o,pixelRatio:r.suppressHiDPIScaling?1:null!==(n=r.pixelRatio)&&void 0!==n?n:null}),this.screen.setCurrentCamera(this.currentScene.camera),this.input.pointers.detach();const a=r&&r.pointerScope===s.Document?document:this.canvas;this.input.pointers=this.input.pointers.recreate(a,this),this.input.pointers.init()}dispose(){this._disposed||(this._disposed=!0,this.stop(),this.input.toggleEnabled(!1),this.canvas.parentNode.removeChild(this.canvas),this.canvas=null,this.screen.dispose(),this.graphicsContext.dispose(),this.graphicsContext=null,As.InstanceCount--)}isDisposed(){return this._disposed}getWorldBounds(){return this.screen.getWorldBounds()}get timescale(){return this._timescale}set timescale(t){t<=0?R.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t}addTimer(t){return this.currentScene.addTimer(t)}removeTimer(t){return this.currentScene.removeTimer(t)}addScene(t,e){return this.director.add(t,e),this}removeScene(t){this.director.remove(t)}add(t){if(2===arguments.length)return void this.director.add(arguments[0],arguments[1]);const e=this.director.getDeferredScene();e instanceof es?e.add(t):this.currentScene.add(t)}remove(t){t instanceof Xn&&this.currentScene.remove(t),(t instanceof es||ts(t))&&this.removeScene(t),"string"===typeof t&&this.removeScene(t)}async goto(t,e){await this.scope((async()=>{await this.director.goto(t,e)}))}async goToScene(t,e){await this.scope((async()=>{await this.director.goto(t,e)}))}screenToWorldCoordinates(t){return this.screen.screenToWorldCoordinates(t)}worldToScreenCoordinates(t){return this.screen.worldToScreenCoordinates(t)}_initialize(t){var e,n;this.pageScrollPreventionMode=t.scrollPreventionMode;const i=t&&t.pointerScope===s.Document?document:this.canvas,r=null===(n=null===(e=this._originalOptions)||void 0===e?void 0:e.grabWindowFocus)||void 0===n||n;this.input=new Zr({pointerTarget:i,grabWindowFocus:r,engine:this}),this.inputMapper=this.input.inputMapper,this.browser.document.on("visibilitychange",(()=>{"hidden"===document.visibilityState?(this.events.emit("hidden",new ge(this)),this._logger.debug("Window hidden")):"visible"===document.visibilityState&&(this.events.emit("visible",new fe(this)),this._logger.debug("Window visible"))})),this.canvasElementId||t.canvasElement||document.body.appendChild(this.canvas)}toggleInputEnabled(t){this._inputEnabled=t,this.input.toggleEnabled(this._inputEnabled)}onInitialize(t){}setAntialiasing(t){this.screen.antialiasing=t}getAntialiasing(){return this.screen.antialiasing}get isInitialized(){return this._isInitialized}async _overrideInitialize(t){this.isInitialized||(await this.director.onInitialize(),await this.onInitialize(t),this.events.emit("initialize",new Se(t,this)),this._isInitialized=!0)}_update(t){var e;if(this._isLoading)return null===(e=this._loader)||void 0===e||e.onUpdate(this,t),void this.input.update();this.clock.__runScheduledCbs("preupdate"),this._preupdate(t),this.currentScene.update(this,t),this.graphicsContext.updatePostProcessors(t),this.clock.__runScheduledCbs("postupdate"),this._postupdate(t),this.input.update()}_preupdate(t){this.emit("preupdate",new oe(this,t,this)),this.onPreUpdate(this,t)}onPreUpdate(t,e){}_postupdate(t){this.emit("postupdate",new ae(this,t,this)),this.onPostUpdate(this,t)}onPostUpdate(t,e){}_draw(t){var e,n;this.graphicsContext.beginDrawLifecycle(),this.graphicsContext.clear(),this.clock.__runScheduledCbs("predraw"),this._predraw(this.graphicsContext,t),this._isLoading?this._hideLoader||(null===(e=this._loader)||void 0===e||e.canvas.draw(this.graphicsContext,0,0),this.clock.__runScheduledCbs("postdraw"),this.graphicsContext.flush(),this.graphicsContext.endDrawLifecycle()):(this.graphicsContext.backgroundColor=null!==(n=this.currentScene.backgroundColor)&&void 0!==n?n:this.backgroundColor,this.currentScene.draw(this.graphicsContext,t),this.clock.__runScheduledCbs("postdraw"),this._postdraw(this.graphicsContext,t),this.graphicsContext.flush(),this.graphicsContext.endDrawLifecycle(),this._checkForScreenShots())}_predraw(t,e){this.emit("predraw",new te(t,e,this)),this.onPreDraw(t,e)}onPreDraw(t,e){}_postdraw(t,e){this.emit("postdraw",new ee(t,e,this)),this.onPostDraw(t,e)}onPostDraw(t,e){}showDebug(t){this._isDebug=t}toggleDebug(){return this._isDebug=!this._isDebug,this._isDebug}get loadingComplete(){return!this._isLoading}get ready(){return this._isReadyFuture.isCompleted}isReady(){return this._isReadyFuture.promise}async start(t,e){await this.scope((async()=>{if(!this._compatible)throw new Error("Excalibur is incompatible with your browser");let n;return this._isLoading=!0,t instanceof Ue?n=t:"string"===typeof t&&(this.director.configureStart(t,e),n=this.director.mainLoader),this._logger.debug("Starting game clock..."),this.browser.resume(),this.clock.start(),this._logger.debug("Game clock started"),await this.load(null!==n&&void 0!==n?n:new Qe),await this._overrideInitialize(this),this._isReadyFuture.resolve(),this.emit("start",new Jt(this)),this._isReadyFuture.promise}))}_mainloop(t){this.scope((()=>{this.emit("preframe",new le(this,this.stats.prevFrame));const e=t*this.timescale;this.currentFrameElapsedMs=e;const n=this.stats.prevFrame.id+1;this.stats.currFrame.reset(),this.stats.currFrame.id=n,this.stats.currFrame.delta=e,this.stats.currFrame.fps=this.clock.fpsSampler.fps,yt.clear();const i=this.clock.now(),r=1e3/this.fixedUpdateFps;if(this.fixedUpdateFps)for(this._lagMs+=e;this._lagMs>=r;)this._update(r),this._lagMs-=r;else this._update(e);const s=this.clock.now();this.currentFrameLagMs=this._lagMs,this._draw(e);const o=this.clock.now();this.stats.currFrame.duration.update=s-i,this.stats.currFrame.duration.draw=o-s,this.stats.currFrame.graphics.drawnImages=yt.DrawnImagesCount,this.stats.currFrame.graphics.drawCalls=yt.DrawCallCount,this.emit("postframe",new ce(this,this.stats.currFrame)),this.stats.prevFrame.reset(this.stats.currFrame),this._monitorPerformanceThresholdAndTriggerFallback()}))}stop(){this.clock.isRunning()&&(this.emit("stop",new $t(this)),this.browser.pause(),this.clock.stop(),this._logger.debug("Game stopped"))}isRunning(){return this.clock.isRunning()}screenshot(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((e=>{this._screenShotRequests.push({preserveHiDPIResolution:t,resolve:e})}))}_checkForScreenShots(){for(const t of this._screenShotRequests){const e=t.preserveHiDPIResolution?this.canvas.width:this.screen.resolution.width,n=t.preserveHiDPIResolution?this.canvas.height:this.screen.resolution.height,i=document.createElement("canvas");i.width=e,i.height=n;const r=i.getContext("2d");r.imageSmoothingEnabled=this.screen.antialiasing,r.drawImage(this.canvas,0,0,e,n);const s=new Image,o=i.toDataURL("image/png");s.src=o,t.resolve(s)}this._screenShotRequests.length=0}async load(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];await this.scope((async()=>{try{if(t.isLoaded())return;this._loader=t,this._isLoading=!0,this._hideLoader=e,t instanceof Qe&&(t.suppressPlayButton=this._suppressPlayButton),this._loader.onInitialize(this),await t.load()}catch(Gm){this._logger.error("Error loading resources, things may not behave properly",Gm),await Promise.resolve()}finally{this._isLoading=!1,this._hideLoader=!1,this._loader=null}}))}}As.Context=function(){const t={scope:(e,n)=>(t.value=e,n()),value:void 0};return t}(),As.InstanceCount=0,As._DEFAULT_ENGINE_OPTIONS={width:0,height:0,enableCanvasTransparency:!0,useDrawSorting:!0,configurePerformanceCanvas2DFallback:{allow:!1,showPlayerMessage:!1,threshold:{fps:20,numberOfFrames:100}},canvasElementId:"",canvasElement:void 0,snapToPixel:!1,antialiasing:!0,pixelArt:!1,powerPreference:"high-performance",pointerScope:s.Canvas,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,suppressPlayButton:null,grabWindowFocus:!0,scrollPreventionMode:ws.Canvas,backgroundColor:C.fromHex("#2185d0")};class Ss{constructor(){this._handlers={},this._wiredEventDispatchers=[],this._deferedHandlerRemovals=[]}clear(){this._handlers={},this._wiredEventDispatchers=[]}_processDeferredHandlerRemovals(){for(const t of this._deferedHandlerRemovals)this._removeHandler(t.name,t.handler);this._deferedHandlerRemovals.length=0}emit(t,e){if(this._processDeferredHandlerRemovals(),!t)return;let n,i;if(t=t.toLowerCase(),"undefined"!==typeof e&&null!==e||(e=new Qt),this._handlers[t])for(n=0,i=this._handlers[t].length;n<i;n++)this._handlers[t][n](e);for(n=0,i=this._wiredEventDispatchers.length;n<i;n++)this._wiredEventDispatchers[n].emit(t,e)}on(t,e){this._processDeferredHandlerRemovals(),t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e)}off(t,e){this._deferedHandlerRemovals.push({name:t,handler:e})}_removeHandler(t,e){t=t.toLowerCase();const n=this._handlers[t];if(n)if(e){const i=n.indexOf(e);i>-1&&this._handlers[t].splice(i,1)}else this._handlers[t].length=0}once(t,e){this._processDeferredHandlerRemovals();const n=i=>{const r=i||new Qt;this.off(t,n),e(r)};this.on(t,n)}wire(t){t._wiredEventDispatchers.push(this)}unwire(t){const e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)}}class Cs extends Di{get font(){return this._font}set font(t){this._font=t,this._text.font=t}get text(){return this._text.text}set text(t){this._text.text=t}get color(){return this._text.color}set color(t){this._text&&(this._text.color=t)}get opacity(){return this._text.opacity}set opacity(t){this._text.opacity=t}get spriteFont(){return this._spriteFont}set spriteFont(t){t&&(this._spriteFont=t,this._text.font=this._spriteFont)}constructor(t){super(t),this._font=new Bi,this._text=new Fi({text:"",font:this._font});const{text:e,pos:n,x:i,y:r,spriteFont:s,font:o,color:a}={text:"",...t};this.pos=null!==n&&void 0!==n?n:i&&r?S(i,r):this.pos,this.text=null!==e&&void 0!==e?e:this.text,this.font=null!==o&&void 0!==o?o:this.font,this.spriteFont=null!==s&&void 0!==s?s:this.spriteFont,this._text.color=null!==a&&void 0!==a?a:this.color;const l=this.get(ti);l.anchor=A.Zero,l.use(this._text)}_initialize(t){super._initialize(t)}getTextWidth(){return this._text.width}}class Es extends Xn{getGraphics(){return this._graphics}addGraphic(t,e){this._graphics.push(t),this._gfx.visible=this.map.visible,this._gfx.opacity=this.map.opacity,(null===e||void 0===e?void 0:e.offset)&&(this._gfx.offset=e.offset),this._gfx.localBounds=this._recalculateBounds()}_recalculateBounds(){let t=this._tileBounds.clone();for(const e of this._graphics){const n=S(this.map.graphicsOffset.x-this.map.tileWidth/2,this.map.graphicsOffset.y-(this.map.renderFromTopOfGraphic?0:e.height-this.map.tileHeight));t=t.combine(e.localBounds.translate(n))}return t}removeGraphic(t){const e=this._graphics.indexOf(t);e>-1&&this._graphics.splice(e,1),this._gfx.localBounds=this._recalculateBounds()}clearGraphics(){this._graphics.length=0,this._gfx.visible=!1,this._gfx.localBounds=this._recalculateBounds()}getColliders(){return this._colliders}addCollider(t){this._colliders.push(t),this.map.flagCollidersDirty()}removeCollider(t){const e=this._colliders.indexOf(t);e>-1&&this._colliders.splice(e,1),this.map.flagCollidersDirty()}clearColliders(){this._colliders.length=0,this.map.flagCollidersDirty()}get pos(){return this.map.tileToWorld(S(this.x,this.y))}get center(){return this.pos.add(S(0,this.map.tileHeight/2))}constructor(t,e,n,i){super([new hn,new ti({offset:null!==n&&void 0!==n?n:A.Zero,onPostDraw:(t,e)=>this.draw(t,e)}),new Pr(i)]),this.solid=!1,this.events=new h,this._tileBounds=new B,this._graphics=[],this._colliders=[],this.data=new Map,this.x=t,this.y=e,this.map=i,this._transform=this.get(hn),this._isometricEntityComponent=this.get(Pr);const r=this.map.tileWidth/2,s=this.map.tileHeight/2,o=(this.x-this.y)*r,a=(this.x+this.y)*s;this._transform.pos=S(o,a),this._isometricEntityComponent.elevation=i.elevation,this._gfx=this.get(ti),this._gfx.visible=!1;const l=this.map.tileWidth,c=this.map.tileHeight,d=S(0,this.map.renderFromTopOfGraphic?c:0);this._gfx.localBounds=this._tileBounds=new B({left:-l/2,top:-c,right:l/2,bottom:c}).translate(d)}draw(t,e){const n=this.map.tileWidth/2;t.save(),t.translate(-n,0);for(const i of this._graphics)i.draw(t,this.map.graphicsOffset.x,this.map.graphicsOffset.y-(this.map.renderFromTopOfGraphic?0:i.height-this.map.tileHeight));t.restore()}}class ks extends Xn{constructor(t){super([new hn,new Un({type:Ze.Fixed}),new zn,new ii,new Ni(((t,e)=>this.debug(t,e)),!1)],t.name),this.elevation=0,this.visible=!0,this.opacity=1,this.renderFromTopOfGraphic=!1,this.graphicsOffset=S(0,0),this._forwardPointerEventToTile=t=>e=>{const n=this.getTileByPoint(e.worldPos);n&&n.events.emit(t,e)},this._collidersDirty=!1,this._originalOffsets=new WeakMap;const{pos:e,tileWidth:n,tileHeight:i,columns:r,rows:s,renderFromTopOfGraphic:o,graphicsOffset:a,elevation:l}=t;this.transform=this.get(hn),e&&(this.transform.pos=e),this.collider=this.get(zn),this.collider&&this.collider.set(this._composite=new kn([])),this.pointer=this.get(ii),this.renderFromTopOfGraphic=null!==o&&void 0!==o?o:this.renderFromTopOfGraphic,this.graphicsOffset=null!==a&&void 0!==a?a:this.graphicsOffset,this.elevation=null!==l&&void 0!==l?l:this.elevation,this.tileWidth=n,this.tileHeight=i,this.columns=r,this.rows=s,this.tiles=new Array(r*s);for(let c=0;c<s;c++)for(let t=0;t<r;t++){const e=new Es(t,c,this.graphicsOffset,this);this.tiles[t+c*r]=e,this.addChild(e)}this.pointer.localBounds=B.fromDimension(n*r*this.transform.scale.x,i*s*this.transform.scale.y,S(.5,0)),this._setupPointerToTile()}_setupPointerToTile(){this.events.on("pointerup",this._forwardPointerEventToTile("pointerup")),this.events.on("pointerdown",this._forwardPointerEventToTile("pointerdown")),this.events.on("pointermove",this._forwardPointerEventToTile("pointermove")),this.events.on("pointercancel",this._forwardPointerEventToTile("pointercancel"))}update(){this._collidersDirty&&(this.updateColliders(),this._collidersDirty=!1)}flagCollidersDirty(){this._collidersDirty=!0}_getOrSetColliderOriginalOffset(t){if(this._originalOffsets.has(t))return this._originalOffsets.get(t);{const e=t.offset;return this._originalOffsets.set(t,e),e}}updateColliders(){this._composite.clearColliders();const t=this.get(hn).pos;for(const e of this.tiles)if(e.solid)for(const n of e.getColliders()){const i=this._getOrSetColliderOriginalOffset(n);n.offset=this.tileToWorld(S(e.x,e.y)).sub(t).add(i).sub(S(this.tileWidth/2,this.tileHeight)),n.owner=this,this._composite.addCollider(n)}this.collider.update()}worldToTile(t){t=t.sub(this.transform.globalPos);const e=this.tileWidth/2,n=this.tileHeight/2;return S(~~((t.x/e+t.y/n)/2),~~((t.y/n-t.x/e)/2))}tileToWorld(t){const e=this.tileWidth/2,n=this.tileHeight/2;return S((t.x-t.y)*e,(t.x+t.y)*n).add(this.transform.pos)}getTile(t,e){return t<0||e<0||t>=this.columns||e>=this.rows?null:this.tiles[t+e*this.columns]}getTileByPoint(t){const e=this.worldToTile(t);return this.getTile(e.x,e.y)}_getMaxZIndex(){let t=Number.NEGATIVE_INFINITY;for(const e of this.tiles){const n=e.get(hn).z;n>t&&(t=n)}return t}debug(t,e){const{showAll:n,showPosition:i,positionColor:r,positionSize:s,showGrid:o,gridColor:a,gridWidth:l,showColliderGeometry:c}=e.isometric,{geometryColor:h,geometryLineWidth:d,geometryPointSize:u}=e.collider;if(t.save(),t.z=this._getMaxZIndex()+.5,n||o){for(let e=0;e<this.rows+1;e++){const n=this.tileToWorld(S(0,e)),i=this.tileToWorld(S(this.columns,e));t.drawLine(n,i,a,l)}for(let e=0;e<this.columns+1;e++){const n=this.tileToWorld(S(e,0)),i=this.tileToWorld(S(e,this.rows));t.drawLine(n,i,a,l)}}if(n||i)for(const p of this.tiles)t.drawCircle(this.tileToWorld(S(p.x,p.y)),s,r);if(n||c)for(const p of this.tiles)if(p.solid)for(const e of p.getColliders())e.debug(t,h,{lineWidth:d,pointSize:u});t.restore()}}class Ts{constructor(t,e){this._stopped=!1,this._sequenceBuilder=e,this._sequenceContext=new Pi(t),this._actionQueue=this._sequenceContext.getQueue(),this._sequenceBuilder(this._sequenceContext)}update(t){this._actionQueue.update(t)}isComplete(){return this._stopped||this._actionQueue.isComplete()}stop(){this._stopped=!0}reset(){this._stopped=!1,this._actionQueue.reset()}clone(t){return new Ts(t,this._sequenceBuilder)}}class Ps{constructor(t){this._actions=t}update(t){for(let e=0;e<this._actions.length;e++)this._actions[e].update(t)}isComplete(t){return this._actions.every((e=>e.isComplete(t)))}reset(){this._actions.forEach((t=>t.reset()))}stop(){this._actions.forEach((t=>t.stop()))}}class Rs{constructor(t,e){this.bounds=t,this.options=e,this._defaultOptions={maxDepth:10,capacity:10,level:0},this.items=[],this._isDivided=!1,this.topLeft=null,this.topRight=null,this.bottomLeft=null,this.bottomRight=null,this.options={...this._defaultOptions,...e},this.halfWidth=t.width/2,this.halfHeight=t.height/2}_split(){this._isDivided=!0;const t={maxDepth:this.options.maxDepth,capacity:this.options.capacity,level:this.options.level+1};this.topLeft=new Rs(new B({left:this.bounds.left,top:this.bounds.top,right:this.bounds.left+this.halfWidth,bottom:this.bounds.top+this.halfHeight}),t),this.topRight=new Rs(new B({left:this.bounds.left+this.halfWidth,top:this.bounds.top,right:this.bounds.right,bottom:this.bounds.top+this.halfHeight}),t),this.bottomLeft=new Rs(new B({left:this.bounds.left,top:this.bounds.top+this.halfHeight,right:this.bounds.left+this.halfWidth,bottom:this.bounds.bottom}),t),this.bottomRight=new Rs(new B({left:this.bounds.left+this.halfWidth,top:this.bounds.top+this.halfHeight,right:this.bounds.right,bottom:this.bounds.bottom}),t)}_insertIntoSubNodes(t){var e,n,i,r;(null===(e=this.topLeft)||void 0===e?void 0:e.bounds.overlaps(t.bounds))&&this.topLeft.insert(t),(null===(n=this.topRight)||void 0===n?void 0:n.bounds.overlaps(t.bounds))&&this.topRight.insert(t),(null===(i=this.bottomLeft)||void 0===i?void 0:i.bounds.overlaps(t.bounds))&&this.bottomLeft.insert(t),(null===(r=this.bottomRight)||void 0===r?void 0:r.bounds.overlaps(t.bounds))&&this.bottomRight.insert(t)}insert(t){if(this._isDivided)this._insertIntoSubNodes(t);else if(this.items.push(t),this.items.length>this.options.capacity&&this.options.level<this.options.maxDepth){this._isDivided||this._split();for(const t of this.items)this._insertIntoSubNodes(t);this.items.length=0}}remove(t){var e,n,i,r;if(this.bounds.overlaps(t.bounds))if(this._isDivided)(null===(e=this.topLeft)||void 0===e?void 0:e.bounds.overlaps(t.bounds))&&this.topLeft.remove(t),(null===(n=this.topRight)||void 0===n?void 0:n.bounds.overlaps(t.bounds))&&this.topRight.remove(t),(null===(i=this.bottomLeft)||void 0===i?void 0:i.bounds.overlaps(t.bounds))&&this.bottomLeft.remove(t),(null===(r=this.bottomRight)||void 0===r?void 0:r.bounds.overlaps(t.bounds))&&this.bottomRight.remove(t);else{const e=this.items.indexOf(t);e>-1&&this.items.splice(e,1)}}query(t){let e=this.items;return this._isDivided&&(this.topLeft.bounds.overlaps(t)&&(e=e.concat(this.topLeft.query(t))),this.topRight.bounds.overlaps(t)&&(e=e.concat(this.topRight.query(t))),this.bottomLeft.bounds.overlaps(t)&&(e=e.concat(this.bottomLeft.query(t))),this.bottomRight.bounds.overlaps(t)&&(e=e.concat(this.bottomRight.query(t)))),e=e.filter(((t,n)=>e.indexOf(t)>=n)),e}clear(){this.items=[],this._isDivided=!1,this.topLeft=null,this.topRight=null,this.bottomLeft=null,this.bottomRight=null}getAllItems(){let t=this.items;return this._isDivided&&(t=t.concat(this.topLeft.getAllItems()),t=t.concat(this.topRight.getAllItems()),t=t.concat(this.bottomLeft.getAllItems()),t=t.concat(this.bottomRight.getAllItems())),t=t.filter(((e,n)=>t.indexOf(e)>=n)),t}getTreeDepth(){return this._isDivided?1+Math.max(this.topLeft.getTreeDepth(),this.topRight.getTreeDepth(),this.bottomLeft.getTreeDepth(),this.bottomRight.getTreeDepth()):0}debug(t){this.bounds.draw(t,C.Yellow),this._isDivided&&(this.topLeft.bounds.draw(t,C.Yellow),this.topRight.bounds.draw(t,C.Yellow),this.bottomLeft.bounds.draw(t,C.Yellow),this.bottomRight.bounds.draw(t,C.Yellow))}}function Is(t){return!!t._initialize}function Ms(t){return!!t.onInitialize}function Bs(t){return!!t._preupdate}function Fs(t){return!!t.onPreUpdate}function Ds(t){return!!t.onPostUpdate}function js(t){return!!t.onPostUpdate}function Os(t){return!!t.onPreDraw}function Ls(t){return!!t.onPostDraw}class zs{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Magenta,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.path=t,this.color=e,this._stream=null,this._gif=null,this._textures=[],this._animation=null,this._transparentColor=null,this._resource=new q(t,"arraybuffer",n),this._transparentColor=e}get bustCache(){return this._resource.bustCache}set bustCache(t){this._resource.bustCache=t}async load(){const t=await this._resource.load();this._stream=new Hs(t),this._gif=new Ws(this._stream,this._transparentColor);const e=this._gif.images.map((t=>new rt(t.src,!1)));return await Promise.all(e.map((t=>t.load()))),this.data=this._textures=e}isLoaded(){return!!this.data}toSprite(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[t].toSprite()}toSpriteSheet(){const t=this._textures.map((t=>t.toSprite()));return new ot({sprites:t})}toAnimation(t){const e=this.toSpriteSheet(),n=e.sprites.length;return this._animation=Zn.fromSpriteSheet(e,_(0,n),t),this._animation}get readCheckBytes(){return this._gif.checkBytes}}const Ns=t=>t.reduce((function(t,e){return 2*t+e}),0),Us=t=>{const e=[];for(let n=7;n>=0;n--)e.push(!!(t&1<<n));return e};class Hs{constructor(t){if(this.data=null,this.len=0,this.position=0,this.readByte=()=>{if(this.position>=this.data.byteLength)throw new Error("Attempted to read past end of stream.");return this.data[this.position++]},this.readBytes=t=>{const e=[];for(let n=0;n<t;n++)e.push(this.readByte());return e},this.read=t=>{let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(this.readByte());return e},this.readUnsigned=()=>{const t=this.readBytes(2);return(t[1]<<8)+t[0]},this.data=new Uint8Array(t),this.len=this.data.byteLength,0===this.len)throw new Error("No data loaded from file")}}class Ws{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Magenta;this._st=null,this._handler={},this._transparentColor=null,this.frames=[],this.images=[],this.globalColorTable=[],this.checkBytes=[],this.parseColorTable=t=>{const e=[];for(let n=0;n<t;n++){const t="#"+this._st.readBytes(3).map((t=>{const e=t.toString(16);return 1===e.length?"0"+e:e})).join("");e.push(t)}return e},this.readSubBlocks=()=>{let t,e;e="";do{t=this._st.readByte(),e+=this._st.read(t)}while(0!==t);return e},this.parseHeader=()=>{const t={sig:null,ver:null,width:null,height:null,colorRes:null,globalColorTableSize:null,gctFlag:null,sorted:null,globalColorTable:[],bgColor:null,pixelAspectRatio:null};if(t.sig=this._st.read(3),t.ver=this._st.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=this._st.readUnsigned(),t.height=this._st.readUnsigned();const e=Us(this._st.readByte());t.gctFlag=e.shift(),t.colorRes=Ns(e.splice(0,3)),t.sorted=e.shift(),t.globalColorTableSize=Ns(e.splice(0,3)),t.bgColor=this._st.readByte(),t.pixelAspectRatio=this._st.readByte(),t.gctFlag&&(t.globalColorTable=this.parseColorTable(1<<t.globalColorTableSize+1),this.globalColorTable=t.globalColorTable),this._handler.hdr&&this._handler.hdr(t)&&this.checkBytes.push(this._handler.hdr)},this.parseExt=t=>{const e=t=>{this.checkBytes.push(this._st.readByte());const e=Us(this._st.readByte());t.reserved=e.splice(0,3),t.disposalMethod=Ns(e.splice(0,3)),t.userInput=e.shift(),t.transparencyGiven=e.shift(),t.delayTime=this._st.readUnsigned(),t.transparencyIndex=this._st.readByte(),t.terminator=this._st.readByte(),this._handler.gce&&this._handler.gce(t)&&this.checkBytes.push(this._handler.gce)},n=t=>{t.comment=this.readSubBlocks(),this._handler.com&&this._handler.com(t)&&this.checkBytes.push(this._handler.com)},i=t=>{this.checkBytes.push(this._st.readByte()),t.ptHeader=this._st.readBytes(12),t.ptData=this.readSubBlocks(),this._handler.pte&&this._handler.pte(t)&&this.checkBytes.push(this._handler.pte)},r=t=>{const e=t=>{this.checkBytes.push(this._st.readByte()),t.unknown=this._st.readByte(),t.iterations=this._st.readUnsigned(),t.terminator=this._st.readByte(),this._handler.app&&this._handler.app.NETSCAPE&&this._handler.app.NETSCAPE(t)&&this.checkBytes.push(this._handler.app)},n=t=>{t.appData=this.readSubBlocks(),this._handler.app&&this._handler.app[t.identifier]&&this._handler.app[t.identifier](t)&&this.checkBytes.push(this._handler.app[t.identifier])};if(this.checkBytes.push(this._st.readByte()),t.identifier=this._st.read(8),t.authCode=this._st.read(3),"NETSCAPE"===t.identifier)e(t);else n(t)},s=t=>{t.data=this.readSubBlocks(),this._handler.unknown&&this._handler.unknown(t)&&this.checkBytes.push(this._handler.unknown)};switch(t.label=this._st.readByte(),t.label){case 249:t.extType="gce",e(t);break;case 254:t.extType="com",n(t);break;case 1:t.extType="pte",i(t);break;case 255:t.extType="app",r(t);break;default:t.extType="unknown",s(t)}},this.parseImg=t=>{t.leftPos=this._st.readUnsigned(),t.topPos=this._st.readUnsigned(),t.width=this._st.readUnsigned(),t.height=this._st.readUnsigned();const e=Us(this._st.readByte());t.lctFlag=e.shift(),t.interlaced=e.shift(),t.sorted=e.shift(),t.reserved=e.splice(0,2),t.lctSize=Ns(e.splice(0,3)),t.lctFlag&&(t.lct=this.parseColorTable(1<<t.lctSize+1)),t.lzwMinCodeSize=this._st.readByte();const n=this.readSubBlocks();t.pixels=function(t,e){let n=0;const i=function(t){let i=0;for(let r=0;r<t;r++)e.charCodeAt(n>>3)&1<<(7&n)&&(i|=1<<r),n++;return i},r=[],s=1<<t,o=s+1;let a=t+1,l=[];const c=function(){l=[],a=t+1;for(let t=0;t<s;t++)l[t]=[t];l[s]=[],l[o]=null};let h,d;for(;;)if(d=h,h=i(a),h!==s){if(h===o)break;if(h<l.length)d!==s&&l.push(l[d].concat(l[h][0]));else{if(h!==l.length)throw new Error("Invalid LZW code.");l.push(l[d].concat(l[d][0]))}r.push.apply(r,l[h]),l.length===1<<a&&a<12&&a++}else c();return r}(t.lzwMinCodeSize,n),t.interlaced&&(t.pixels=((t,e)=>{const n=new Array(t.length),i=t.length/e,r=(i,r)=>{const s=t.slice(r*e,(r+1)*e);n.splice.apply(n,[i*e,e].concat(s))},s=[0,4,2,1],o=[8,8,4,2];let a=0;for(let l=0;l<4;l++)for(let t=s[l];t<i;t+=o[l])r(t,a),a++;return n})(t.pixels,t.width)),this.frames.push(t),this.arrayToImage(t),this._handler.img&&this._handler.img(t)&&this.checkBytes.push(this._handler)},this.parseBlock=()=>{const t={sentinel:this._st.readByte(),type:""};switch(String.fromCharCode(t.sentinel)){case"!":t.type="ext",this.parseExt(t);break;case",":t.type="img",this.parseImg(t);break;case";":t.type="eof",this._handler.eof&&this._handler.eof(t)&&this.checkBytes.push(this._handler.eof);break;default:throw new Error("Unknown block: 0x"+t.sentinel.toString(16))}"eof"!==t.type&&this.parseBlock()},this.arrayToImage=t=>{let e=0;const n=document.createElement("canvas");n.id=e.toString(),n.width=t.width,n.height=t.height,e++;const i=n.getContext("2d");let r=0,s=0;for(let a=0;a<t.pixels.length;a++)s%t.width===0&&(r++,s=0),this.globalColorTable[t.pixels[a]]===this._transparentColor.toHex()?i.fillStyle="rgba(0, 0, 0, 0)":i.fillStyle=this.globalColorTable[t.pixels[a]],i.fillRect(s,r,1,1),s++;const o=new Image;o.src=n.toDataURL(),this.images.push(o)},this._st=t,this._handler={},this._transparentColor=e,this.parseHeader(),this.parseBlock()}}class Vs{constructor(t,e){let{bustCache:n,...i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.path=t,this.family=e,this._isLoaded=!1,this._resource=new q(t,"blob",n),this._options=i}async load(){if(this.isLoaded())return this.data;try{const t=await this._resource.load(),e=URL.createObjectURL(t);this.data||(this.data=new FontFace(this.family,"url(".concat(e,")")),document.fonts.add(this.data)),await this.data.load(),this._isLoaded=!0}catch(t){throw"Error loading FontSource from path '".concat(this.path,"' with error [").concat(t.message,"]")}return this.data}isLoaded(){return this._isLoaded}toFont(t){return new Bi({family:this.family,...this._options,...t})}}const Gs=/^\s*(?:function)?\*/;function qs(t){return"function"===typeof t&&(!!Gs.test(Function.prototype.toString.call(t))||!!Object.getPrototypeOf&&Object.getPrototypeOf(t)===Object.getPrototypeOf(new Function("return function * () {}")()))}function Xs(){let t,e,n,i;qs(arguments.length<=0?void 0:arguments[0])&&(e=globalThis,t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]),qs(arguments.length<=1?void 0:arguments[1])&&(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]),(arguments.length<=1?void 0:arguments[1])instanceof As&&(e=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),(arguments.length<=0?void 0:arguments[0])instanceof As&&(e=globalThis,i=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]);const r=null===n||void 0===n?void 0:n.timing;let s;try{s=null!==i&&void 0!==i?i:As.useEngine()}catch(a){throw Error("Cannot run coroutine without engine parameter outside of an excalibur lifecycle method.\nPass an engine parameter to ex.coroutine(engine, function * {...})")}const o=t.bind(e);return new Promise(((t,e)=>{const n=o(),i=o=>{try{const{done:e,value:a}=n.next(o);e&&t(),a instanceof Promise?a.then((()=>{s.clock.schedule(i,0,r)})):void 0===a||void 0===a?s.clock.schedule(i,0,r):s.clock.schedule(i,a||0,r)}catch(Gm){e(Gm)}};i(s.clock.elapsed())}))}class Qs extends Xn{get progress(){return this._currentProgress}get complete(){return"out"===this.direction?this.progress>=1:this.progress<=0}constructor(t){var e,n,i,r;super(),this._logger=R.getInstance(),this.transform=new hn,this.graphics=new ti,this._completeFuture=new c,this.started=!1,this._currentDistance=0,this._currentProgress=0,this.done=this._completeFuture.promise,this.name="Transition#".concat(this.id),this.duration=t.duration,this.easing=null!==(e=t.easing)&&void 0!==e?e:ri.Linear,this.direction=null!==(n=t.direction)&&void 0!==n?n:"out",this.hideLoader=null!==(i=t.hideLoader)&&void 0!==i&&i,this.blockInput=null!==(r=t.blockInput)&&void 0!==r&&r,this.transform.coordPlane=Je.Screen,this.transform.pos=A.Zero,this.transform.z=1/0,this.graphics.anchor=A.Zero,this.addComponent(this.transform),this.addComponent(this.graphics),"out"===this.direction?this._currentProgress=0:this._currentProgress=1}updateTransition(t,e){this.complete||(this._currentDistance+=m(e/this.duration,0,1),this._currentDistance>=1&&(this._currentDistance=1),"out"===this.direction?this._currentProgress=m(this.easing(this._currentDistance,0,1,1),0,1):this._currentProgress=m(this.easing(this._currentDistance,1,0,1),0,1))}async onPreviousSceneDeactivate(t){}onStart(t){}onUpdate(t){}onEnd(t){}onReset(){}reset(){this.started=!1,this._completeFuture=new c,this.done=this._completeFuture.promise,this._currentDistance=0,"out"===this.direction?this._currentProgress=0:this._currentProgress=1,this.onReset()}play(t,e){this.started&&(this.reset(),this._logger.warn("Attempted to play a transition ".concat(this.name," that is already playing, reset transition.")));(null!==e&&void 0!==e?e:t.currentScene).add(this);const n=this;return Xs(t,(function*(){for(;!n.complete;){const e=yield;n.updateTransition(t,e),n.execute()}}))}execute(){this.isInitialized&&(this.started||(this.started=!0,this.onStart(this.progress)),this.onUpdate(this.progress),this.complete&&!this._completeFuture.isCompleted&&(this.onEnd(this.progress),this._completeFuture.resolve()))}}class Ks extends Qs{constructor(t){var e,n;super({...t,duration:null!==(e=t.duration)&&void 0!==e?e:2e3}),this.name="FadeInOut#".concat(this.id),this.color=null!==(n=t.color)&&void 0!==n?n:C.Black}onInitialize(t){this.transform.pos=t.screen.unsafeArea.topLeft,this.screenCover=new ei({width:t.screen.resolution.width,height:t.screen.resolution.height,color:this.color}),this.graphics.add(this.screenCover),this.graphics.opacity=this.progress}onReset(){this.graphics.opacity=this.progress}onStart(t){this.graphics.opacity=t}onEnd(t){this.graphics.opacity=t}onUpdate(t){this.graphics.opacity=t}}class Ys extends Qs{constructor(t){super({direction:"in",...t}),this.name="CrossFade#".concat(this.id)}async onPreviousSceneDeactivate(t){this.image=await t.engine.screenshot(!0),await this.image.decode()}onInitialize(t){this.engine=t,this.transform.pos=t.screen.unsafeArea.topLeft,this.screenCover=rt.fromHtmlImageElement(this.image).toSprite(),this.graphics.add(this.screenCover),this.transform.scale=S(1/t.screen.pixelRatio,1/t.screen.pixelRatio),this.graphics.opacity=this.progress}onStart(t){this.graphics.opacity=this.progress}onReset(){this.graphics.opacity=this.progress}onEnd(t){this.graphics.opacity=t}onUpdate(t){this.graphics.opacity=t}}class Zs extends Y{constructor(t){super(),this.color=C.Black,this.thickness=1;const{start:e,end:n,color:i,thickness:r}=t;this.start=e,this.end=n,this.color=null!==i&&void 0!==i?i:this.color,this.thickness=null!==r&&void 0!==r?r:this.thickness,this._localBounds=this._calculateBounds();const{width:s,height:o}=this._localBounds;this.width=s,this.height=o}get localBounds(){return this._localBounds}_calculateBounds(){const t=this.end.sub(this.start).normal(),e=this.thickness/2,n=[this.start.add(t.scale(e)),this.end.add(t.scale(e)),this.end.add(t.scale(-e)),this.start.add(t.scale(-e))];return B.fromPoints(n)}_drawImage(t,e,n){t.drawLine(this.start,this.end,this.color,this.thickness)}clone(){return new Zs({start:this.start,end:this.end,color:this.color,thickness:this.thickness})}}class Js extends Ht{get points(){return this._points}set points(t){this._points=t;const e=this.minPoint;this.width=this._points.reduce(((t,e)=>Math.max(e.x,t)),0)-e.x,this.height=this._points.reduce(((t,e)=>Math.max(e.y,t)),0)-e.y,this.flagDirty()}get minPoint(){return S(this._points.reduce(((t,e)=>Math.min(e.x,t)),1/0),this._points.reduce(((t,e)=>Math.min(e.y,t)),1/0))}constructor(t){super(t),this.points=t.points,this.filtering=J.Blended,this.rasterize()}clone(){return new Js({points:this.points.map((t=>t.clone())),...this.cloneGraphicOptions(),...this.cloneRasterOptions()})}execute(t){if(this.points&&this.points.length){t.beginPath();const e=this.minPoint.negate(),n=this.points[0].add(e);t.moveTo(n.x,n.y),this.points.forEach((n=>{t.lineTo(n.x+e.x,n.y+e.y)})),t.lineTo(n.x,n.y),t.closePath(),this.color&&t.fill(),this.strokeColor&&t.stroke()}}}const $s=5,to={},eo=()=>{for(const t in to)to[t]=0},no=(t,e)=>{const n=a.isEnabled("suppress-obsolete-message");to[t]<$s&&!n&&(R.getInstance().warn(t),console.trace&&e.showStackTrace&&console.trace()),to[t]++};function io(t){return t={message:"This feature will be removed in future versions of Excalibur.",alternateMethod:null,showStackTrace:!1,...t},function(e,n,i){if(i&&"function"!==typeof i.value&&"function"!==typeof i.get&&"function"!==typeof i.set)throw new SyntaxError("Only classes/functions/getters/setters can be marked as obsolete");const r="".concat(e.name||"").concat(e.name&&n?".":"").concat(n||""),s="".concat(r," is marked obsolete: ").concat(t.message)+(t.alternateMethod?" Use ".concat(t.alternateMethod," instead"):"");to[s]||(to[s]=0);const o=i?{...i}:e;if(!i){class e extends o{constructor(){no(s,t),super(...arguments)}}return e}return i&&i.value?(o.value=function(){return no(s,t),i.value.apply(this,arguments)},o):(i&&i.get&&(o.get=function(){return no(s,t),i.get.apply(this,arguments)}),i&&i.set&&(o.set=function(){return no(s,t),i.set.apply(this,arguments)}),o)}}class ro{constructor(){this._queue=[]}get length(){return this._queue.length}enqueue(){const t=new c;return this._queue.push(t),t.promise}dequeue(t){this._queue.shift().resolve(t)}}class so{constructor(t){this._count=t,this._waitQueue=new ro}get count(){return this._count}get waiting(){return this._waitQueue.length}async enter(){return 0!==this._count?(this._count--,Promise.resolve()):this._waitQueue.enqueue()}exit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0!==t){for(;0!==t&&0!==this._waitQueue.length;)this._waitQueue.dequeue(null),t--;this._count+=t}}}const oo="0.29.2";o()})();var Em=Cm.Agj,km=Cm.Bpo,Tm=Cm.Q1f,Pm=Cm.N$8,Rm=Cm.KQV,Im=Cm.D$R,Mm=Cm.Z58,Bm=Cm.EYj,Fm=Cm.nOB,Dm=Cm.M4G,jm=Cm.t6s;class Om extends Mm{constructor(){super(...arguments),this.pointText=new Bm({text:"Score: "+this.points,color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),this.opponentPointText=new Bm({text:"Opponent Score: "+this.opponentPoints,color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),this.timerSec=15,this.timerText=new Bm({text:"Timer: "+this.timerSec,color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),this.timer=new Dm({interval:1e3,fcn:()=>{this.timerSec--,this.timerText.text="Timer: "+this.timerSec},repeats:!0}),this.row=0,this.col=0,this.gameWidth=1e3,this.gameHeight=750,this.boxColor=[Tm.Violet,Tm.Orange,Tm.Yellow,Tm.Viridian,Tm.Magenta,Tm.Green,Tm.Gray,Tm.Vermilion,Tm.Viridian],this.randomColors=[],this.boxesInfo=[],this.currCoords={},this.initializeMeds=t=>{const e=20,n=t.drawWidth/5-e-4,i=t.drawWidth/5-e-4,r=[];for(let s=0;s<3;s++){const t=[];for(let o=0;o<5;o++){let a=this.boxColor[Math.floor(Math.random()*this.boxColor.length)];this.randomColors.includes(a)||this.randomColors.push(a),t.push({x:65+o*(n+e)+e,y:60+s*(i+e)+e,color:a}),r.push(new Em({x:t[o].x,y:t[o].y,width:n,height:i,color:a}))}this.boxesInfo.push(t)}return r.forEach((function(e){t.add(e)})),r},this.initializeSelector=t=>{const e=20,n=65,i=60,r=t.drawWidth/5-e-4,s=t.drawWidth/5-e-4,o=[];for(let a=0;a<4;a++)o.push(new Em({x:a%2===0?85:1===a?0:r-6,y:a%2===0?(2===a?s-4:0)-7:80,width:a%2===0?r:5,height:a%2===0?5:s,color:Tm.Red}));return o.forEach((e=>{t.add(e)})),this.currCoords.x=n+this.col*(r+e)+e,this.currCoords.y=i+this.row*(s+e)+e,t.input.keyboard.on("press",(t=>{switch(t.key){case Im.W:0!==this.row&&(this.row--,this.selectorMovement(o,jm(0,-1*(s+e)),r,s,e,n,i));break;case Im.A:0!==this.col&&(this.col--,this.selectorMovement(o,jm(-1*(s+e),0),r,s,e,n,i));break;case Im.S:2!==this.row&&(this.row++,this.selectorMovement(o,jm(0,s+e),r,s,e,n,i));break;case Im.D:4!==this.col&&(this.col++,this.selectorMovement(o,jm(s+e,0),r,s,e,n,i));break;default:return}})),o},this.initializeCurrColor=t=>{this.currColor=this.randomColors[Math.floor(Math.random()*this.randomColors.length)];const e=new Em({x:this.gameWidth-100,y:this.gameHeight-70,radius:55,color:Tm.Red}),n=new Em({x:this.gameWidth-100,y:this.gameHeight-70,radius:50,color:this.currColor});t.add(e),t.add(n),t.input.keyboard.on("press",(t=>{t.key===Im.E&&(e.actions.moveTo(jm(this.currCoords.x,this.currCoords.y),2e3),n.actions.moveTo(jm(this.currCoords.x,this.currCoords.y),2e3),this.currColor===this.boxesInfo[this.row][this.col].color?(this.points+=100,this.pointText.text="Score: "+this.points,hp.emit(op.MY_SCORE_CHANGE,this.points)):(this.points-=50,this.pointText.text="Score: "+this.points,hp.emit(op.MY_SCORE_CHANGE,this.points)),e.actions.moveTo(jm(this.gameWidth-100,this.gameHeight-70),2e3),n.actions.moveTo(jm(this.gameWidth-100,this.gameHeight-70),2e3).callMethod((()=>{this.currColor=this.randomColors[Math.floor(Math.random()*this.randomColors.length)],n.color=this.currColor})))}))},this.initializeText=t=>{const e=new Em({pos:jm(170,this.gameHeight-30)}),n=new Bm({text:"WASD keys to select box\nE key to place medicine in box",color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),i=new Em({pos:jm(60,this.gameHeight-70)}),r=new Em({pos:jm(110,this.gameHeight-95)}),s=new Em({pos:jm(55,this.gameHeight-120)});[{actor:e,text:n},{actor:i,text:this.pointText},{actor:r,text:this.opponentPointText},{actor:s,text:this.timerText}].forEach((e=>{e.actor.graphics.use(e.text),t.currentScene.add(e.actor)}))}}onInitialize(t){console.log("INIT MEDICATION MATCHING"),this.initializeMeds(t),this.initializeSelector(t),this.initializeCurrColor(t),this.initializeText(t),t.currentScene.add(this.timer),this.timer.start()}onActivate(t){console.log("CONTEXT"),console.log(t),this.timerSec=15,this.points=t.data.yourScore,this.pointText.text="Score: "+this.points,this.opponentPoints=t.data.opponentScore,this.opponentPointText.text="Opponent Score: "+this.opponentPoints,setTimeout((()=>{t.data.games.splice(0,1);let e=t.data.games;this.engine.goToScene(t.data.games[0],{sceneActivationData:{yourScore:this.points,opponentScore:this.opponentPoints,games:e}})}),15e3)}onDeactivate(){}selectorMovement(t,e,n,i,r,s,o){t.forEach((t=>{t.actions.moveBy(e,1500)})),this.currCoords.x=s+this.col*(n+r)+r,this.currCoords.y=o+this.row*(i+r)+r}}class Lm extends Mm{constructor(){super(...arguments),this.gameHeight=750,this.gameWidth=1e3,this.initializeScore=t=>{const e=new Em({pos:jm(this.gameWidth/2,30)});return e.val=0,e.text=new Bm({text:"Score: "+e.val,color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),e.graphics.use(e.text),t.currentScene.add(e),e},this.initializeOpponentScore=t=>{const e=new Em({pos:jm(this.gameWidth/2,60)});return e.val=0,e.text=new Bm({text:"Opponent Score: "+e.val,color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})}),e.graphics.use(e.text),t.currentScene.add(e),e}}onInitialize(t){console.log("STARTING HEARTBEAT GAME"),this.initializeText(t),this.initializeTimeText(t),this.yourScore=this.initializeScore(this.engine),this.opponentScore=this.initializeOpponentScore(this.engine),this.initializeBar(t,this.yourScore);const e=()=>{const t=Math.floor(1201*Math.random())+300;setTimeout((()=>{this.timeText.time>0&&this.initProjectile(this.engine,this.yourScore),e()}),t)};e(),this.engine=t}onActivate(t){console.log("CONTEXT"),console.log(t),this.timeText.time=30,this.yourScore.val=t.data.yourScore,this.opponentScore.val=t.data.opponentScore,setTimeout((()=>{t.data.games.splice(0,1);let e=t.data.games;this.engine.goToScene(t.data.games[0],{sceneActivationData:{yourScore:this.yourScore.val,opponentScore:this.opponentScore.val,games:e}})}),3e4)}onDeactivate(){}initializeBar(t,e){const n=new Em({x:100,y:this.gameHeight/2,color:Tm.Red,width:10,height:this.gameHeight});n.body.collisionType=km.Fixed;let i=!1,r=!1;var s=null;t.add(n),t.input.keyboard.on("press",(t=>{t.key===Im.Space&&(n.color=Tm.Green,i=!0,setTimeout((()=>{i=!1}),100))})),n.on("collisionstart",(t=>{s=t.other,r=!0})),n.on("collisionend",(t=>{r=!1})),t.on("postupdate",(()=>{r&&i&&s&&(s.kill(),this.yourScore.val+=100,hp.emit(op.MY_SCORE_CHANGE,this.yourScore.val),this.yourScore.text.text="Score: "+this.yourScore.val)})),setInterval((()=>{i=!1,n.color=Tm.Red}),300)}initProjectile(t,e){const n=new Em({x:this.gameWidth,y:Math.max(200,Math.round(600*Math.random())),radius:55,color:Tm.Yellow}),i=jm(-600,0);n.vel=i,n.body.collisionType=km.Passive,t.add(n),n.on("postupdate",(()=>{(n.pos.x<-50||n.pos.y<0||n.pos.x>t.drawWidth||n.pos.y>t.drawHeight)&&(n.kill(),this.yourScore.val>0&&(this.yourScore.val-=50,hp.emit(op.MY_SCORE_CHANGE,this.yourScore.val),this.yourScore.text.text="Score: "+this.yourScore.val))}))}initializeText(t){const e=new Em({pos:jm(this.gameWidth/2,this.gameHeight-30)}),n=new Bm({text:"Press the Space bar when the circle reaches the vertical line.",color:Tm.White,font:new Rm({size:24,textAlign:Fm.Left})});e.graphics.use(n),t.currentScene.add(e)}initializeTimeText(t){this.timeText=new Em({pos:jm(this.gameWidth-100,30)}),this.timeText.time=30,this.timeText.text=new Bm({text:"Time left: "+this.timeText.time+" sec",color:Tm.White,font:new Rm({size:14,textAlign:Fm.Left})}),this.timeText.graphics.use(this.timeText.text),t.currentScene.add(this.timeText),setInterval((()=>{this.timeText.time-=1,this.timeText.time>=0&&(this.timeText.text.text="Time left: "+this.timeText.time+" sec")}),1e3)}}class zm extends Mm{constructor(){super(...arguments),this.gameWidth=1e3,this.gameHeight=750,this.initializeScore=t=>{const e=new Em({pos:jm(this.gameWidth/2,this.gameHeight/2+50)});return e.val=0,e.text=new Bm({text:"Score: "+e.val,color:Tm.White,font:new Rm({size:30,textAlign:Fm.Left})}),e.graphics.use(e.text),t.currentScene.add(e),e},this.initializeOpponentScore=t=>{const e=new Em({pos:jm(this.gameWidth/2,this.gameHeight/2+85)});return e.val=0,e.text=new Bm({text:"Opponent Score: "+e.val,color:Tm.White,font:new Rm({size:30,textAlign:Fm.Left})}),e.graphics.use(e.text),t.currentScene.add(e),e}}onInitialize(t){console.log("STARTING RESULTS SCREEN"),this.engine=t,this.initializeText(t),this.yourScore=this.initializeScore(this.engine),this.opponentScore=this.initializeOpponentScore(this.engine)}onActivate(t){console.log(t),this.yourScore.val=t.data.yourScore,this.opponentScore.val=t.data.opponentScore,this.yourScore.text.text="Score: "+this.yourScore.val,this.opponentScore.text.text="Opponent Score: "+this.opponentScore.val}onDeactivate(){}initializeText(t){const e=new Em({pos:jm(this.gameWidth/2,this.gameHeight/2-40)}),n=new Bm({text:"Game over!",color:Tm.White,font:new Rm({size:80,textAlign:Fm.Left})});e.graphics.use(n),t.currentScene.add(e)}}function Nm(){const t=(0,r.useRef)(null),e=(0,r.useRef)();return(0,r.useEffect)((()=>{!e.current&&t.current&&((t,e)=>{if(!e.current)return;t.current=new Pm({canvasElement:e.current,width:1e3,height:750});const n=t.current;n.add("heartbeatrhythm",new Lm),n.add("medicationmatching",new Om),n.add("gameresults",new zm);let i=["heartbeatrhythm","medicationmatching","heartbeatrhythm","gameresults"];n.goToScene(i[0],{sceneActivationData:{yourScore:0,opponentScore:0,games:i}}),n.start()})(e,t),hp.on(op.OPPONENT_SCORE_CHANGE,(t=>{e.current.scenes.medicationmatching.opponentPointText.text="Opponent Score: "+t,e.current.scenes.medicationmatching.opponentPoints=t,e.current.scenes.heartbeatrhythm.opponentScore.text.text="Opponent Score: "+t,e.current.scenes.heartbeatrhythm.opponentScore.val=t}))}),[]),(0,mn.jsxs)("div",{id:"about-screen",children:[(0,mn.jsx)(ai,{sx:{bgcolor:"black",width:"100%",height:"100%",position:"absolute"},children:(0,mn.jsx)("canvas",{ref:t,id:"gameCanvas"})}),(0,mn.jsx)(fh,{}),(0,mn.jsx)(Qc,{})]})}function Um(){const{auth:t}=(0,r.useContext)(Pn),[e,n]=(0,r.useState)(void 0);return console.log(e),(0,r.useEffect)((()=>{console.log("HomeWrapper useEffect"),console.log("auth.loggedIN: "+t.loggedIn),t.loggedIn?n(!0):n(!1)}),[t.loggedIn]),void 0===e?null:e?(0,mn.jsx)(dp,{}):(0,mn.jsx)(jo,{})}const Hm=t=>{let{children:e}=t;const{auth:n}=(0,r.useContext)(Pn),{store:i}=(0,r.useContext)(Gn),s=et();return Rn.interceptors.response.use((t=>t),(t=>{let e=t.response;throw(404===e.status||401===e.status)&&(i.reset(),s("/"),n.error(e.data.errorMessage)),t})),e},Wm={bgcolor:"#3A9158",":hover":{bgcolor:"#2d7044"}},Vm=()=>(0,mn.jsx)(xt,{children:(0,mn.jsx)(Tn,{children:(0,mn.jsx)(Vn,{children:(0,mn.jsx)(Hm,{children:(0,mn.jsxs)(mt,{children:[(0,mn.jsx)(ft,{path:"/",exact:!0,element:(0,mn.jsx)(Um,{})}),(0,mn.jsx)(ft,{path:"/login/",exact:!0,element:(0,mn.jsx)(Kc,{})}),(0,mn.jsx)(ft,{path:"/register/",exact:!0,element:(0,mn.jsx)(Yc,{})}),(0,mn.jsx)(ft,{path:"/about/",exact:!0,element:(0,mn.jsx)(fp,{})}),(0,mn.jsx)(ft,{path:"/settings/",exact:!0,element:(0,mn.jsx)(yf,{})}),(0,mn.jsx)(ft,{path:"/social/",exact:!0,element:(0,mn.jsx)(bf,{})}),(0,mn.jsx)(ft,{path:"/forum/",exact:!0,element:(0,mn.jsx)(cg,{})}),(0,mn.jsx)(ft,{path:"/mapsearch/",exact:!0,element:(0,mn.jsx)(Dg,{})}),(0,mn.jsx)(ft,{path:"/mapbuilder/",exact:!0,element:(0,mn.jsx)(_m,{})}),(0,mn.jsx)(ft,{path:"/profile/",exact:!0,element:(0,mn.jsx)(Fg,{})}),(0,mn.jsx)(ft,{path:"/game/",exact:!0,element:(0,mn.jsx)(Nm,{})}),(0,mn.jsx)(ft,{path:"/post/",exact:!0,element:(0,mn.jsx)(hg,{})}),(0,mn.jsx)(ft,{path:"/newthread/",exact:!0,element:(0,mn.jsx)(dg,{})}),(0,mn.jsx)(ft,{path:"/leaderboard/",exact:!0,element:(0,mn.jsx)(sg,{})}),(0,mn.jsx)(ft,{path:"/reports/",exact:!0,element:(0,mn.jsx)(bm,{})})]})})})})});o.createRoot(document.getElementById("root")).render((0,mn.jsx)(Vm,{}))})()})();
//# sourceMappingURL=main.b9abd7ce.js.map